<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>EPS-TOPIK Vocabulary Trainer</title>
<style>
  :root{
    --bg:#0a1522; --panel:#0f1f33; --ink:#eaf2ff; --muted:#a8bed8;
    --accent:#38bdf8; --accent-2:#22d3ee; --line:rgba(255,255,255,.08);
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:system-ui,-apple-system,Segoe UI,Arial,sans-serif;
    background:linear-gradient(180deg,#08121d,#0a1522 60%,#06101b);
    color:var(--ink);
  }
  header{
    position:sticky; top:0; z-index:10;
    background:linear-gradient(180deg,rgba(10,21,34,.95),rgba(10,21,34,.85));
    backdrop-filter: blur(6px) saturate(120%);
    padding:16px 14px; border-bottom:1px solid var(--line);
  }
  h1{margin:0; font-size:1.2rem; letter-spacing:.4px}
  .wrap{max-width:1000px; margin:14px auto 60px; padding:0 12px}

  .toolbar{
    display:grid; grid-template-columns:1fr auto; gap:10px; align-items:center; margin:12px 0 10px;
  }
  
  .toolbar input{
    padding:10px 12px; border-radius:10px; border:1px solid var(--line);
    background:#0b1a2b; color:var(--ink); outline:none;
  }
  .toolbar button{
    appearance:none; border:none; cursor:pointer;
    padding:10px 14px; border-radius:10px; font-weight:800; letter-spacing:.3px;
    background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#062135;
  }

  .filters{ display:flex; flex-wrap:wrap; gap:8px; margin:6px 0 10px; }
  .pill{
    border:1px solid var(--line); border-radius:999px; padding:7px 12px; font-weight:700; font-size:.92rem;
    background:#0b1a2b; color:#cfe3ff; cursor:pointer; user-select:none;
    transition:filter .15s ease, transform .06s ease;
  }
  .pill:hover{filter:brightness(1.08)}
  .pill:active{transform:translateY(1px)}
  .pill.active{background:linear-gradient(90deg,var(--accent),var(--accent-2)); color:#062135}

  .list{
    border:1px solid var(--line); border-radius:14px; overflow:hidden;
    background:linear-gradient(180deg,#0e1e30,#0b1929);
  }
  /* âœ 3 columns na lang: Page | KO/EN | Audio */
  .head, .row{
    display:grid; grid-template-columns: 48px 1fr 54px;
    align-items:center; gap:6px; padding:10px 12px; border-bottom:1px solid var(--line);
  }
  .head{position:sticky; top:0px; background:#10213a; z-index:5; font-weight:800; color:#cfe3ff}
  .row{position:relative}
  .row:last-child{border-bottom:none}

  /* Page number mas maliit */
  .num{
    font-variant-numeric: tabular-nums; color:#b9d8ff; font-weight:800;
    font-size:.85rem; opacity:.95;
  }

  /* Pinagsamang KO + EN */
  .koen{display:flex; flex-direction:column; gap:4px; min-width:0}
  .ko-line{
    font-weight:900; font-size:1.02rem; display:flex; align-items:center; gap:8px;
    overflow-wrap:anywhere; word-break:break-word;
  }
  .en-line{
    color:#cfe0fb; font-size:.93rem; line-height:1.15;
    overflow-wrap:anywhere; word-break:break-word;
  }

  .play{
    justify-self:end; width:40px; height:40px; border-radius:10px; display:grid; place-items:center;
    background:#0b1a2b; border:1px solid var(--line); cursor:pointer; transition:transform .08s ease, filter .15s ease;
  }
  .play:hover{filter:brightness(1.08); transform:translateY(-1px)}
  .play svg{width:20px; height:20px; fill:#7fd6ff}

  .toggle{
    width:18px; height:18px; border:1px solid var(--line); border-radius:4px; display:inline-grid; place-items:center;
    background:#092039; font-size:12px; line-height:1; cursor:pointer; user-select:none;
    flex:0 0 auto;
  }

  .exp{
    grid-column: 1 / -1; padding:10px 14px 12px; background:rgba(255,255,255,.03); border-top:1px solid var(--line);
    display:none; border-bottom-left-radius:12px; border-bottom-right-radius:12px;
  }
  .row.open + .exp{display:block}

  /* ===== Compact Tense Panel (stacked lines) ===== */
  .tenses{ display:flex; flex-direction:column; gap:8px; }
  .tense{
    border:1px solid var(--line); border-radius:10px; background:#091728;
    padding:10px 10px 8px; display:flex; flex-direction:column; gap:6px;
  }
  .t-head{ display:flex; align-items:center; justify-content:space-between; gap:8px; }
  .t-head b{ font-weight:800; color:#9bd7ff; font-size:.92rem; }
  .play-mini{
    width:30px; height:30px; border-radius:8px; border:1px solid var(--line);
    background:#0b1a2b; display:grid; place-items:center; cursor:pointer; flex:0 0 auto;
  }
  .play-mini svg{ width:16px; height:16px; fill:#7fd6ff; }

  .t-form{ font-weight:900; font-size:.98rem; line-height:1.1; }
  .t-eng{ color:var(--muted); font-size:.86rem; line-height:1.15; }

  .nohit{padding:18px; color:var(--muted)}
  mark{background:rgba(56,189,248,.22); color:#e8fbff; padding:0 .18em; border-radius:4px}

  /* ===== Mobile tweaks (para kasya lahat sa box) ===== */
  @media (max-width: 520px){
    .head, .row{ grid-template-columns: 42px 1fr 46px; gap:6px; padding:8px 10px; }
    .num{ font-size:.8rem; }
    .ko-line{ font-size:.96rem; }
    .en-line{ font-size:.86rem; }
    .play{ width:36px; height:36px; border-radius:8px; }

    .tense{ padding:8px 8px 6px; gap:4px; }
    .t-head b{ font-size:.88rem; }
    .t-form{ font-size:.94rem; }
    .t-eng{ font-size:.82rem; }
    .play-mini{ width:28px; height:28px; border-radius:7px; }
    .wrap{ margin:10px auto 56px; }
  }
  
</style>
</head>
<body>
  <!-- Floating Home Button -->
<a href="index.html" class="floating-home" aria-label="Go to Home">Home</a>

<style>
  .floating-home{
    position:fixed; top:0; right:0;
    background:linear-gradient(90deg, var(--cyan, #67e8f9), var(--accent, #38bdf8));
    color:#072235; font-size:14px; font-weight:700; text-decoration:none;
    padding:8px 16px; border-radius:0 0 0 10px;
    box-shadow:0 6px 18px rgba(56,189,248,.35);
    z-index:9999; transition:all .25s ease;
    backdrop-filter:blur(8px) saturate(140%); -webkit-backdrop-filter:blur(8px) saturate(140%);
  }
  .floating-home:hover{
    filter:brightness(1.12);
    box-shadow:0 0 12px rgba(56,189,248,.55), 0 0 24px rgba(103,232,249,.45);
    transform:translateY(-1px);
  }
</style>

  <header>
    <h1>EPS-TOPIK BOOK 1 â€” Vocabulary Trainer</h1>
  </header>

  <div class="wrap">
    <!-- CATEGORY FILTERS (kept) -->
    <div class="filters" id="filters">
      <span class="pill active" data-cat="all">ALL</span>
      <span class="pill" data-cat="noun">Nouns</span>
      <span class="pill" data-cat="verb">Verbs</span>
      <span class="pill" data-cat="adjective">Adjectives</span>
      <span class="pill" data-cat="adverb">Adverbs</span>
    </div>

    <!-- SEARCH -->
    <div class="toolbar">
      <input id="q" type="search" placeholder="Searchâ€¦ (e.g., 'doctor', 'ë³‘ì›', '94')" />
      <button id="clearBtn" type="button">Clear</button>
	  <button id="playAllBtn" type="button">â–¶ Play All	</button>
<button id="stopAllBtn" type="button" style="display:none">â–  Stop</button>
<button id="randomPlayBtn" type="button">ğŸ”€ Random Play</button>

<small id="playStatus" style="opacity:.75;margin-left:8px"></small>

    </div>
	

    <!-- TABLE -->
    <div class="list" id="list">
      <div class="head">
        <div>Pg</div><div>Term (Korean / English)</div><div style="text-align:right">Audio</div>
      </div>
      <!-- rows injected here -->
    </div>
    <div class="nohit" id="nohit" style="display:none">No matches.</div>
  </div>

<script>
/* ========= Raw list ========= */
const RAW = `
êµ­ì  nationality 51
ë‚˜ë¼ country 51
ë„¤íŒ” Nepal 51
ëˆ„êµ¬ who 51
ë™í‹°ëª¨ë¥´ East Timor 51
ë¼ì˜¤ìŠ¤ Laos 51
ëª½ê³¨ Mongolia 51
ë¯¸ì–€ë§ˆ Myanmar 51
ë°©ê¸€ë¼ë°ì‹œ Bangladesh 51
ë² íŠ¸ë‚¨ Vietnam 51
ì‚¬ëŒ person 51
ìŠ¤ë¦¬ë‘ì¹´ Sri Lanka 51
ì–´ëŠ which 51
ìš°ì¦ˆë² í‚¤ìŠ¤íƒ„ Uzbekistan 51
ì´ë¦„ name 51
ì¸ë„ë„¤ì‹œì•„ Indonesia 51
ì¤‘êµ­ China 51
ìº„ë³´ë””ì•„ Cambodia 51
í‚¤ë¥´ê¸°ìŠ¤ìŠ¤íƒ„ Kyrgyzstan 51
íƒ€ì§€í‚¤ìŠ¤íƒ„ Tajikistan 51
íƒœêµ­ Thailand 51
íŒŒí‚¤ìŠ¤íƒ„ Pakistan 51
í•„ë¦¬í•€ The Philippines 51
í•œêµ­ Republic of Korea 51
ê°„í˜¸ì‚¬ nurse 54
ê²½ì°°ê´€ police officer 54
ê³µë¬´ì› public official 54
ê·¼ë¡œì worker 54
ê¸°ìˆ ì technician 54
ë„¤ yes 54
ë†ë¶€ farmer 54
ëª©ìˆ˜ carpenter 54
ì„ ìƒë‹˜ teacher (honorific) 54
ì†Œë°©ê´€ firefighter 54
ì”¨ Mr./Ms. 54
ì•„ë‹ˆìš” no 54
ì–´ë¶€ fisherperson 54
ìš”ë¦¬ì‚¬ cook 54
ìš´ì „ê¸°ì‚¬ driver 54
ì˜ì‚¬ doctor 54
ì €/ë‚˜ I 54
ì ì› clerk 54
ì§ì—… occupation 54
í•™ìƒ student 54
ê°€ìœ„ scissors 61
ê³„ì‚°ê¸° calculator 61
ê·¸ê²ƒ that (thing) 61
ë‹¬ë ¥ calendar 61
ë¬´ì—‡ what 61
ë¬¼ê±´ supply 61
ë­ what 61
ë³¼íœ (ballpoint) pen 61
ì‚¬ë¬´ì‹¤ office 61
ì‹œê³„ clock 61
ì•ˆê²½ glasses 61
ì—°í•„ pencil 61
ì´ê²ƒ this (thing) 61
ì €ê²ƒ that (thing over there) 61
ã…‹ ì¹¼ boxcutter 61
ì»´í“¨í„° computer 61
ì»µ cup 61
íœ´ëŒ€ì „í™” cell phone 61
íœ´ëŒ€í° cell phone 61
ê°€ë°© bag 64
ê°€ì¡±ì‚¬ì§„ family picture 64
ê±°ìš¸ mirror 64
ë² ê°œ pillow 64
ë¹— brush 64
ìƒí™œìš©í’ˆ daily necessities 64
ì—¬ê¶Œ passport 64
ì—´ì‡  key 64
ìš°ì‚° umbrella 64
ì´ë¶ˆ blanket 64
ì§€ê°‘ wallet 64
í™”ì¥í’ˆ cosmetics (skin care) 64
íœ´ì§€ toilet paper 64
ê°€êµ¬ furniture 71
ëƒ‰ì¥ê³  refrigerator 71
ì„¸íƒê¸° washer 71
ì†ŒíŒŒ sofa 71
ì‹íƒ table 71
ì—ì–´ì»¨ air conditioner 71
ì˜·ì¥ closet 71
ì˜ì chair 71
ì „ìë ˆì¸ì§€ microwave 71
ì „ìì œí’ˆ electronics 71
ì±…ìƒ desk 71
ì²­ì†Œê¸° vacuum cleaner 71
ì¹¨ëŒ€ bed 71
í…”ë ˆë¹„ì „ television 71
ê±°ê¸° there 74
ê±°ì‹¤ living room 74
ê¸°ìˆ™ì‚¬ dorm (dormitory) 74
ë¯¸ìš©ì‹¤ hair salon 74
ë°© room 74
ë³‘ì› hospital 74
ë¶€ì—Œ kitchen 74
ìŠˆí¼ë§ˆì¼“ supermarket 74
ì‹œì¥ market 74
ì‹ë‹¹ restaurant 74
ì•½êµ­ pharmacy 74
ì–´ë”” where 74
ì—¬ê¸° here 74
ìš°ì²´êµ­ post office 74
ì€í–‰ bank 74
ì¥ì†Œ place 74
ì €ê¸° over there 74
ì§‘ house 74
ì»¤í”¼ìˆ coffee shop 74
í¸ì˜ì  convenience store 74
í™”ì¥ì‹¤ restroom 74
íšŒì‚¬ workplace 74
ê°€ë‹¤ to go 81
ê³µë¶€(í•˜ë‹¤) study, to study 81
ì‡¼í•‘(í•˜ë‹¤) shopping, to shop 81
ì‰¬ë‹¤ to take a break 81
ì˜¤ë‹¤ to come 81
ìš”ë¦¬(í•˜ë‹¤) cooking, to cook 81
ìš´ë™(í•˜ë‹¤) exercise/sports, to exercise 81
ì¼(í•˜ë‹¤) work, to work 81
ì¼ìƒ everyday life 81
ã…ˆ ìë‹¤ to sleep 81
ì „í™”(í•˜ë‹¤) call, to call 81
í•˜ë‹¤ to do 81
ê³¼ì snack 84
ë§ˆì‹œë‹¤ to drink 84
ë¨¹ë‹¤ to eat 84
ë¬¼ water 84
ë³´ë‹¤ to watch 84
ë¹µ bread 84
ì‚¬ê³¼ apple 84
ì‹ ë¬¸ newspaper 84
ì˜í™” movie 84
ì˜¤ëŠ˜ today 84
ìš°ìœ  milk 84
ì½ë‹¤ to read 84
ì£¼ìŠ¤ juice 84
ì§€ê¸ˆ now 84
ì±… book 84
ì»¤í”¼ coffee 84
ê¸ˆìš”ì¼ Friday 91
ë‚´ì¼ tomorrow 91
ë§¤ì¼ everyday 91
ëª©ìš”ì¼ Thursday 91
ìˆ˜ìš”ì¼ Wednesday 91
ì–´ì œ yesterday 91
ìš”ì¼ days of the week 91
ì›”ìš”ì¼ Monday 91
ì¼ìš”ì¼ Sunday 91
ì£¼ë§ weekend 91
í† ìš”ì¼ Saturday 91
í‰ì¼ weekday 91
í™”ìš”ì¼ Tuesday 91
1ì›” January 94
2ì›” February 94
3ì›” March 94
4ì›” April 94
5ì›” May 94
6ì›” June 94
7ì›” July 94
8ì›” August 94
9ì›” September 94
10ì›” October 94
11ì›” November 94
12ì›” December 94
êµ¬ nine 94
ë‚ ì§œ dates 94
ë‚´ë…„ next year 94
ë‹¤ìŒ ë‹¬ next month 94
ë‹¤ìŒ ì£¼ next week 94
ë¯¸ì—­êµ­ seaweed soup 94
ã…… ì‚¬ four 94
ì‚¼ three 94
ì‚¼ì‹­ thirty 94
ìƒì¼ birthday 94
ìˆ«ì number 94
ì‹­ ten 94
ì–¸ì œ when 94
ì˜¤ five 94
ì˜¬í•´ this year 94
ì›” month 94
ìœ¡ six 94
ì´ two 94
ì´ë²ˆ ë‹¬ this month 94
ì´ë²ˆ ì£¼ this week 94
ì´ì‹­ twenty 94
ì¼ day 94
ì¼ one 94
ì‘ë…„ last year 94
ì§€ë‚œë‹¬ last month 94
ì§€ë‚œì£¼ last week 94
ì¹œêµ¬ friend 94
ì¹  seven 94
ì¼€ì´í¬ cake 94
íŒ” eight 94
ë‚® daytime 101
ëª‡ ì‹œ what time 101
ë°˜ half 101
ë°¤ night 101
ë³´í†µ usually 101
ë¶„ minute 101
ìƒˆë²½ dawn 101
ì‹œ hour 101
ì‹œê°„ time 101
ì•„ì¹¨ morning 101
ìš”ì¦˜ these days 101
ì €ë… evening 101
ì ì‹¬ afternoon 101
ê²Œì„(í•˜ë‹¤) game, to play a game 104
ê³µì› park 104
ë‹¦ë‹¤ to brush/wipe 104
ë§Œë‚˜ë‹¤ to meet 104
ë§¤ì  snack bar 104
ì‚¬ë‹¤ to buy 104
ì‚°ì±…(í•˜ë‹¤) walk, to take a walk 104
ìƒ¤ì›Œ(í•˜ë‹¤) shower, to take a shower 104
ì‹ì‚¬(í•˜ë‹¤) meal, to have a meal 104
ì”»ë‹¤ to wash 104
ì´ tooth 104
ì¼ê³¼ daily routines 104
ì¼ì–´ë‚˜ë‹¤ to get up 104
ì¥ì„ ë³´ë‹¤ to go grocery shopping 104
ì²­ì†Œ(í•˜ë‹¤) clean, to clean 104
ì¶œê·¼(í•˜ë‹¤) going to work, to go to work 104
í‡´ê·¼(í•˜ë‹¤) leaving work, to leave work 104
íœ´ê²Œì‹¤ lounge 104
ê°€ì„ fall/autumn 111
ê²¨ìš¸ winter 111
ê³„ì ˆ seasons 111
ë„ˆë¬´ too (much) 111
ë¥ë‹¤ to be hot 111
ë”°ëœ»í•˜ë‹¤ to be warm 111
ëœ¨ê²ë‹¤ to be hot (for objects) 111
ë´„ spring 111
ì‰½ë‹¤ to be easy 111
ì‹œì›í•˜ë‹¤ to be cool 111
ì–´ë•Œìš”? How is it? 111
ì–´ë µë‹¤ to be difficult 111
ì—¬ë¦„ summer 111
ì˜ì–´ English 111
ì¡°ê¸ˆ a little 111
ì°¨ê°‘ë‹¤ to be cold (for objects) 111
ì¶¥ë‹¤ to be cold 111
ê·¸ì¹˜ë‹¤ to stop 114
ë‚˜ì˜ë‹¤ to be bad 114
ë‚ ì”¨ weather 114
ëˆˆì´ ì˜¤ë‹¤ to snow 114
ë§ì´ many/much 114
ë§‘ë‹¤ to be clear 114
ë°”ëŒì´ ë¶ˆë‹¤ to be windy 114
ë³„ë¡œ not really 114
ë¹„ê°€ ì˜¤ë‹¤ to rain 114
ì—¬ë³´ì„¸ìš”? hello? (on the phone) 114
ì •ë§ really/truly 114
ì¢‹ë‹¤ to be good 114
íë¦¬ë‹¤ to be cloudy 114
ê°€ì¡± family 121
ê³„ì‹œë‹¤ to exist (honorific) 121
ã„´ ë‚˜ me 121
ë‚˜ì´ age 121
ë‚¨ë™ìƒ younger brother 121
ë‚¨ë§¤ brother and sister 121
ë‚¨ì man 121
ë‚¨í¸ husband 121
ëˆ„ë‚˜ older sister (to a younger brother) 121
ëŒ house (honorific) 121
ë“œì‹œë‹¤ to eat (honorific) 121
ë”¸ daughter 121
ë§ˆë‹¹ yard 121
ë§(í•˜ë‹¤) speech, to speak 121
ë§ì”€í•˜ì‹œë‹¤ to speak (honorific) 121
ë¶€ëª¨ë‹˜ parents 121
ë¹„ë¹”ë°¥ bibimbap 121
ì„±í•¨ name (honorific) 121
ì•„ë‚´ wife 121
ì•„ë“¤ son 121
ì•„ë²„ì§€ father 121
ì•„ë¹  dad 121
ì•„í”„ë‹¤ to be sick 121
ì–´ë¨¸ë‹ˆ mother 121
ì–¸ë‹ˆ older sister (to a younger sister) 121
ì—„ë§ˆ mom 121
ì—¬ë™ìƒ younger sister 121
ì—¬ì woman 121
ì—°ì„¸ age (honorific) 121
ì˜¤ë¹  older brother (to a younger sister) 121
ìˆë‹¤ to exist 121
ìë§¤ sisters 121
ì¡ìˆ˜ì‹œë‹¤ to eat (honorific) 121
ì£¼ë¬´ì‹œë‹¤ to sleep (honorific) 121
ì°½ë¬¸ window 121
í¸ì°®ìœ¼ì‹œë‹¤ to be sick (honorific) 121
í”¼ì pizza 121
í• ë¨¸ë‹ˆ grandmother 121
í• ì•„ë²„ì§€ grandfather 121
í˜• older brother (to a younger brother) 121
í˜•ì œ brothers 121
ê·€ì—½ë‹¤ to be cute 124
ê¸¸ë‹¤ to be long 124
ë˜‘ë˜‘í•˜ë‹¤ to be smart 124
ë¨¸ë¦¬ hair/head 124
ë©‹ìˆë‹¤ to be goodlooking 124
ì„±ê²© personality 124
ì„±ê²©ì´ ê¸‰í•˜ë‹¤ to be impatient 124
ì–Œì „í•˜ë‹¤ to be calm 124
ì˜ˆì˜ë‹¤ to be pretty 124
ì™¸ëª¨ looks 124
ì˜ìƒê¸°ë‹¤ to be handsome 124
ì¬ë¯¸ìˆë‹¤ to be interesting 124
ì§§ë‹¤ to be short 124
ì°©í•˜ë‹¤ to be nice 124
ì¹œì ˆí•˜ë‹¤ to be kind 124
í‚¤ê°€ ì‘ë‹¤ to be short 124
í‚¤ê°€ í¬ë‹¤ to be tall 124
í™œë°œí•˜ë‹¤ to be active 124
ê¹€ë°¥ gimbap 131
ê¹€ì¹˜ì°Œê°œ kimchi-jjigae (kimchi stew) 131
ëˆê°€ìŠ¤ pork cutlet 131
ëœì¥ì°Œê°œ doenjang-jjigae (soybean paste stew) 131
ã„¹ ë¼ë©´ ramen 131
ë§›ì—†ë‹¤ to be not delicious 131
ë§›ìˆë‹¤ to be dilicious 131
ë¶ˆê³ ê¸° bulgogi 131
ì‹«ì–´í•˜ë‹¤ to dislike 131
ìš°ë™ udon 131
ìŒì‹ food 131
ìì¥ë©´ black-bean-sauce noodles 131
ì¢€ please 131
ì¢‹ì•„í•˜ë‹¤ to like 131
ì¹˜í‚¨ chicken 131
íƒ•ìˆ˜ìœ¡ sweet and sour pork 131
ê°œ thing (classifier) 134
ê³µê¸° bowl 134
ê¶Œ volume (classifier) 134
ê·¸ë¦‡ dish 134
ë„· four 134
ë‹¤ì„¯ five 134
ë‘˜ two 134
ë§ˆë¦¬ animal (classifier) 134
ëª… person (classifier) 134
ë³‘ bottle 134
ë¶„ person (honorific, classifier) 134
ë¶„ë¥˜ì‚¬ classifiers 134
ì…‹ three 134
ì•„í™‰ nine 134
ì—¬ëŸ eight 134
ì—¬ì„¯ six 134
ì—´ ten 134
ì¼ê³± seven 134
ì” cup 134
ì ‘ì‹œ plate 134
í•˜ëŠ˜ìƒ‰ one 134
ê°€ë³ë‹¤ to be light 141
ê³¼ì¼ fruit 141
ë”¸ê¸° strawberry 141
ë§ë‹¤ to be many/much 141
ë¬´ê²ë‹¤ to be heavy 141
ë¹„ì‹¸ë‹¤ to be expensive 141
ìƒì box 141
ìƒíƒœ state 141
ìƒí•˜ë‹¤ to be spoiled 141
ìˆ˜ë°• watermelon 141
ì‹±ì‹±í•˜ë‹¤ to be fresh 141
ì‹¸ë‹¤ to be cheap 141
ì˜¤ë Œì§€ orange 141
ì› won (Korean currency) 141
ì‘ë‹¤ to be small 141
ì˜ well 141
ì ë‹¤ to be few 141
í¬ë‹¤ to be big 141
ã„± ê°€ê²© price 144
ê°’ price 144
ê°’ì„ ê¹ë‹¤ to bargain 144
ê³„ì‚°(í•˜ë‹¤) payment, to pay 144
êµí™˜(í•˜ë‹¤) exchange, to exchange 144
êµ¬ë§¤(í•˜ë‹¤) purchase, to purchase 144
ë„£ë‹¤ to put in 144
ë‹«ë‹¤ to close 144
ëˆ money 144
ë™ì „ coin 144
ë“¤ë‹¤ to hold 144
ë§Œ ten thousand 144
ë¬¼í’ˆ item 144
ã…‚ ë°”ê¾¸ë‹¤ to exchange 144
ë°”ì§€ pants 144
ë°± hundred 144
ìƒí’ˆê¶Œ gift certificate 144
ì‹ ë°œ shoes 144
ì‹ ìš©ì¹´ë“œ credit card 144
ì‹¸ë‹¤ to wrap up/pack 144
ì–´ì§€ëŸ½ë‹¤ to be messy 144
ì¢…ì´ ê°€ë°© paper bag 144
ì§€í banknote 144
ì²œ thousand 144
í¬ì¥(í•˜ë‹¤) packing, to wrap up/pack 144
í•¨ê»˜ together 144
í˜„ê¸ˆ cash 144
í™”í currency 144
í™˜ë¶ˆ(í•˜ë‹¤) refund, to refund 144
ê°™ì´ together 151
ê·¸ë˜ì„œ so 151
ë”°ë¡œ separately 151
ë²„ë¦¬ë‹¤ to throw away 151
ë¶„ë¦¬ë°°ì¶œ(í•˜ë‹¤) separation and disposal, to separate and dispose 151
ìˆ˜ê±°í•¨ collection bin 151
ì‹œì‘(í•˜ë‹¤) start, to start 151
ì“°ë ˆê¸° waste/trash 151
ì“°ë ˆê¸°ë´‰íˆ¬ trash bag 151
ì“°ë ˆê¸°í†µ waste bin 151
ì˜· clothes 151
ìœ ë¦¬ glass 151
ìŒì‹ë¬¼ food 151
ì¼ë°˜ì“°ë ˆê¸° general waste 151
ì¬í™œìš©í’ˆ recyclable materials 151
ì¢…ì´ paper 151
ìº” can 151
í”Œë¼ìŠ¤í‹± plastic 151
í—Œ old 151
ê°‘ìê¸° suddenly 154
ê±¸ë ˆ cleaning cloth 154
ê·¸ëŸ¬ë©´ then 154
ëƒ„ë¹„ pot 154
ë‹¤ë¦¬ë¯¸ iron 154
ë„ì™€ì£¼ë‹¤ to help 154
ëŒë¦¬ë‹¤ to run 154
ë§Œë“¤ë‹¤ to make 154
ë¨¼ì§€ dust 154
ë¨¼ì§€ë¥¼ í„¸ë‹¤ to dust off 154
ë°”ë‹¥ floor 154
ë°¥ì†¥ rice cooker 154
ë°¥ì„ í•˜ë‹¤/ì§“ë‹¤ to cook rice 154
ë¹—ìë£¨ broom 154
ë¹¨ë˜(í•˜ë‹¤) laundry/to wash clothes 154
ë¹¨ë˜ë¥¼ ê±·ë‹¤ to take down the laundry 154
ë¹¨ë˜ë¥¼ ë„ë‹¤ to hang the laundry 154
ì„¤ê±°ì§€(í•˜ë‹¤) dish-washing, to wash the dishes 154
ì„¸íƒ ì„¸ì œ laundry detergent 154
ì“¸ë‹¤ to sweep 154
ì˜·ì„ ê°œë‹¤ to fold clothes 154
ì˜·ì„ ë‹¤ë¦¬ë‹¤ to iron clothes 154
ì™œ why 154
ì „ê¸°ë°¥ì†¥ electric rice cooker 154
ì •ë¦¬(í•˜ë‹¤) organization, to organize 154
ì£¼ë°© ì„¸ì œ dish soap 154
ì§‘ì•ˆì¼ household chores 154
ì²œì²œíˆ slowly 154
í”„ë¼ì´íŒ¬ frying pan 154
KTX Highspeed train (Korea Train Express) 161
ê±¸ë¦¬ë‹¤ (time) it takes 161
ê³ ì†ë²„ìŠ¤ express bus 161
ê³µí•­ airport 161
êµí†µìˆ˜ë‹¨ means of transportation 161
ê¸°ì°¨ train 161
ê¸°ì°¨ì—­ train station 161
ë§ˆì„ë²„ìŠ¤ local bus 161
ë°° ship 161
ë²„ìŠ¤ ì •ë¥˜ì¥ bus stop 161
ë²„ìŠ¤ í„°ë¯¸ë„ bus terminal 161
ë²ˆ times 161
ë¹„í–‰ê¸° airplane 161
ì‹œë‚´ë²„ìŠ¤ city bus 161
ì‹œì™¸ë²„ìŠ¤ intercity bus 161
ì–´ë–»ê²Œ how 161
ì–¼ë§ˆë‚˜ how much 161
ì˜¤í† ë°”ì´ motorcycle 161
ìì „ê±° bicycle 161
ì§€í•˜ì²  subway 161
ì§€í•˜ì² ì—­ subway station 161
ì¯¤ about/approximately 161
íƒ€ë‹¤ to ride 161
íƒì‹œ taxi 161
íŠ¸ëŸ­ truck 161
ê°€ê¹ë‹¤ to be close 164
ê°ˆì•„íƒ€ë‹¤ to transfer (bus/train/subway) 164
ê±·ë‹¤ to walk 164
ê±¸ì–´ê°€ë‹¤ to go on foot 164
ê±¸ì–´ì˜¤ë‹¤ to come on foot 164
ë‚´ë¦¬ë‹¤ to get off 164
ëŠ¦ë‹¤ to be late 164
ë©€ë‹¤ to be far 164
ë¯¸ì•ˆí•˜ë‹¤ to be sorry 164
ì´ë™(í•˜ë‹¤) movement, to move 164
ì§€ë‚˜ë‹¤ to pass 164
ã…Š ì°¨ê°€ ë§‰íˆë‹¤ to have a traffic jam 164
ì¶œê·¼ ì‹œê°„ work start time 164
ì¶œí‡´ê·¼ ì‹œê°„ rush hour 164
ã…Œ íƒ€ê³  ê°€ë‹¤ to go by (mode of transportation) 164
íƒ€ê³  ì˜¤ë‹¤ to come by (mode of transportation) 164
í‡´ê·¼ ì‹œê°„ work end time 164
í™˜ìŠ¹(í•˜ë‹¤) transfer, to transfer 164
ê³ í–¥ hometown 171
êµíšŒ church 171
ê¸°ë„(í•˜ë‹¤) prayer, to pray 171
ë‚®ì  nap 171
ë…¸ë˜ë¥¼ ë¶€ë¥´ë‹¤ to sing (a song) 171
ë…¸ë˜ë°© karaoke room 171
ëª¨ì„ meetings 171
ë°©ë¬¸(í•˜ë‹¤) visit, to visit 171
ì‚¬ì› mosque 171
ìƒí™œ life 171
ì˜ˆë¶ˆì„ ë“œë¦¬ë‹¤ to attend a Buddhist service 171
ìš´ë™ì¥ sports field 171
ì ˆ temple 171
ì¢…êµ religion 171
ì¶•êµ¬(í•˜ë‹¤) soccer, to play soccer 171
íƒêµ¬ë¥¼ ì¹˜ë‹¤ to play table tennis 171
íƒêµ¬ì¥ table tennis hall 171
í”¼ì‹œë°© PC room 171
í—¬ìŠ¤ë¥¼ í•˜ë‹¤ to work out 171
í—¬ìŠ¤ì¥ gym 171
í™œë™(í•˜ë‹¤) activity, to move 171
íœ´ì‹ relaxation 171
ê¸°ë¶„ mood 174
ê¸°ì˜ë‹¤ to be happy 174
ë¼ì§€ê³ ê¸° pork 174
ë°”ì˜ë‹¤ to be busy 174
ìˆ  alcohol 174
ìŠ¬í”„ë‹¤ to be sad 174
ì‹¬ì‹¬í•˜ë‹¤ to be bored 174
ì•½ì† appointment 174
ì¬ë¯¸ì—†ë‹¤ to be uninteresting 174
ì¦ê²ë‹¤ to be enjoyable 174
í”¼ê³¤í•˜ë‹¤ to be tired 174
í•œê°€í•˜ë‹¤ to not be busy 174
ê±´ë„ˆí¸ across from 181
ê±´ë¬¼ building 181
ê·¸ìª½ over there 181
ë’¤ behind 181
ë§ì€í¸ opposite 181
ë°‘ beneath 181
ë°– outside 181
ë°©í–¥ direction 181
ì‚¬ì´ between 181
ì•„ë˜ under 181
ì•ˆ inside 181
ì• in front of 181
ì˜† next to, side 181
ì˜¤ë¥¸ìª½ right 181
ì™¼ìª½ left 181
ìœ„ on 181
ìœ„ì¹˜ location 181
ì´ìª½ this way 181
ì €ìª½ that way 181
ìª½ way 181
ì¸µ floor 181
ê±´ë„ˆê°€ë‹¤ to cross 184
ê·¼ì²˜ nearby 184
ë‚˜ê°€ë‹¤ to go out 184
ë‚˜ì˜¤ë‹¤ to come out 184
ë‚´ë ¤ê°€ë‹¤ to go down 184
ë‚´ë ¤ì˜¤ë‹¤ to come down 184
ë“¤ì–´ê°€ë‹¤ to go in 184
ë“¤ì–´ì˜¤ë‹¤ to come in 184
ë§ˆíŠ¸ mart 184
ì‚¬ê±°ë¦¬ intersection 184
ì˜¥ìƒ rooftop 184
ì˜¬ë¼ê°€ë‹¤ to go up 184
ì˜¬ë¼ì˜¤ë‹¤ to come up 184
ìœ¡êµ overpass 184
ì§€í•˜ underground 184
íš¡ë‹¨ë³´ë„ crosswalk 184
êµ¬ë‘ (formal) shoes 191
ëª¨ì hat/cap 191
ë°˜ë°”ì§€ shorts 191
ì„ ê¸€ë¼ìŠ¤ sunglasses 191
ìŠ¬ë¦¬í¼ slippers 191
ì‹ ë‹¤ to wear (on feet) 191
ì“°ë‹¤ to wear (on the head) 191
ì•¡ì„¸ì„œë¦¬ accessories 191
ì–‘ë§ socks 191
ìš´ë™í™” sneakers 191
ì›í”¼ìŠ¤ dress 191
ì…ë‹¤ to wear 191
ì ë°” jacket 191
ì¥í™” rain boots 191
ì²­ë°”ì§€ jeans 191
ì¹˜ë§ˆ skirt 191
í‹°ì…”ì¸  t-shirt 191
ê°ˆìƒ‰ brown 194
ê²°í˜¼ì‹ wedding 194
ê¹Œë§Œìƒ‰ black 194
ë…¸ë€ìƒ‰ yellow 194
ë°ë‹¤ to be bright 194
ë³´ë¼ìƒ‰ violet 194
ë¶„í™ìƒ‰ pink 194
ë¹¨ê°„ìƒ‰ red 194
ìƒ‰ê¹” colors 194
ì‡¼í•‘ëª° shopping mall 194
ì–´ë‘¡ë‹¤ to be dark 194
ì£¼í™©ìƒ‰ orange 194
ì´ˆë¡ìƒ‰ green 194
íŒŒë€ìƒ‰ blue 194
ã… í•˜ë‚˜ sky blue 194
í•˜ì–€ìƒ‰ white 194
íšŒìƒ‰ gray 194
ê³„ì•½(í•˜ë‹¤) contract, to sign the contract 201
ê³„ì•½ê¸ˆì„ ë‚´ë‹¤ to pay the holding deposit 201
ê³ ì‹œì› goshiwon(a small room typically rented by students) 201
êµ¬í•˜ë‹¤ to find 201
ëë‚˜ë‹¤ to expire/end 201
ë³´ì¦ê¸ˆ security deposit 201
ë¶€ë™ì‚° real estate agency 201
ë¶€íƒ favor 201
ë¹Œë¼ small apartment 201
ì•„íŒŒíŠ¸ apartment 201
ì•Œì•„ë³´ë‹¤ to look for (a house) 201
ì˜¤í”¼ìŠ¤í…” officetel 201
ì›ë£¸ studio apartment 201
ì›”ì„¸ monthly rent 201
ì´ì‚¬(í•˜ë‹¤) move, to move 201
ì£¼ê±° í˜•íƒœ types of housing 201
ì£¼íƒ house 201
ì§‘ì„ ë³´ë‹¤ to view a house 201
í¸í•˜ë‹¤ to be comfortable 201
êµí†µ transportation 204
ê¹¨ë—í•˜ë‹¤ to be clean 204
ë„“ë‹¤ to be spacious 204
ë”ëŸ½ë‹¤ to be dirty 204
ë¶€ì¡±í•˜ë‹¤ to be lacking 204
ë¶ˆí¸í•˜ë‹¤ to be inconvenient 204
ì‹œë„ëŸ½ë‹¤ to be noisy 204
ì „ë§ view 204
ì¡°ìš©í•˜ë‹¤ to be quiet 204
ì¢ë‹¤ to be narrow/small 204
ì£¼ê±° í™˜ê²½ residential environment 204
í¸ë¦¬í•˜ë‹¤ to be convenient 204
í¸ì˜ ì‹œì„¤ facilities 204
ê³„íš(í•˜ë‹¤) plan, to plan 211
ê·¸ë˜ìš”? really? 211
ë„ì°©(í•˜ë‹¤) arrival, to arrive 211
ë¬µë‹¤ to stay 211
ë¯¼ë°• B&B (bed and breakfast) 211
ìˆ™ì†Œ accommodation 211
ì—¬í–‰(í•˜ë‹¤) travel/trip, to travel 211
ì˜ˆì•½(í•˜ë‹¤) booking, to book 211
ìœ ìŠ¤ í˜¸ìŠ¤í…” youth hostel 211
ì´ë²ˆ this time 211
ì§ luggage 211
ì¶œë°œ(í•˜ë‹¤) departure, to depart 211
ì½˜ë„ membership resort 211
íœì…˜ cottage/house rental 211
í‘œ ticket 211
í’€ë‹¤ to unpack 211
í˜¸í…” hotel 211
íœ´ê°€ vacation 211
ê°• river 214
ê²½ì¹˜ê°€ ì¢‹ë‹¤ to be scenic 214
ê´€ëŒ(í•˜ë‹¤) viewing, to view/watch 214
êµ¬ê²½(í•˜ë‹¤) sightseeing, to sightsee 214
ê¼­ definitely 214
ë†€ì´ê³µì› amusement park 214
ë‹¤ìŒ next 214
ë“±ì‚°(í•˜ë‹¤) hiking, to hike 214
ë¯¼ì†ì´Œ folk village 214
ë°”ë‹¤ sea 214
ì‚° moumtain 214
ì„¬ island 214
ì•„ë¦„ë‹µë‹¤ to be beautiful 214
ì•„ì£¼ very 214
ì—¬í–‰ì§€ travel destinations 214
ì˜¨ì²œ hot spring 214
ìœ ëª…í•˜ë‹¤ to be famous 214
ìœ ì ì§€ historic site 214
í•´ìˆ˜ìš•ì¥ beach 214
í˜¸ìˆ˜ lake 214
ê²½ê¸°(í•˜ë‹¤) game, to play a game 220
ê·¸ë¦¬ë‹¤ to draw 220
ê·¸ë¦¼ picture 220
ê¸°íƒ€ guitar 220
ë‚šì‹œ(í•˜ë‹¤) fish, to fish 220
ë…¸ë˜(í•˜ë‹¤) song, to sing 220
ë…ì„œ(í•˜ë‹¤) reading, to read (books) 220
ë“£ë‹¤ to listen 220
ë°°ìš°ë‹¤ to learn 220
ì‚¬ì§„ photo 220
ì‚´ë‹¤ to live 220
ì‹¤ë‚´ indoor 220
ì‹¤ì™¸ outdoor 220
ì™¸êµ­ì–´ foreign language 220
ìŒì•… music 220
ì¸í„°ë„· internet 220
ìì£¼ often 220
ì£¼ë¡œ mainly 220
ì°ë‹¤ to take 220
ì¶”ë‹¤ dance 220
ì·¨ë¯¸ hobby 220
ì¹˜ë‹¤ to hit 220
ì½˜ì„œíŠ¸ concert 220
í”¼ì•„ë…¸ piano 220
í˜ë“¤ë‹¤ to be difficult 220
ê³¨í”„ golf 224
ë†êµ¬(í•˜ë‹¤) basketball, to paly basketball 224
ë™í˜¸íšŒ club 224
ë°°ë“œë¯¼í„´ badminton 224
ë³¼ë§ bowling 224
ìˆ˜ì˜(í•˜ë‹¤) swimming, to swim 224
ìŠ¤ì¼€ì´íŠ¸ skate 224
ìŠ¤í‚¤ ski 224
ì•¼êµ¬(í•˜ë‹¤) baseball, to play baseball 224
ì¡°ê¹…(í•˜ë‹¤) jogging, to jog 224
í…Œë‹ˆìŠ¤ tennis 224
ê³ ì†Œí•˜ë‹¤ to be nutty 231
êµì‹¤ class 231
ë‹¤ë‹ˆë‹¤ to attend 231
ë‹¬ë‹¤ to be sweet 231
ë–¡ë³¶ì´ tteokbokki 231
ë ˆëª¬ lemon 231
ë§› taste 231
ë§›ì´ ì¢‹ë‹¤ to be tasty 231
ë§µë‹¤ to be spicy 231
ì‹œë‹¤ to be sour 231
ì‹±ê²ë‹¤ to be bland 231
ì“°ë‹¤ to be bitter 231
ìš”ë¦¬ë²• cooking method 231
ì§œë‹¤ to be salty 231
í•œë²ˆ once 231
ê°„ì¥ soy sauce 234
ê³„ë€ egg 234
ê³ ê¸° meat 234
êµ½ë‹¤ to grill 234
ê¹ë‹¤ to peel 234
ë“ì´ë‹¤ to boil (in broth) 234
ë‹­ê³ ê¸° chicken 234
ë‹¹ê·¼ carrot 234
ë°ìš°ë‹¤ to reheat 234
ë–¡ rice cake 234
ã… ë§ˆëŠ˜ garlic 234
ë§Œë‘ dumplings 234
ë³¶ë‹¤ to stir fry 234
ì‚¶ë‹¤ to boil (in water) 234
ìƒì„  fish 234
ì„¤íƒ• sugar 234
ì†Œê³ ê¸° beef 234
ì†Œê¸ˆ salt 234
ì°ë‹¤ to slice 234
ì–‘ë… seasonings 234
ì–‘íŒŒ onion 234
ì¬ë£Œ ingredient 234
ì¡°ë¦¬ë²• cooking method 234
ì°Œë‹¤ to steam 234
ì±„ì†Œ vegetables 234
íŠ€ê¸°ë‹¤ to deep fry 234
ã… íŒŒ green onion 234
í›„ì¶” pepper 234
ê²€ìƒ‰(í•˜ë‹¤) search, to search 241
ê¸€ post 241
ë¡œê·¸ì•„ì›ƒ log out 241
ë¡œê·¸ì¸ log in 241
ë³´ë‚´ë‹¤ to send 241
ë¸”ë¡œê·¸ blog 241
ë¹„ë°€ë²ˆí˜¸ password 241
ì“°ë‹¤ to write 241
ì•„ì´ë”” ID 241
ì›¹ì‚¬ì´íŠ¸ website 241
ì´ë©”ì¼ e-mail 241
ì¸í„°ë„· ì¹´í˜ internet cafÃ© 241
ì±„íŒ…(í•˜ë‹¤) chatting, to chat 241
í™ˆí˜ì´ì§€ homepage 241
í™”ìƒ ì±„íŒ… video chat 241
íšŒì› ê°€ì… sign up oneâ€™s account 241
íšŒì› íƒˆí‡´ delete oneâ€™s account 241
ê°€ë¥´ì¹˜ë‹¤ to teach 244
ë‚´ë ¤ë°›ë‹¤ to download 244
ë‹¤ìš´ë¡œë“œ(í•˜ë‹¤) download, to download 244
ëŒ“ê¸€ì„ ë‹¬ë‹¤ to post a comment 244
ë§›ì§‘ famous restaurant 244
ë©”ì‹œì§€ message 244
ëª¨ë°”ì¼ ë©”ì‹ ì € mobile messenger 244
ë³´ì´ë‹¤ to show 244
ìŠ¤ë§ˆíŠ¸í° smartphone 244
ì• í”Œë¦¬ì¼€ì´ì…˜ (ì•±) phone application (app) 244
ì—…ë¡œë“œ(í•˜ë‹¤) upload, to upload 244
ì—ìŠ¤ì—”ì—ìŠ¤ (SNS) social media, social networking service (SNS) 244
ì˜¬ë¦¬ë‹¤ to upload 244
ì™€ì´íŒŒì´ wifi 244
ì´ëª¨í‹°ì½˜ emoticon 244
ì´ì•¼ê¸°(í•˜ë‹¤) talk, to talk 244
ì €ì¥(í•˜ë‹¤) save, to save 244
í™•ì¸(í•˜ë‹¤) check, to check 244
ê¸°ë‹¤ë¦¬ë‹¤ to wait 251
ë³´í˜¸ì guardian 251
ë¶€ë¥´ë‹¤ to call 251
ìˆ˜ìˆ (í•˜ë‹¤) surgery, to perform surgery 251
ìˆ˜ìˆ ì„ ë°›ë‹¤ to undergo surgery 251
ì‹ ë¶„ì¦ identification card 251
ì•½ medicin 251
ì—‘ìŠ¤ë ˆì´ë¥¼ ì°ë‹¤ to take an X-ray 251
ì €í¬ we/our (humble form of ìš°ë¦¬) 251
ì „í™”ë²ˆí˜¸ phone number 251
ì ‘ìˆ˜(í•˜ë‹¤) registration, to register 251
ì£¼ì‚¬ injection 251
ì£¼ì‚¬ë¥¼ ë†“ë‹¤ to give an injection 251
ì£¼ì‚¬ë¥¼ ë§ë‹¤ to get an injection 251
ì§„ë£Œ(í•˜ë‹¤) a medical consultation, to provide a medical consultation 251
ì§„ë£Œë¥¼ ë°›ë‹¤ to receive a medical consultation 251
ì§„ë£Œì‹¤ consultation room 251
ì²˜ë°©(í•˜ë‹¤) prescription, to prescribe 251
ì²˜ë°©ì„ ë°›ë‹¤ to receive a prescription 251
ì²˜ë°©ì „ prescription 251
ì²˜ìŒ first time 251
ì²´ì˜¨ì„ ì¬ë‹¤ to take one's temperature 251
ì¹˜ë£Œ(í•˜ë‹¤) treatment, to provid treatment 251
ì¹˜ë£Œë¥¼ ë°›ë‹¤ to receive treatment 251
ê°€ìŠ´ chest 254
ê°ê¸°ì— ê±¸ë¦¬ë‹¤ to catch a cold 254
ê·€ ear 254
ëˆˆ eye 254
ëˆˆë³‘ì´ ë‚˜ë‹¤ to get an eye infection 254
ë‹¤ë¦¬ leg 254
ë‹¤ì¹˜ë‹¤ to injure 254
ë¨¸ë¦¬ê°€ ì•„í”„ë‹¤ to have a headache 254
ëª¸ body 254
ë¬´ë¦ knee 254
ë°œ foot 254
ë°œëª© ankle 254
ë°° stomach 254
ë°°ê°€ ì•„í”„ë‹¤ to have a stomachache 254
ì† hand 254
ì†ê°€ë½ finger 254
ì†ëª© wrist 254
ì‹ ì²´ body parts 254
ì–´ê¹¨ shoulder 254
ì–¼êµ´ face 254
ìš´ì „(í•˜ë‹¤) drive, to drive 254
ì… mouth 254
ì¦ìƒ symptoms 254
ì°¨ë‹¤ to be cold 254
ì½” nose 254
íŒ” arm 254
í—ˆë¦¬ waist 254
í™˜ì patient 254
ê°€ë µë‹¤ to feel itchy 261
ê¸°ì¹¨(í•˜ë‹¤) cough, to cough 261
ë§ˆìŠ¤í¬ mask 261
ëª©ì´ ë¶“ë‹¤ to have a sore throat 261
ë°°íƒˆì´ ë‚˜ë‹¤ to have an upset stomach 261
ë³´ê´€(í•˜ë‹¤) storage, to store 261
ë¹„ìƒì•½ emergency medicine 261
ë¼ˆê°€ ë¶€ëŸ¬ì§€ë‹¤ to have a broken bone 261
ì„¤ì‚¬(í•˜ë‹¤) diarrhea, to have diarrhea 261
ì†Œí™”ê°€ ì•ˆ ë˜ë‹¤ to have indigestion 261
ì†ì´ ë² ì´ë‹¤ to cut one's hand 261
ì—´ fever 261
ì—´ì´ ë‚˜ë‹¤/ìˆë‹¤ to have a fever 261
ì¡¸ë¦¬ë‹¤ to feel drowsy 261
ì½§ë¬¼ì´ ë‚˜ë‹¤ to have a runny nose 261
í† (í•˜ë‹¤) vomit, to vomit 261
ë°˜ì°½ê³  adhesive plaster 264
ë°´ë“œ band-aid 264
ë°´ë“œë¥¼ ë¶™ì´ë‹¤ to apply a band-aid 264
ë¶•ëŒ€ gauze bandage 264
ë¶•ëŒ€ë¥¼ ê°ë‹¤ to wrap a bandage 264
ì†Œë…(í•˜ë‹¤) disinfection, to disinfect 264
ì†Œë…ì•½ disinfectant 264
ì•Œì•½ pill 264
ì•½ì„ ë¨¹ë‹¤ to take medicine 264
ì•½ì„ ë¿Œë¦¬ë‹¤ to spray medicine 264
ì—°ê³  ointment 264
ì—°ê³ ë¥¼ ë°”ë¥´ë‹¤ to apply ointment 264
ì˜ì–‘ì œ nutritional supplements 264
ì˜ì•½í’ˆ medications 264
ì°œì§ˆ(í•˜ë‹¤) fomentation, to apply a heat compress 264
ì¹˜ë£Œë²• (medical) treatment 264
íŒŒìŠ¤ pain relief patch 264
íŒŒìŠ¤ë¥¼ ë¶™ì´ë‹¤ to apply a pain relief patch 264
êµ­ë‚´ ì†Œí¬ domestic package 271
êµ­ì œ ìš°í¸ international mail 271
êµ­ì œ íŠ¹ê¸‰ ìš°í¸ (EMS) Express Mail Service (EMS) 271
ë‚˜í˜ four days 271
ë“±ê¸° ì†Œí¬ registered package 271
ë“±ê¸° ìš°í¸ registered mail 271
ë°›ëŠ” ì‚¬ëŒ/ ìˆ˜ì·¨ì¸ recipient 271
ë³´ë‚´ëŠ” ì‚¬ëŒ/ ë°œì‹ ì¸ sender 271
ì‚¬í˜ three days 271
ì„ ë°• ìš°í¸ surface mail 271
ìš°ì²´í†µ mailbox 271
ìš°í¸ postal mail 271
ìš°í¸ë¬¼ mail 271
ìš°í¸ë²ˆí˜¸ post code 271
ìš°í‘œ stamp 271
ì´í‹€ two days 271
ìµì¼ íŠ¹ê¸‰ next-day delivery 271
ì¼ë°˜ ì†Œí¬ regular package 271
ì¼ë°˜ ìš°í¸ standard mail 271
ì£¼ì†Œ address 271
íƒë°° packages delivery service 271
í¸ì§€ ë´‰íˆ¬ letter envelope 271
í•˜ë£¨ one day 271
í•­ê³µ ìš°í¸ air mail 271
ë¬´ê²Œë¥¼ ì¬ë‹¤ to weigh 274
ë°›ë‹¤ to receive 274
ë°°ì†¡(í•˜ë‹¤) delivery, to deliver 274
ë¶€ì¹˜ë‹¤ to send 274
ìš”ê¸ˆ fee 274
ìš”ê¸ˆì„ ë‚´ë‹¤ to pay a fee 274
ì €ìš¸ scale 274
ì €ìš¸ì— ì˜¬ë¦¬ë‹¤ to place on a scale 274
í‚¬ë¡œê·¸ë¨(kg) kilogram (kg) 274
ê±°ë˜ ë‚ ì§œ transaction date 281
ê±°ì£¼ì§€ residence 281
ê³„ì¢Œ bank account 281
ê³„ì¢Œ ë²ˆí˜¸ account number 281
ë„ì¥ seal 281
ëª¨ë°”ì¼ ë±…í‚¹ mobile banking 281
ë²ˆí˜¸í‘œë¥¼ ë½‘ë‹¤ to take a ticket number 281
ì„œë¥˜ document 281
ì„œëª…(í•˜ë‹¤) signature, to sign 281
ì‹ ì²­(í•˜ë‹¤) application, to apply 281
ì‹ ì²­ì„œ application form 281
ì˜ˆê¸ˆì£¼ account holder 281
ì´ìš©(í•˜ë‹¤) use, to use 281
ì‘ì„±(í•˜ë‹¤) fill out, to fill out 281
ì¤€ë¹„(í•˜ë‹¤) preparation, to prepare 281
ì¦ëª…(í•˜ë‹¤) proof, to prove 281
ì°½êµ¬ counter 281
ì²´í¬ ì¹´ë“œ debit card 281
í†µì¥ bankbook 281
ê±°ë˜ ë‚´ì—­ transaction history 284
ê³„ì¢Œ ì´ì²´ bank transfer 284
ë‹¬ëŸ¬ dollar 284
ëˆì„ ë„£ë‹¤ to put in money 284
ëˆì„ ë³´ë‚´ë‹¤ to send moneey 284
ëˆì„ ì°¾ë‹¤ to take out money 284
ë²„íŠ¼ì„ ëˆ„ë¥´ë‹¤ to press the button 284
ì†¡ê¸ˆ(í•˜ë‹¤) money transfer, to transfer money 284
ì˜ˆê¸ˆ(í•˜ë‹¤) deposit, to deposit 284
ì™¸êµ­ì¸ ë“±ë¡ì¦ residence card 284
ì…ê¸ˆ(í•˜ë‹¤) deposit, to deposit 284
ì”ì•¡ ì¡°íšŒ balance inquiry 284
ì¶œê¸ˆ(í•˜ë‹¤) money-withdrawal, to withdraw money 284
í†µì¥ ì •ë¦¬ bankbook update 284
í˜„ê¸ˆì¸ì¶œê¸° (ATM) automated teller machine 284
í™˜ìœ¨ì´ ë‚´ë¦¬ë‹¤ to have a fall in the exchange rate 284
í™˜ìœ¨ì´ ì˜¤ë¥´ë‹¤ to have a rise in the exchange rate 284
í™˜ì „(í•˜ë‹¤) to exchange currency 284
ê³ ê¸‰ advanced 291
êµìœ¡(í•˜ë‹¤) education, to educate 291
ê¸°ê°„ period 291
ë‚´ìš© content 291
ã„· ë‹¤ all 291
ë§ë‹¤ to be right/correct 291
ëª¨ì§‘(í•˜ë‹¤) recruitment, to recruit 291
ë¬¸ì˜(í•˜ë‹¤) inquiries, to inquire 291
ë¬¸í™” culture 291
ë°©ë¬¸ ì ‘ìˆ˜ in-person registration 291
ë°©ë²• method 291
ë²•ë¥  legal 291
ìƒë‹´(í•˜ë‹¤) consultation, to consult 291
ì•ˆì „ safety 291
ì—¬ëŸ¬ several 291
ì™¸êµ­ì¸ê·¼ë¡œì ì§€ì›ì„¼í„° Foreign Workers Support Center 291
ì¤€ë¹„ë°˜ preparation class 291
ì¤‘ê¸‰ intermediate 291
ì²´í—˜(í•˜ë‹¤) experience, to experience 291
ì´ˆê¸‰ beginner 291
í† í”½(TOPIK) TOPIK 291
í”„ë¡œê·¸ë¨ programs 291
í•œêµ­ì–´ Korean language 291
íšŒí™” conversation 291
í›ˆë ¨(í•˜ë‹¤) training, to train 291
ê°–ë‹¤ì£¼ë‹¤ to bring 294
ê±±ì •(í•˜ë‹¤) worry, to be worried 294
ëŒ€ìƒ grand prize 294
1ë“± 1st place 294
ë–¨ë¦¬ë‹¤ to be nervous 294
ëª¨ë“  all 294
ë¬´ë£Œ free 294
ë¶„ì•¼ categories 294
ì„œë¹„ìŠ¤ services 294
ìˆ˜ì—… class 294
ì‹œìƒë‚´ìš© prize details 294
ì¸ê¸°ìƒ popularity award 294
ìì› ë´‰ì‚¬ volunteer 294
ì¦ì •(í•˜ë‹¤) giving, to give 294
ì°¸ê°€(í•˜ë‹¤) participation, to participate in 294
ì°¸ê°€ëŒ€ìƒ participation eligibility 294
ì°¸ê°€ì participants 294
ì°¸ì—¬(í•˜ë‹¤) participation, to participate in 294
í†µì—­(í•˜ë‹¤) interpretation, to interpret 294
í–‰ì‚¬ event 294
ë‚œë°© heating 301
ë‹´ perimeter wall 301
ë‹µë‹µí•˜ë‹¤ to feel stifled 301
ëŒ€ë¬¸ main gate 301
ë‘˜ëŸ¬ë³´ë‹¤ to look around 301
ë§ˆë£¨ maru (floor space for gathering) 301
ë§ˆìŒì— ë“¤ë‹¤ to like (something) 301
ë°©ë¬¸ room door 301
ë°©ë°”ë‹¥ floor 301
ë² ë€ë‹¤ veranda 301
ì˜¨ëŒ Ondol (Korean floor heating) 301
ì£¼ê±° housing 301
ì§€ë¶• roof 301
í•œì˜¥ hanok (traditional Korean house) 301
í˜„ê´€ entrance 301
í˜„ê´€ë¬¸ entrance door 301
êµ­ soup 304
ê¹€ seaweed 304
ê¹ë‘ê¸° cubed radish kimchi 304
ë‚  day 304
ëŒ€ì ‘(í•˜ë‹¤) treat, to serve 304
ë™ì§€ winter solstice 304
ë°˜ì°¬ side dish 304
ë³µë‚  the hottest days of summer 304
ì‚¼ê³„íƒ• samgyetang 304
ìƒì„ êµ¬ì´ grilled fish 304
ìƒì„ íšŒ raw fish 304
ìˆŸê°€ë½ spoon 304
ì˜ˆì „ in the past 304
ì˜¤ê³¡ë°¥ five-grain rice 304
ì “ê°€ë½ chopsticks 304
ì •ì›”ëŒ€ë³´ë¦„ daeboreum (full moon day of January) 304
ì£½ porridge 304
íŠ¹ë³„í•˜ë‹¤ to be special 304
íŒ¥ì£½ red bean porridge 304
í¬í¬ fork 304
í•œì‹ Korean food 304
ê°ì‚¬(í•˜ë‹¤) gratitude, to appreciate 311
ê°œì²œì ˆ National Foundation Day 311
ê´‘ë³µì ˆ National Liberation Day 311
êµ­ê²½ì¼ National Holiday 311
êµ­ê¸° national flag 311
ê·¼ë¡œìì˜ ë‚  Labor Day 311
ê¸°ë…(í•˜ë‹¤) commemoration, to commemorate 311
ê¸°ë…ì¼ Commemorative Day 311
ê½ƒ flower 311
ë‹¬ë‹¤ to put (up/on) 311
ë…ë¦½(í•˜ë‹¤) independence, to be independent 311
ë“œë¦¬ë‹¤ to give (honorific) 311
ë§ˆìŒì„ ì „í•˜ë‹¤ to express oneâ€™s heart 311
ì‚¼ì¼ì ˆ Independence Movement Day 311
ìŠ¤ìŠ¹ì˜ ë‚  Teacherâ€™s Day 311
ì–´ë¦¬ë‹¤ to be young 311
ì–´ë¦°ì´ë‚  Childrenâ€™s Day 311
ì–´ë²„ì´ë‚  Parent's Day 311
ì´ë‚  this day 311
ì¡°ì¹´ niece or nephew 311
ì£¼ë‹¤ to give 311
í•œê¸€ë‚  Hangeul Day 311
í–‰ì‚¬(í•˜ë‹¤) event, to hold an event 311
ê¸ˆë°˜ì§€ gold ring 314
ëŒ first birthday 314
ëŒì”ì¹˜ first birthday party 314
ë™ë£Œ colleague 314
ã…‡ ì•„ê¸° baby 314
ì•„ì§ not yet 314
ì”ì¹˜ party 314
ì¥ë‚œê° toy 314
ì¥ë¡€ì‹ funeral 314
ì¡°ì˜ê¸ˆ condolence money 314
ì§‘ë“¤ì´ housewarming party 314
ì°¸ì„(í•˜ë‹¤) attendance, to attend 314
ì²« ë²ˆì§¸ first 314
ì´ˆëŒ€(í•˜ë‹¤) invitation, to invite 314
ì´ˆëŒ€ë¥¼ ë°›ë‹¤ invitation, to be invited 314
ì¶•ì˜ê¸ˆ congratulatory money 314
ì¶•í•˜(í•˜ë‹¤) congratulations, to congratulate 314
ì¹ ìˆœ 70th birthday 314
í™˜ê°‘ 60th birthday 314
íšŒê°‘ 60th birthday 314
ë†€ì´ games 315
ë•ë‹´ well-wishing remarks 315
ë–¡êµ­ tteokguk (sliced rice cake soup) 315
ì„¤ë‚  Lunar New Year 315
ì„¸ë°°í•˜ë‹¤ to do the New Year's bow 315
ì„¸ë±ƒëˆ New Yearâ€™s cash gift 315
ì—°ë‚ ë¦¬ê¸° kite flying 315
ì—°íœ´ long holiday 315
ìœ·ë†€ì´ Yunnori 315
ìŒë ¥ lunar calendar 315
ì „í†µ tradition 315
ì ˆí•˜ë‹¤ to bow 315
ì œê¸°ì°¨ê¸° Jegichagi 315
ì°¨ë¡€ë¥¼ ì§€ë‚´ë‹¤ to hold a memorial service for ancestors 315
ì°¨ë¡€ìƒì„ ì°¨ë¦¬ë‹¤ to set up memorial table 315
ì¹œì²™ relative 315
í•œë³µ hanbok (traditional Korean clothing) 315
ê°•ê°•ìˆ ë˜ Ganggangsullae 318
ëª¨ì´ë‹¤ to gather 318
ë³´ë¦„ë‹¬ full moon 318
ëµ™ë‹¤ to see/visit (honorific) 318
ì„±ë¬˜í•˜ë‹¤ to visit ancestral graves 318
ì†Œì› wish 318
ì†Œì›ì„ ë¹Œë‹¤ to make a wish 318
ì†¡í¸ songpyeon 318
ì¥ë§Œ(í•˜ë‹¤) preparation, to prepare 318
ì „ë‚  the day before 318
ì¤„ë‹¤ë¦¬ê¸° tug-of-war 318
ì°¨ë¡€ìƒ memorial table 318
ì¶”ì„ Chuseok 318
ê³µê³µì¥ì†Œ public places 331
êµ¬ì—­ area 331
ê¸ˆì—°(í•˜ë‹¤) non-smoking, to quit smoking 331
ê¸ˆì§€(í•˜ë‹¤) prohibited, to prohibit 331
ê¸¸ street 331
ë‹´ë°°ê½ì´ˆ cigarette butts 331
ë‹´ë°°ë¥¼ í”¼ìš°ë‹¤ to smoke (a cigarette) 331
ë„ì„œê´€ library 331
ë– ë“¤ë‹¤ to make noise 331
ë›°ì–´ë‹¤ë‹ˆë‹¤ to run around 331
ë§Œì§€ë‹¤ to touch 331
ë¨¼ì € first 331
ë¬´ë‹¨ íš¡ë‹¨(í•˜ë‹¤) jaywalking, to jaywalk 331
ë°•ë¬¼ê´€ museum 331
ë°˜ì…(í•˜ë‹¤) bringing in, to bring 331
ìƒˆì¹˜ê¸°(í•˜ë‹¤) to cut in line 331
ì‹ í˜¸ traffic signals 331
ì˜ˆì ˆ etiquette 331
ìœ„ë°˜(í•˜ë‹¤) violation, to violate 331
ì ê¹ for a moment 331
ì „ì‹œí’ˆ exhibits 331
ì£¼ì°¨(í•˜ë‹¤) parking, to park 331
ì¹¨ì„ ë±‰ë‹¤ to spit 331
í¡ì—°(í•˜ë‹¤) smoking, to smoke 331
ë‹¤ë¦¬ë¥¼ ê¼¬ë‹¤ to cross one's leg 334
ë˜ also 334
ë°˜ë§(í•˜ë‹¤) non-honorific speech, to speak using non-honorific language 334
ë°¥ê·¸ë¦‡ rice bowl 334
ì†Œë¦¬ë¥¼ ë‚´ë‹¤ to make noise 334
ìˆ˜ì € spoon and chopstiks 334
ì‹¤ìˆ˜(í•˜ë‹¤) mistake, to mistake 334
ì•‰ë‹¤ to sit 334
ì–´ë¥¸ elders 334
ì˜ˆì˜ì— ì–´ê¸‹ë‚˜ë‹¤ to act disrespectfully 334
ì¸ì‚¬(í•˜ë‹¤) greeting, to greet 334
ìë¦¬ place 334
ì§€í‚¤ë‹¤ to follow (rules) 334
ì½”ë¥¼ í’€ë‹¤ to blow (one's) nose 334
í–‰ë™ action 334
í”ë“¤ë‹¤ to wave 334
ê²½ê¸°ì¥ stadium 341
ê´€ì¤‘ spectator 341
ê´€ì¤‘ì„ spectator seat 341
ì˜ˆë§¤(í•˜ë‹¤) reservation, to reserve (tickets) 341
ìœ ë‹ˆí¼ uniform 341
ì‘ì›(í•˜ë‹¤) cheering, to cheer 341
ì‘ì›ê°€ cheering chant 341
ì‘ì›ë‹¨ cheering squad 341
ì¸ê¸° popularity 341
ì…ì¥ê¶Œ entry ticket 341
í´ëŸ½ club 341
íŒ€ team 341
íŒ¬ fan 341
í”„ë¡œ professionnal 341
K-ëŒ„ìŠ¤ K-dance 344
K-ë“œë¼ë§ˆ K-drama 344
K-ë·°í‹° K-beauty 344
K-ì˜ˆëŠ¥ K-variety show 344
K-ì›¹íˆ° K-webtoon 344
K-íŒ K-pop 344
K-í‘¸ë“œ K-food 344
ê°€ì‚¬ lyrics 344
ê°€ìˆ˜ singer 344
ë‹¨ì²´ group 344
ë”°ë¼ ë¶€ë¥´ë‹¤ to sing along 344
ë”°ë¼ ì¶”ë‹¤ to dance along 344
ë°°ìš° actor 344
ì•„ì´ëŒ K-pop Idol 344
ì˜í–¥ì„ ì£¼ë‹¤ to influence 344
ì¸ê¸°ë¥¼ ëŒë‹¤ to gain popularity 344
í•œë¥˜ Hallyu (the Korean Wave) 344
`;
/* ========= Parse & patch data ========= */
function parseLines(raw){
  const lines = raw.split(/\r?\n/).map(s=>s.trim()).filter(Boolean);
  const out = [];
  for(const line of lines){
    const m = line.match(/^(.*)\s(\d+)$/);
    if(!m) continue;
    const page = +m[2];
    let rest = m[1].trim();
    // drop leading stray jamo like "ã…ˆ " or "ã„¹ "
    rest = rest.replace(/^[\u3131-\u314e]\s+/, '');
    // find last Hangul
    let lastHangul = -1;
    for(let i=0;i<rest.length;i++) if(/[ê°€-í£]/.test(rest[i])) lastHangul = i;
    let ko="", en="";
    if(lastHangul>=0){
      let end = lastHangul + 1;
      while(end < rest.length && /[\)\]]/.test(rest[end])) end++;
      ko = rest.slice(0,end).trim();
      en = rest.slice(end).trim();
      if(!en){
        const parts = rest.split(/\s+/);
        ko = parts.shift(); en = parts.join(' ').trim();
      }
    }else{
      const parts = rest.split(/\s+/);
      ko = parts.shift(); en = parts.join(' ').trim();
    }
    out.push({page, ko, en});
  }
  return out;
}

// Patch obvious data swaps: "í•˜ëŠ˜ìƒ‰ one" (134) â†” "í•˜ë‚˜ sky blue" (194)
function patchEntries(arr){
  const a = arr.find(e=>e.page===134 && e.ko==='í•˜ëŠ˜ìƒ‰' && /one/i.test(e.en));
  if(a){ a.ko='í•˜ë‚˜'; a.en='one'; }
  const b = arr.find(e=>e.page===194 && e.ko==='í•˜ë‚˜' && /sky blue/i.test(e.en));
  if(b){ b.ko='í•˜ëŠ˜ìƒ‰'; b.en='sky blue'; }
  return arr;
}

/* ========= POS tagging ========= */
const ADVERB_KO = new Set([
  'ë³´í†µ','ìš”ì¦˜','ì˜¤ëŠ˜','ì§€ê¸ˆ','ì–´ì œ','ë‚´ì¼','ë§¤ì¼','ì–¸ì œë‚˜','ë‚ ë§ˆë‹¤','ìµœê·¼','í˜„ì¬',
  'ìì£¼','ì£¼ë¡œ','ì¢…ì¢…','í”íˆ','ì¤„ê³§','ìê¾¸',
  'ì •ë§','ì•„ì£¼','ì¡°ê¸ˆ','ë„ˆë¬´','ë§ì´','ë³„ë¡œ','í›¨ì”¬','ëœ','ì œì¼',
  'ê¼­','ë°˜ë“œì‹œ','í™•ì‹¤íˆ','ì •í™•íˆ','ì œëŒ€ë¡œ','ì¶©ë¶„íˆ','ìµœì†Œí•œ','ìµœëŒ€í•œ','ë¬´ì¡°ê±´',
  'ì¯¤','ì²œì²œíˆ','ì˜','ê³§','ê³§ì¥','ê¸‰íˆ','ë‹¹ì¥','ì‚´ì§','ì¡°ìš©íˆ','ë©€ë¦¬','ì˜¤ë˜','ìŠ¬ìŠ¬',
  'ëª°ë˜','í•¨ë¶€ë¡œ','ì–µì§€ë¡œ','ì°¨ë¡€ë¡œ','ë¹ ì§ì—†ì´',
  'ê°™ì´','í•¨ê»˜','ë”°ë¡œ','ë¨¼ì €','ìš°ì„ ','ê·¸ëƒ¥','ë˜','ê·¸ë˜ë„','ê·¸ë˜ì„œ','ê·¸ëŸ¬ë©´','í˜¹ì‹œ','í˜¹ì€',
  'ê°‘ìê¸°','ê·¸ë™ì•ˆ','ë¯¸ë¦¬','ì•„ê¹Œ','ë‚˜ì¤‘ì—','íŠ¹íˆ','ëª¨ë‘','ëª¨ë‘ë“¤','ì„œë¡œ','ì„œë¡œì„œë¡œ',
  'ì—¬ê¸°','ê±°ê¸°','ì €ê¸°',
  'ì™œ','ì–´ë–»ê²Œ','ì–¼ë§ˆë‚˜','ì–´ë””','ì–¸ì œ',
  'ì´ë²ˆ','ë‹¤ìŒ','ì§€ë‚œ','ì‘ë…„','ì˜¬í•´','ë‚´ë…„'
]);
const ADVERB_HINTS = [
  'usually','these days','today','now','yesterday','tomorrow','everyday','often','mainly',
  'really','very','a little','too','much','not really','definitely','about','approximately',
  'slowly','well','together','separately','then','first','also','suddenly','already','still',
  'not yet','again','later','earlier','in advance','especially','mostly','directly'
];
const FORCE_NOUN = new Set([
  'ì´ë‚ ','ëª‡ ì‹œ','ë‚®','ë°¤','ì•„ì¹¨','ì ì‹¬','ì €ë…',
  'ì£¼ë§','í‰ì¼','í•˜ë£¨','ì´í‹€','ì‚¬í˜','ë‚˜í˜',
  'ë‚ ì§œ','ì›”','ì¼','ì‹œê°„','ì‹œ','ë¶„','ë°˜'
]);
const KO_ADVERB_PATTERNS = [
  /^(ì´ë²ˆ|ì§€ë‚œ|ë‹¤ìŒ)\s*(ì£¼|ë‹¬)$/,
  /^(ì‘ë…„|ì˜¬í•´|ë‚´ë…„)$/
];
const EN_ADVERB_PATTERN = /(this|next|last)\s+(week|month|year)\b/i;
function tagPOS(entry){
  const ko = entry.ko.replace(/\s+/g,' ').trim();
  const en = entry.en.toLowerCase();
  const koBare = ko;
  let baseKo = ko.includes('(í•˜ë‹¤)') ? ko.replace('(í•˜ë‹¤)','í•˜ë‹¤') : ko;

  const enStartsTo = /^to\s+[a-z]/.test(en);
  const enToBe = /^to\s+be\b/.test(en) || /^\b(be|is|are)\b/.test(en);

  let pos = 'noun';
  if (FORCE_NOUN.has(koBare) || /ìš”ì¼$/.test(koBare)) {
    pos = 'noun';
  } else if (
    ADVERB_KO.has(koBare) ||
    KO_ADVERB_PATTERNS.some(rx => rx.test(koBare)) ||
    EN_ADVERB_PATTERN.test(entry.en)
  ) {
    pos = 'adverb';
  } else if (enStartsTo || /(\(í•˜ë‹¤\))/.test(ko) || /ë‹¤$/.test(baseKo)) {
    pos = enToBe ? 'adjective' : 'verb';
  } else if (ADVERB_HINTS.some(w => en.includes(w))) {
    pos = 'adverb';
  } else {
    pos = 'noun';
  }

  if ((pos==='verb' || pos==='adjective') && !/ë‹¤$/.test(baseKo)) baseKo = baseKo + 'ë‹¤';
  return {...entry, pos, baseKo};
}

/* ========== Hangul helpers & conjugation (unchanged) ========== */
const SBASE=0xAC00, LCOUNT=19, VCOUNT=21, TCOUNT=28, NCOUNT=VCOUNT*TCOUNT;
const T = ['', 'á†¨','á†©','á†ª','á†«','á†¬','á†­','á†®','á†¯','á†°','á†±','á†²','á†³','á†´','á†µ','á†¶','á†·','á†¸','á†¹','á†º','á†»','á†¼','á†½','á†¾','á†¿','á‡€','á‡','á‡‚'];
const T_SSIOT = 20, T_L = 8, T_B = 17;
const V = ['á…¡','á…¢','á…£','á…¤','á…¥','á…¦','á…§','á…¨','á…©','á…ª','á…«','á…¬','á…­','á…®','á…¯','á…°','á…±','á…²','á…³','á…´','á…µ'];
const V_A=0, V_EO=4, V_O=8, V_WA=9, V_U=13, V_WO=14, V_I=20, V_E=5, V_YEO=6, V_YU=17;
const V_EU=18;

function isHangulSyll(ch){const c=ch.charCodeAt(0); return c>=0xAC00 && c<=0xD7A3;}
function decompose(ch){const n=ch.charCodeAt(0)-SBASE; const li=Math.floor(n/NCOUNT); const vi=Math.floor((n%NCOUNT)/TCOUNT); const ti=n%TCOUNT; return {li,vi,ti};}
function compose(li,vi,ti){return String.fromCharCode(SBASE + (li*NCOUNT) + (vi*TCOUNT) + ti);} 
function lastSyllable(str){ for(let i=str.length-1;i>=0;i--){ if(isHangulSyll(str[i])) return {ch:str[i], idx:i}; } return null; }
function replaceLastSyllable(str, fn){ const last=lastSyllable(str); if(!last) return str; const d=decompose(last.ch); const r=fn({...d}); const ch2=compose(r.li,r.vi,r.ti); return str.slice(0,last.idx)+ch2+str.slice(last.idx+1); }
function setFinal(str, ti){ return replaceLastSyllable(str, s=>({li:s.li,vi:s.vi,ti})); }
function setVowel(str, vi){ return replaceLastSyllable(str, s=>({li:s.li,vi,ti:s.ti})); }
function getLastVT(str){ const last=lastSyllable(str); if(!last) return {vi:-1, ti:-1}; const d=decompose(last.ch); return {vi:d.vi, ti:d.ti}; }
function getPrevVowelIndex(stem){
  let skipped=false;
  for(let i=stem.length-1;i>=0;i--){
    const ch=stem[i];
    if(!isHangulSyll(ch)) continue;
    if(!skipped){ skipped=true; continue; }
    return decompose(ch).vi;
  }
  return V_A;
}

const BIEUP_SET = new Set(['ë•ë‹¤','ê³±ë‹¤']);
const D_IRR_SET  = new Set(['ê±·ë‹¤','ë“£ë‹¤','ë¬»ë‹¤']);
const S_IRR_SET  = new Set(['ì§“ë‹¤','ë‚«ë‹¤','ì “ë‹¤','ë¶“ë‹¤']);

function presentBaseStrict(da, pos){
  if(/í•˜ë‹¤$/.test(da)) return da.replace(/í•˜ë‹¤$/,'í•´');
  let stem = da.replace(/ë‹¤$/,'');
  const vt = getLastVT(stem);

  if (vt.ti === 17){ // ã…‚
    if (pos === 'adjective'){ return setFinal(stem,0) + 'ì›Œ'; }
    if (BIEUP_SET.has(da)){ return setFinal(stem,0) + 'ì™€'; }
    return (vt.vi===V_A || vt.vi===V_O) ? (stem+'ì•„') : (stem+'ì–´');
  }
  if (D_IRR_SET.has(da)){ stem = setFinal(stem, T_L); return stem + 'ì–´'; }
  if (S_IRR_SET.has(da)){ stem = setFinal(stem,0); return (getLastVT(stem).vi===V_A || getLastVT(stem).vi===V_O) ? (stem+'ì•„') : (stem+'ì–´'); }
  if (/ë¥´ë‹¤$/.test(da)){
    const prevPart = stem.slice(0,-1);
    const prevFixed = replaceLastSyllable(prevPart, s=>({li:s.li,vi:s.vi,ti:T_L}));
    const prevVi = getLastVT(prevPart).vi;
    const useA = (prevVi===V_A || prevVi===V_O || prevVi===V_WA);
    return prevFixed + (useA ? 'ë¼' : 'ëŸ¬');
  }
  if (vt.vi === V_EU){
    const useA = (getPrevVowelIndex(stem)===V_A || getPrevVowelIndex(stem)===V_O || getPrevVowelIndex(stem)===V_WA);
    return setVowel(stem, useA?V_A:V_EO);
  }
  if (vt.ti > 0) return (vt.vi===V_A || vt.vi===V_O) ? (stem+'ì•„') : (stem+'ì–´');
  if (vt.vi===V_A) return stem;
  if (vt.vi===V_O) return setVowel(stem, V_WA);
  if (vt.vi===V_U) return setVowel(stem, V_WO);
  if (vt.vi===V_I) return setVowel(stem, V_YEO);
  if (vt.vi===V_EO || vt.vi===V_YEO || vt.vi===V_E) return stem;
  return stem+'ì–´';
}
function presentPolite(da, pos){ return presentBaseStrict(da, pos) + 'ìš”'; }
function addSsiotToLast(str){
  const last=lastSyllable(str); if(!last) return str+'ì—ˆ';
  const d=decompose(last.ch);
  if(d.ti===0){ const withSs = compose(d.li,d.vi,T_SSIOT); return str.slice(0,last.idx)+withSs+str.slice(last.idx+1); }
  return str + 'ì—ˆ';
}
function pastPolite(da, pos){
  if(/í•˜ë‹¤$/.test(da)) return da.replace(/í•˜ë‹¤$/,'í–ˆì–´ìš”');
  const base = presentBaseStrict(da, pos);
  return addSsiotToLast(base)+'ì–´ìš”';
}
function futurePolite(da, pos){
  if(/í•˜ë‹¤$/.test(da)) return da.replace(/í•˜ë‹¤$/,'í•  ê±°ì˜ˆìš”');
  const stem = da.replace(/ë‹¤$/,'');
  const last = lastSyllable(stem);
  const d = last ? decompose(last.ch):null;
  if(d && d.ti===17){
    if (pos==='adjective' || BIEUP_SET.has(da)) return setFinal(stem,0) + 'ìš¸ ê±°ì˜ˆìš”';
    return stem + 'ì„ ê±°ì˜ˆìš”';
  }
  if(D_IRR_SET.has(da)) return setFinal(stem, T_L) + 'ì„ ê±°ì˜ˆìš”';
  if(S_IRR_SET.has(da)) return setFinal(stem, 0)   + 'ì„ ê±°ì˜ˆìš”';
  if(/ë¥´ë‹¤$/.test(da))  return setFinal(stem, T_L) + ' ê±°ì˜ˆìš”';
  if(d && d.ti===T_L) return stem + ' ê±°ì˜ˆìš”';
  return (d && d.ti===0) ? (setFinal(stem, T_L) + ' ê±°ì˜ˆìš”') : (stem + 'ì„ ê±°ì˜ˆìš”');
}

/* ========= English meaning per tense ========= */
function normalizeVerbAdjEnglish(enRaw){
  const en = enRaw.trim();
  const toMatches = [...en.matchAll(/(?:^|[,/;])\s*to\s+([a-z].*?)\s*$/ig)];
  if(toMatches.length){
    const base = toMatches[toMatches.length-1][1].trim();
    if(/^be\b/i.test(base)) return {type:'be', base: base.replace(/^be\b\s*/i,'').trim()};
    return {type:'verb', base};
  }
  if(/^to\s+be\s+/i.test(en)) return {type:'be', base: en.replace(/^to\s+be\s+/i,'').trim()};
  if(/^to\s+/i.test(en)) return {type:'verb', base: en.replace(/^to\s+/i,'').trim()};
  return {type:'other', base: en};
}
const IRREG_PAST = {go:'went', come:'came', do:'did', eat:'ate', drink:'drank', read:'read', buy:'bought', meet:'met', make:'made', give:'gave', take:'took', write:'wrote', run:'ran', see:'saw', watch:'watched', sleep:'slept', drive:'drove', speak:'spoke', say:'said', have:'had', put:'put', cut:'cut', teach:'taught', catch:'caught', think:'thought', feel:'felt', leave:'left', find:'found', sing:'sang', sit:'sat', stand:'stood', begin:'began', become:'became', hear:'heard', hold:'held', keep:'kept', pay:'paid'};
function toIng(w){
  const lw=w.toLowerCase();
  if(lw==='be') return 'being';
  if(/ie$/i.test(w)) return w.slice(0,-2)+'ying';
  if(/e$/i.test(w) && !/(ee|ye|oe)$/i.test(w)) return w.slice(0,-1)+'ing';
  if(/[^aeiou][aeiou][^aeiouwxy]$/i.test(w) && w.length<=5) return w + w.slice(-1) + 'ing';
  return w+'ing';
}
function pastOf(w){
  const lw=w.trim().toLowerCase();
  if(IRREG_PAST[lw]) return IRREG_PAST[lw];
  if(/e$/.test(lw)) return lw+'d';
  if(/[^aeiou]y$/.test(lw)) return lw.slice(0,-1)+'ied';
  return lw+'ed';
}
function tenseMeaning(enRaw, pos, tense){
  const info = normalizeVerbAdjEnglish(enRaw);
  if(info.type==='be' || pos==='adjective'){
    const x = info.type==='be' ? info.base : enRaw.replace(/^to\s+be\s+/i,'').trim();
    if(tense==='pres') return `is/are ${x}`;
    if(tense==='past') return `was/were ${x}`;
    return `will be ${x}`;
  }
  if(info.type==='verb'){
    const v = info.base;
    if(tense==='pres') return `${v} / are/is ${toIng(v)}`;
    if(tense==='past') return pastOf(v);
    return `will ${v}`;
  }
  return info.base;
}

/* ========== Build dataset & UI state ========== */
const DATA = patchEntries(parseLines(RAW)).map(tagPOS);
const state = { cat: 'all', query: '' };
const listEl = document.getElementById('list');
const nohitEl = document.getElementById('nohit');
const q = document.getElementById('q');

/* ========= TTS ========= */
let koVoice = null;
function pickKoreanVoice(){
  const voices = speechSynthesis.getVoices();
  koVoice = voices.find(v => (v.lang || '').toLowerCase().startsWith('ko')) || null;
}
pickKoreanVoice();
window.speechSynthesis.onvoiceschanged = pickKoreanVoice;

/* ========= Filters ========= */
document.getElementById('filters').addEventListener('click', (e)=>{
  const pill = e.target.closest('.pill'); if(!pill) return;
  [...e.currentTarget.children].forEach(n=>n.classList.remove('active'));
  pill.classList.add('active');
  state.cat = pill.dataset.cat;
  applyFilters();
});

/* ========= Search & clear ========= */
q.addEventListener('input', ()=>{ state.query = q.value.trim().toLowerCase(); applyFilters(); });
document.getElementById('clearBtn').addEventListener('click', ()=>{ q.value=''; state.query=''; applyFilters(); });

/* ========= Rendering ========= */
function escapeHtml(s){
  return String(s).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');
}
function escapeAttr(s){ return String(s).replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/</g,'&lt;'); }
function escapeReg(s){ return String(s).replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
function highlightAny(text, term){
  if(!term) return escapeHtml(text);
  const re = new RegExp('('+escapeReg(term)+')','ig');
  return escapeHtml(text).replace(re,'<mark>$1</mark>');
}

function applyFilters(){
  let items = DATA.slice();
  if(state.cat!=='all') items = items.filter(it=>it.pos===state.cat);
  const term = state.query;
  if(term){
    items = items.filter(it =>
      it.ko.toLowerCase().includes(term) ||
      it.en.toLowerCase().includes(term) ||
      (''+it.page).includes(term)
    );
  }
  items.sort((a,b)=> a.page - b.page);
  renderList(items, term);
}

function renderList(items, term){
  [...listEl.querySelectorAll('.row, .exp')].forEach(n=>n.remove());
  if(!items.length){ nohitEl.style.display='block'; return; }
  nohitEl.style.display='none';

  const frag = document.createDocumentFragment();

  for (const it of items){
    const isVA = (it.pos==='verb' || it.pos==='adjective');
    const row = document.createElement('div');
    row.className = 'row';
    row.dataset.pos = it.pos;

    const toggle = isVA ? '<span class="toggle" title="Expand/Collapse">â–¸</span>' : '';

    const koenCell = `
      <div class="koen">
        <div class="ko-line">${toggle}<span>${highlightAny(it.baseKo || it.ko, term)}</span></div>
        <div class="en-line">${highlightAny(it.en, term)}</div>
      </div>
    `;

    row.innerHTML = `
      <div class="num">${(''+it.page)}</div>
      ${koenCell}
      <button class="play" title="Play: ${escapeAttr(it.baseKo || it.ko)}" aria-label="Play ${escapeAttr(it.baseKo || it.ko)}" data-ko="${escapeAttr(it.baseKo || it.ko)}">
        <svg viewBox="0 0 24 24" aria-hidden="true"><path d="M8 5v14l11-7z"/></svg>
      </button>
    `;
    frag.appendChild(row);

    if (isVA) {
      const da = it.baseKo;
      const pres = presentPolite(da, it.pos);
      const past = pastPolite(da, it.pos);
      const futu = futurePolite(da, it.pos);

      const exp = document.createElement('div');
      exp.className = 'exp';
      exp.innerHTML = `
        <div class="tenses">
          <div class="tense">
            <div class="t-head">
              <b>Present</b>
              <button class="play-mini" title="Play ${escapeAttr(pres)}" data-ko="${escapeAttr(pres)}">
                <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              </button>
            </div>
            <div class="t-form">${escapeHtml(pres)}</div>
            <div class="t-eng">â€” ${escapeHtml(tenseMeaning(it.en, it.pos, 'pres'))}</div>
          </div>

          <div class="tense">
            <div class="t-head">
              <b>Past</b>
              <button class="play-mini" title="Play ${escapeAttr(past)}" data-ko="${escapeAttr(past)}">
                <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              </button>
            </div>
            <div class="t-form">${escapeHtml(past)}</div>
            <div class="t-eng">â€” ${escapeHtml(tenseMeaning(it.en, it.pos, 'past'))}</div>
          </div>

          <div class="tense">
            <div class="t-head">
              <b>Future</b>
              <button class="play-mini" title="Play ${escapeAttr(futu)}" data-ko="${escapeAttr(futu)}">
                <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
              </button>
            </div>
            <div class="t-form">${escapeHtml(futu)}</div>
            <div class="t-eng">â€” ${escapeHtml(tenseMeaning(it.en, it.pos, 'futu'))}</div>
          </div>
        </div>
      `;
      frag.appendChild(exp);
    }
  }
  listEl.appendChild(frag);
}

/* ========= Row toggles & audio ========= */
listEl.addEventListener('click', (e)=>{
  // accordion open/close for verb/adj rows
  if (
    e.target.classList.contains('toggle') ||
    (e.target.closest('.ko-line') &&
     e.target.closest('.row')?.dataset.pos !== 'noun' &&
     e.target.closest('.row')?.dataset.pos !== 'adverb')
  ) {
    const row = e.target.closest('.row');
    if (!row) return;
    const exp = row.nextElementSibling;
    if (!exp || !exp.classList.contains('exp')) return;

    const willOpen = !row.classList.contains('open');
    listEl.querySelectorAll('.row.open').forEach(r => {
      if (r !== row) {
        r.classList.remove('open');
        const tt = r.querySelector('.toggle');
        if (tt) tt.textContent = 'â–¸';
      }
    });
    if (willOpen) {
      row.classList.add('open');
      const t = row.querySelector('.toggle');
      if (t) t.textContent = 'â–¾';
    } else {
      row.classList.remove('open');
      const t = row.querySelector('.toggle');
      if (t) t.textContent = 'â–¸';
    }
    return;
  }

  // base audio
  const btn = e.target.closest('.play');
  if(btn){ speakKo(btn.getAttribute('data-ko') || ''); return; }
  // per-tense audio
  const mbtn = e.target.closest('.play-mini');
  if(mbtn){ speakKo(mbtn.getAttribute('data-ko') || ''); return; }
});

function speakKo(txt){
  try{
    speechSynthesis.cancel();
    const u = new SpeechSynthesisUtterance(txt);
    u.lang = 'ko-KR';
    if(koVoice) u.voice = koVoice;
    u.rate = 0.95; u.pitch = 1.0;
    speechSynthesis.speak(u);
  }catch(err){
    alert('TTS not supported in this browser.');
  }
}

applyFilters();



/* ========= Quick self-checks ========= */
console.log('ë¥ë‹¤', presentPolite('ë¥ë‹¤','adjective')==='ë”ì›Œìš”', pastPolite('ë¥ë‹¤','adjective')==='ë”ì› ì–´ìš”', futurePolite('ë¥ë‹¤','adjective')==='ë”ìš¸ ê±°ì˜ˆìš”');
console.log('ì¶¥ë‹¤', presentPolite('ì¶¥ë‹¤','adjective')==='ì¶”ì›Œìš”', pastPolite('ì¶¥ë‹¤','adjective')==='ì¶”ì› ì–´ìš”', futurePolite('ì¶¥ë‹¤','adjective')==='ì¶”ìš¸ ê±°ì˜ˆìš”');

console.log('ë•ë‹¤', presentPolite('ë•ë‹¤','verb')==='ë„ì™€ìš”', pastPolite('ë•ë‹¤','verb')==='ë„ì™”ì–´ìš”', futurePolite('ë•ë‹¤','verb')==='ë„ìš¸ ê±°ì˜ˆìš”');
console.log('ê³±ë‹¤', presentPolite('ê³±ë‹¤','adjective')==='ê³ ì™€ìš”', pastPolite('ê³±ë‹¤','adjective')==='ê³ ì™”ì–´ìš”', futurePolite('ê³±ë‹¤','adjective')==='ê³ ìš¸ ê±°ì˜ˆìš”');

console.log('ê±·ë‹¤', presentPolite('ê±·ë‹¤','verb')==='ê±¸ì–´ìš”', pastPolite('ê±·ë‹¤','verb')==='ê±¸ì—ˆì–´ìš”', futurePolite('ê±·ë‹¤','verb')==='ê±¸ì„ ê±°ì˜ˆìš”');
console.log('ë“£ë‹¤', presentPolite('ë“£ë‹¤','verb')==='ë“¤ì–´ìš”', pastPolite('ë“£ë‹¤','verb')==='ë“¤ì—ˆì–´ìš”', futurePolite('ë“£ë‹¤','verb')==='ë“¤ì„ ê±°ì˜ˆìš”');

console.log('ì§“ë‹¤', presentPolite('ì§“ë‹¤','verb')==='ì§€ì–´ìš”', pastPolite('ì§“ë‹¤','verb')==='ì§€ì—ˆì–´ìš”', futurePolite('ì§“ë‹¤','verb')==='ì§€ì„ ê±°ì˜ˆìš”');
console.log('ë¶€ë¥´ë‹¤', presentPolite('ë¶€ë¥´ë‹¤','verb')==='ë¶ˆëŸ¬ìš”', pastPolite('ë¶€ë¥´ë‹¤','verb')==='ë¶ˆë €ì–´ìš”', futurePolite('ë¶€ë¥´ë‹¤','verb')==='ë¶€ë¥¼ ê±°ì˜ˆìš”');

console.log('í¬ë‹¤', presentPolite('í¬ë‹¤','adjective')==='ì»¤ìš”', pastPolite('í¬ë‹¤','adjective')==='ì»¸ì–´ìš”', futurePolite('í¬ë‹¤','adjective')==='í´ ê±°ì˜ˆìš”');
console.log('ì˜ˆì˜ë‹¤', presentPolite('ì˜ˆì˜ë‹¤','adjective')==='ì˜ˆë»ìš”', pastPolite('ì˜ˆì˜ë‹¤','adjective')==='ì˜ˆë»¤ì–´ìš”', futurePolite('ì˜ˆì˜ë‹¤','adjective')==='ì˜ˆì  ê±°ì˜ˆìš”');

console.log('ê°€ë‹¤', presentPolite('ê°€ë‹¤','verb')==='ê°€ìš”', pastPolite('ê°€ë‹¤','verb')==='ê°”ì–´ìš”', futurePolite('ê°€ë‹¤','verb')==='ê°ˆ ê±°ì˜ˆìš”');
console.log('ì˜¤ë‹¤', presentPolite('ì˜¤ë‹¤','verb')==='ì™€ìš”', pastPolite('ì˜¤ë‹¤','verb')==='ì™”ì–´ìš”', futurePolite('ì˜¤ë‹¤','verb')==='ì˜¬ ê±°ì˜ˆìš”');
console.log('ì½ë‹¤', presentPolite('ì½ë‹¤','verb')==='ì½ì–´ìš”', pastPolite('ì½ë‹¤','verb')==='ì½ì—ˆì–´ìš”', futurePolite('ì½ë‹¤','verb')==='ì½ì„ ê±°ì˜ˆìš”');
</script>
  
   <script>
  // Disable right click / selection / drag / certain keys
  document.addEventListener("contextmenu", e=>e.preventDefault(), false);
  document.addEventListener("selectstart", e=>e.preventDefault(), false);
  document.addEventListener("dragstart", e=>e.preventDefault(), false);
  document.addEventListener("keydown", function(e){
    if ( e.key === "F12" || (e.ctrlKey && ["u","s","c","x","v"].includes(e.key.toLowerCase())) ) { e.preventDefault(); }
  }, false);
  </script>
  <script>
// ===== Extra voices (EN) =====
let enVoice = null;
function pickEnglishVoice(){
  const voices = speechSynthesis.getVoices();
  // Prefer en-US female-ish if available, else any English
  enVoice = voices.find(v => (v.lang||'').toLowerCase().startsWith('en-us')) ||
            voices.find(v => (v.lang||'').toLowerCase().startsWith('en')) || null;
}
pickEnglishVoice();
window.speechSynthesis.onvoiceschanged = () => { pickKoreanVoice(); pickEnglishVoice(); };

// ===== Helpers =====
function sleep(ms){ return new Promise(r => setTimeout(r, ms)); }

function speak(text, {lang='ko-KR', voice=null, rate=0.95, pitch=1.0}={}){
  return new Promise((resolve,reject)=>{
    try{
      const u = new SpeechSynthesisUtterance(text);
      u.lang = lang;
      if(voice) u.voice = voice;
      u.rate = rate; u.pitch = pitch;
      u.onend = () => resolve();
      u.onerror = (e) => reject(e.error || e);
      speechSynthesis.speak(u);
    }catch(err){ reject(err); }
  });
}

// simple "ting" via WebAudio (no external file)
function playTing(durationMs=200, freq=880){
  try{
    const ctx = new (window.AudioContext || window.webkitAudioContext)();
    const o = ctx.createOscillator();
    const g = ctx.createGain();
    o.type = 'sine';
    o.frequency.value = freq;
    o.connect(g); g.connect(ctx.destination);
    g.gain.setValueAtTime(0.001, ctx.currentTime);
    g.gain.exponentialRampToValueAtTime(0.2, ctx.currentTime + 0.02);
    g.gain.exponentialRampToValueAtTime(0.001, ctx.currentTime + durationMs/1000);
    o.start();
    o.stop(ctx.currentTime + durationMs/1000 + 0.02);
    // close context after a tick
    setTimeout(()=>ctx.close(), durationMs+150);
  }catch(e){}
}

// kumuha ng items ayon sa kasalukuyang filter + search
function getCurrentFilteredItems(){
  let items = DATA.slice();
  if(state.cat!=='all') items = items.filter(it => it.pos === state.cat);
  const term = (state.query||'').toLowerCase();
  if(term){
    items = items.filter(it =>
      it.ko.toLowerCase().includes(term) ||
      it.en.toLowerCase().includes(term) ||
      (''+it.page).includes(term)
    );
  }
  items.sort((a,b)=> a.page - b.page);
  return items;
}

// ===== Autoplay engine =====
let isPlayingAll = false;

async function playAllSequence(){
  if(isPlayingAll) return;
  const playBtn = document.getElementById('playAllBtn');
  const stopBtn = document.getElementById('stopAllBtn');
  const statusEl = document.getElementById('playStatus');

  const items = getCurrentFilteredItems();
  if(!items.length){ alert('Walang items sa kasalukuyang filter/search.'); return; }

  isPlayingAll = true;
  playBtn.disabled = true; stopBtn.style.display='inline-block';
  statusEl && (statusEl.textContent = `Playing ${items.length} item(s)â€¦`);

  // Cancel any ongoing TTS first
  try{ speechSynthesis.cancel(); }catch(e){}

  for(let i=0; i<items.length && isPlayingAll; i++){
    const it = items[i];
    const ko = it.baseKo || it.ko;
    const en = it.en;

    // 1) Korean
    await speak(ko, {lang:'ko-KR', voice:koVoice, rate:0.95, pitch:1.0}).catch(()=>{});
    if(!isPlayingAll) break;
    await sleep(2000);

    // 2) Korean (ulit)
    await speak(ko, {lang:'ko-KR', voice:koVoice, rate:0.95, pitch:1.0}).catch(()=>{});
    if(!isPlayingAll) break;
    await sleep(2000);

    // 3) English
    await speak(en, {lang:'en-US', voice:enVoice, rate:1.0, pitch:1.0}).catch(()=>{});
    if(!isPlayingAll) break;

    // ting + 1s bago next
    playTing(980, 990);
    await sleep(2000);

    statusEl && (statusEl.textContent = `Playing ${i+1}/${items.length}â€¦`);
  }

  // wrap-up
  isPlayingAll = false;
  try{ speechSynthesis.cancel(); }catch(e){}
  playBtn.disabled = false; stopBtn.style.display='none';
  statusEl && (statusEl.textContent = '');
}

function stopAll(){
  isPlayingAll = false;
  try{ speechSynthesis.cancel(); }catch(e){}
  const playBtn = document.getElementById('playAllBtn');
  const stopBtn = document.getElementById('stopAllBtn');
  const statusEl = document.getElementById('playStatus');
  playBtn.disabled = false;
  stopBtn.style.display = 'none';
  statusEl && (statusEl.textContent = '');
}

// buttons
document.getElementById('playAllBtn').addEventListener('click', playAllSequence);
document.getElementById('stopAllBtn').addEventListener('click', stopAll);

// kapag nagpalit ka ng filter pills or nag-search habang tumutugtog, auto-stop para hindi magulo
document.getElementById('filters').addEventListener('click', ()=>{ if(isPlayingAll) stopAll(); });
q.addEventListener('input', ()=>{ if(isPlayingAll) stopAll(); });



// --- Fisherâ€“Yates shuffle ---
function shuffleInPlace(arr){
  for(let i=arr.length-1;i>0;i--){
    const j = Math.floor(Math.random() * (i+1));
    [arr[i], arr[j]] = [arr[j], arr[i]];
  }
  return arr;
}

async function playRandomSequence(){
  if(isPlayingAll) return; // prevent overlap with any running sequence
  const playBtn = document.getElementById('randomPlayBtn');
  const stopBtn = document.getElementById('stopAllBtn');
  const statusEl = document.getElementById('playStatus');

  let items = getCurrentFilteredItems();
  if(!items.length){ alert('Walang items sa kasalukuyang filter/search.'); return; }
  items = shuffleInPlace(items);

  isPlayingAll = true;
  // disable both play buttons para iwas double-play
  document.getElementById('playAllBtn').disabled = true;
  playBtn.disabled = true; 
  stopBtn.style.display='inline-block';
  statusEl && (statusEl.textContent = `Random: ${items.length} item(s)â€¦`);

  try{ speechSynthesis.cancel(); }catch(e){}

  for(let i=0; i<items.length && isPlayingAll; i++){
    const it = items[i];
    const ko = it.baseKo || it.ko;
    const en = it.en;

    await speak(ko, {lang:'ko-KR', voice:koVoice, rate:0.95, pitch:1.0}).catch(()=>{});
    if(!isPlayingAll) break;
    await sleep(1000);

    await speak(ko, {lang:'ko-KR', voice:koVoice, rate:0.95, pitch:1.0}).catch(()=>{});
    if(!isPlayingAll) break;
    await sleep(1000);

    await speak(en, {lang:'en-US', voice:enVoice, rate:1.0, pitch:1.0}).catch(()=>{});
    if(!isPlayingAll) break;

    playTing(980, 990);
    await sleep(2000);

    statusEl && (statusEl.textContent = `Random ${i+1}/${items.length}â€¦`);
  }

  isPlayingAll = false;
  try{ speechSynthesis.cancel(); }catch(e){}
  document.getElementById('playAllBtn').disabled = false;
  playBtn.disabled = false; 
  stopBtn.style.display='none';
  statusEl && (statusEl.textContent = '');
}

// hook up
document.getElementById('randomPlayBtn').addEventListener('click', playRandomSequence);

// auto-stop if filters/search change habang tumutugtog (reuse existing listeners)
</script>



</body>
</html>

