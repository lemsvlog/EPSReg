<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Flip Cards – Sky Blue Freeze (Sequential + Autoplay + Per-form Buttons)</title>
  <style>
    /* ===== Sky Blue Freeze Theme ===== */
    :root{
      --bg-1:#03121f; --bg-2:#0a1e2e;
      --ice-1:#ecfeff; --ice-2:#dbeafe; --ice-3:#bae6fd;
      --text:#eef6ff; --muted:#a9c3d9;
      --accent:#38bdf8; --accent-2:#0ea5e9;
      --cyan:#67e8f9; --cyan-2:#22d3ee; --navy:#0b2440;
      --ring:0 0 18px rgba(56,189,248,.55), 0 0 32px rgba(103,232,249,.35);
      --border:1px solid rgba(186,230,253,.30);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family:"Segoe UI",system-ui,-apple-system,Arial,sans-serif; color:var(--text);
      min-height:100vh; display:flex; flex-direction:column; align-items:center; gap:12px;
      background:
        radial-gradient(1200px 800px at 5% -10%, rgba(56,189,248,.18), transparent 60%),
        radial-gradient(1200px 800px at 120% 110%, rgba(103,232,249,.16), transparent 60%),
        linear-gradient(180deg, var(--bg-1), #061a2b 65%, #04121e);
      position:relative; isolation:isolate; padding:22px 16px 42px;
    }
    body::before{
      content:""; position:fixed; inset:-20%;
      background: conic-gradient(from 200deg at 60% 40%, rgba(186,230,253,.12), rgba(34,211,238,.10), rgba(56,189,248,.14), rgba(186,230,253,.10), rgba(34,211,238,.10));
      filter:blur(48px); animation: drift 20s linear infinite; z-index:-1; opacity:.9;
    }
    @keyframes drift{0%{transform:translate3d(0,0,0) rotate(0) scale(1)}50%{transform:translate3d(-3%,1%,0) rotate(10deg) scale(1.05)}100%{transform:translate3d(0,0,0) rotate(0) scale(1)}}

    header{text-align:center}
    .title{
      margin:0; font-size:2.2rem; font-weight:900; letter-spacing:2px; text-transform:uppercase;
      background:linear-gradient(180deg, var(--ice-1), var(--ice-2) 55%, var(--ice-3));
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      text-shadow:0 0 10px rgba(255,255,255,.75),0 0 24px rgba(56,189,248,.45);
    }
    .subtitle{ margin:4px 0 0; color:var(--muted); font-weight:600 }
    .progress{ margin-top:6px; font-weight:800; color:var(--ice-2) }

    .stage{ width:min(520px, 94vw); height:400px; display:flex; align-items:center; justify-content:center; margin-top:10px; }
    .flip{ perspective:1200px; width:100%; height:100%; }
    .card{ position:relative; width:100%; height:100%; transform-style:preserve-3d; transition: transform .75s cubic-bezier(.2,.7,.2,1); }
    .flipped .card{ transform:rotateY(180deg); }

    .face{ position:absolute; inset:0; border-radius:18px; backface-visibility:hidden; overflow:hidden; display:flex; flex-direction:column; align-items:center; justify-content:center; gap:14px; text-align:center; padding:18px; }
    .front{ color:#0c253a; background:linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.88)); border:1px solid rgba(255,255,255,.65); box-shadow:0 12px 26px rgba(2,12,22,.45); }
    .back{ transform:rotateY(180deg); background: linear-gradient(180deg, rgba(10,30,46,.86), rgba(7,22,36,.94)); border:var(--border); box-shadow:var(--ring); }

    .ko{ font-size:2.2rem; font-weight:900; letter-spacing:.5px; text-shadow:0 1px 0 rgba(255,255,255,.7); color:#0c253a }

    .ko-row{ display:flex; align-items:center; justify-content:space-between; gap:10px; width:min(460px,96%); }
    .play-base{ appearance:none; border:none; cursor:pointer; border-radius:10px; padding:8px 12px; font-weight:900; color:#072235; background:linear-gradient(90deg, var(--cyan), var(--accent)); box-shadow:0 6px 18px rgba(56,189,248,.35); }
    .play-base:hover{ filter:brightness(1.08) }

    .forms{ width:min(460px,96%); margin:4px auto 0; padding:0; list-style:none; text-align:left; }
    .forms li{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 12px; margin:8px 0; border-radius:12px; background:linear-gradient(180deg, #071c2c, #061725); border:1px solid rgba(186,230,253,.2); color:var(--ice-2) }
    .forms .left{ display:flex; gap:8px; align-items:center; flex-wrap:wrap }
    .forms b{ color:var(--ice-3) }
    .play-mini{ flex:0 0 auto; appearance:none; border:none; cursor:pointer; border-radius:10px; padding:8px 10px; font-weight:900; color:#072235; background:linear-gradient(90deg, var(--cyan), var(--accent)); box-shadow:0 6px 18px rgba(56,189,248,.35); }
    .play-mini:hover{ filter:brightness(1.08) }

    .enhead{ font-size:1.2rem; font-weight:900; color:var(--ice-1); margin-top:6px; text-align:left; width:min(460px,96%); }
    .enlines{ width:min(460px,96%); margin:6px auto 0; padding:0; list-style:none; text-align:left; }
    .enlines li{ padding:8px 10px; margin:6px 0; border-radius:12px; background:linear-gradient(180deg, #071c2c, #061725); border:1px solid rgba(186,230,253,.2); color:var(--ice-2) }
    .enlines b{ color:var(--ice-3) }

    .controls{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; margin:0 }
    .btn{ appearance:none; border:none; cursor:pointer; font-weight:900; letter-spacing:.3px; border-radius:12px; padding:10px 14px; color:#072235; background:linear-gradient(90deg, var(--cyan), var(--accent)); box-shadow:0 6px 18px rgba(56,189,248,.35); transition:transform .12s ease, filter .2s ease, box-shadow .2s ease }
    .btn:hover{ filter:brightness(1.08); transform:translateY(-1px); box-shadow:var(--ring) }
    .ghost{ background:transparent; color:var(--ice-2); border:1px solid rgba(186,230,253,.35) }

    .gate, .finish{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(1,7,13,.55); backdrop-filter: blur(6px) saturate(130%); -webkit-backdrop-filter: blur(6px) saturate(130%); z-index:5; }
    .panel{ width:min(520px,92vw); background: linear-gradient(180deg, rgba(10,30,46,.86), rgba(7,22,36,.94)); border:var(--border); border-radius:16px; padding:20px; text-align:center; box-shadow:var(--ring); }
    .panel h2{ margin:0 0 8px; font-size:22px; font-weight:900; color:var(--ice-1) }
    .panel p{ margin:6px 0 14px; color:var(--muted) }

    @media (max-width:768px){ .stage{ height:420px } .ko{ font-size:2.4rem } }

    .flip.animating{ pointer-events:none; }
    @keyframes flyOut{ from{opacity:1; transform:translate3d(0,0,0) scale(1)} to{opacity:0; transform:translate3d(60vw,-6vh,0) rotate(8deg) scale(.96)} }
    @keyframes flyIn{ from{opacity:0; transform:translate3d(-60vw,6vh,0) rotate(-6deg) scale(.96)} to{opacity:1; transform:translate3d(0,0,0) rotate(0) scale(1)} }
    .flip.fly-exit .card{ animation: flyOut .55s cubic-bezier(.2,.7,.2,1) forwards; }
    .flip.fly-enter .card{ animation: flyIn .55s cubic-bezier(.2,.7,.2,1) forwards; }

    #flipToFront{
      background: linear-gradient(90deg, #a78bfa, #60a5fa) !important; color:#07162a !important; border:none !important;
      font-weight:900; letter-spacing:.6px; text-transform:uppercase;
      box-shadow:0 10px 26px rgba(96,165,250,.45), 0 0 26px rgba(167,139,250,.35);
    }
    #flipToFront:hover{ filter:brightness(1.08); box-shadow:0 0 22px rgba(96,165,250,.65), 0 0 34px rgba(167,139,250,.45); }

    /* 3D icy flip button (front) */
    #flipToBack{
      position:relative; padding:14px 22px !important; border-radius:16px;
      border:1px solid rgba(255,255,255,.75) !important; border-bottom-color:rgba(10,60,90,.45) !important; border-right-color:rgba(10,60,90,.35) !important;
      background:linear-gradient(180deg, rgba(236,254,255,.98) 0%, rgba(219,234,254,.96) 38%, rgba(56,189,248,.93) 100%) !important;
      color:#062136 !important; text-transform:uppercase; letter-spacing:.8px; font-weight:900;
      box-shadow:0 14px 28px rgba(56,189,248,.35), 0 6px 0 rgba(6,26,43,.65), inset 0 1px 0 rgba(255,255,255,.95), inset 0 -8px 20px rgba(7,34,53,.25);
      transform:translateY(-1px); transition:transform .18s ease, box-shadow .22s ease, filter .22s ease; overflow:hidden; isolation:isolate;
    }
    #flipToBack::before{
      content:""; position:absolute; inset:2px 2px 10px 2px; border-radius:14px;
      background:linear-gradient(180deg, rgba(255,255,255,.65), rgba(255,255,255,0) 60%); pointer-events:none; mix-blend-mode:screen;
    }
    #flipToBack::after{
      content:""; position:absolute; inset:-45% -70%;
      background:
        radial-gradient(12px 12px at 22% 32%, rgba(255,255,255,.85), transparent 60%),
        radial-gradient(10px 10px at 72% 65%, rgba(255,255,255,.55), transparent 60%),
        linear-gradient(115deg, rgba(255,255,255,0) 35%, rgba(255,255,255,.45) 50%, rgba(255,255,255,0) 65%);
      transform:translateX(-120%) rotate(8deg); animation:icySweep 2.6s ease-in-out infinite; pointer-events:none; mix-blend-mode:screen;
    }
    #flipToBack:hover{
      filter:brightness(1.06); transform:translateY(-3px);
      box-shadow:0 18px 36px rgba(56,189,248,.45), 0 8px 0 rgba(6,26,43,.6), inset 0 1px 0 rgba(255,255,255,1), inset 0 -10px 24px rgba(7,34,53,.28);
    }
    #flipToBack:active{
      transform:translateY(0);
      box-shadow:0 8px 16px rgba(56,189,248,.35), 0 3px 0 rgba(6,26,43,.7), inset 0 1px 0 rgba(255,255,255,.95), inset 0 -6px 16px rgba(7,34,53,.28);
    }
    @keyframes icySweep{ 0%{transform:translateX(-120%) rotate(8deg); opacity:.95} 50%{opacity:1} 100%{transform:translateX(120%) rotate(8deg); opacity:.95} }

    /* Emphasis for Korean forms */
    .koform{ font-size:1.38rem; font-weight:300; letter-spacing:.3px; color:var(--ice-1); }
    @media (max-width:420px){ .koform{ font-size:1.18rem; } }

    /* Floating Home Button */
    .floating-home {
      position: fixed; top: 0; right: 0;
      background: linear-gradient(90deg, var(--cyan), var(--accent));
      color: #072235; font-size: 14px; font-weight: 700; text-decoration: none;
      padding: 8px 16px; border-radius: 0 0 0 10px; box-shadow: 0 6px 18px rgba(56,189,248,.35);
      z-index: 9999; transition: all 0.25s ease; backdrop-filter: blur(8px) saturate(140%); -webkit-backdrop-filter: blur(8px) saturate(140%);
    }
    .floating-home:hover{ filter:brightness(1.12); box-shadow: 0 0 12px rgba(56,189,248,.55), 0 0 24px rgba(103,232,249,.45); transform: translateY(-1px); }

    /* ===== Choices (4 boxes) ===== */
    .quiz{ width:min(520px,94vw); margin:4px auto 0; }
    .quiz .toggleRow{
      display:flex; align-items:center; justify-content:center; gap:10px; color:var(--ice-2); margin:4px 0 6px;
    }
    .choicesGrid{
      display:grid; grid-template-columns:repeat(2, minmax(140px,1fr)); gap:10px;
      width:min(460px,96%); margin:6px auto 0;
    }
    .choiceBtn{
      appearance:none; border:1px solid rgba(186,230,253,.35); background:linear-gradient(180deg,#071c2c,#061725);
      color:var(--ice-1); font-weight:800; padding:10px 12px; border-radius:12px; cursor:pointer; text-align:center;
      min-height:44px; box-shadow:0 6px 18px rgba(56,189,248,.20); transition:filter .18s ease, transform .12s ease, box-shadow .18s ease;
      user-select:none; font-size:.92rem;
    }
    .choiceBtn:hover{ filter:brightness(1.08); transform:translateY(-1px) }
    .choiceBtn.correct{
      border-color:rgba(56,189,248,.8);
      box-shadow:0 0 0 2px rgba(56,189,248,.55), 0 0 22px rgba(56,189,248,.45);
      background:linear-gradient(180deg,#0b2a42,#08314e);
    }
    .choiceBtn.reveal{
      border-color:rgba(56,189,248,.9);
      box-shadow:0 0 0 3px rgba(56,189,248,.8), 0 0 28px rgba(56,189,248,.6);
      background:linear-gradient(180deg,#0b2a42,#08314e);
    }
    @keyframes shakeX{
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-7px)} 40%{transform:translateX(7px)}
      60%{transform:translateX(-5px)} 80%{transform:translateX(5px)}
    }
    .choiceBtn.wrong{
      background:linear-gradient(180deg,#2b0a0a,#1a0707); border-color:rgba(255,99,132,.65);
      animation:shakeX .35s ease;
    }
  </style>
</head>
<body>
  <!-- Floating Home Button -->
  <a href="index.html" class="floating-home">Home</a>

  <header>
    <h1 class="title">VIZKOR Flip Cards</h1>
    <p class="subtitle">Korean BASIC Verb 145</p>
    <div class="progress" id="progress">&nbsp;</div>
  </header>

  <section class="stage">
    <div class="flip" id="flipWrap" aria-live="polite">
      <div class="card" id="card" tabindex="0" aria-label="Flip card">
        <section class="face front" id="front"></section>
        <section class="face back" id="back"></section>
      </div>
    </div>
  </section>

 
  <!-- ===== Choices UI (toggle + 4 boxes) ===== -->
  <section class="quiz" id="quiz">
    <div class="toggleRow">
      <input type="checkbox" id="toggleChoices" checked />
      <label for="toggleChoices">Show choices (English meaning)</label>
    </div>
    <div id="choicesGrid" class="choicesGrid" role="group" aria-label="Choices"></div>
  </section>

  <div class="gate" id="gate">
    <div class="panel">
      <h2>Start Practice</h2>
      <p>Enable audio first. Then each card autoplays the base Korean once. Use ▶ for forms, 🔊 to replay base, and FLIP to view English + Tagalog.</p>
      <div class="controls"><button class="btn" id="startBtn">Start (Enable Audio)</button></div>
    </div>
  </div>

  <div class="finish" id="finish" style="display:none">
    <div class="panel">
      <h2>Finished! 🎉</h2>
      <p>Na-randomize na lahat. Gusto mo bang ulitin (reshuffle)?</p>
      <div class="controls"><button class="btn" id="restartBtn">Restart (Shuffle)</button></div>
    </div>
  </div>

  <audio id="koAudio" preload="auto"></audio>


  <script>
  // ===== Data =====
// ===== WORDS (101–257 only) =====
const WORDS_MASTER = [
  { ko:'오르내리다', en:'to go up and down', present:'오르내려요', past:'오르내렸어요', future:'오르내릴 거예요' },
  { ko:'오리다', en:'to cut out', present:'오려요', past:'오렸어요', future:'오릴 거예요' },
  { ko:'오해하다', en:'to misunderstand', present:'오해해요', past:'오해했어요', future:'오해할 거예요' },
  { ko:'옮기다', en:'to move/transfer', present:'옮겨요', past:'옮겼어요', future:'옮길 거예요' },
  { ko:'용접하다', en:'to weld', present:'용접해요', past:'용접했어요', future:'용접할 거예요' },
  { ko:'입원하다', en:'to be hospitalized', present:'입원해요', past:'입원했어요', future:'입원할 거예요' },
  { ko:'입증하다', en:'to prove', present:'입증해요', past:'입증했어요', future:'입증할 거예요' },
  { ko:'잃다', en:'to lose', present:'잃어요', past:'잃었어요', future:'잃을 거예요' },
  { ko:'재다', en:'to measure', present:'재요', past:'쟀어요', future:'잴 거예요' },
  { ko:'재활용하다', en:'to recycle', present:'재활용해요', past:'재활용했어요', future:'재활용할 거예요' },
  { ko:'젓다', en:'to stir', present:'저어요', past:'저었어요', future:'저을 거예요' },
  { ko:'조작하다', en:'to manipulate/operate', present:'조작해요', past:'조작했어요', future:'조작할 거예요' },
  { ko:'존중하다', en:'to respect', present:'존중해요', past:'존중했어요', future:'존중할 거예요' },
  { ko:'찍다', en:'to take (picture)/stamp', present:'찍어요', past:'찍었어요', future:'찍을 거예요' },
  { ko:'찌다', en:'to steam', present:'쪄요', past:'쪘어요', future:'찔 거예요' },
  { ko:'짜증을 내다', en:'to get annoyed', present:'짜증을 내요', past:'짜증을 냈어요', future:'짜증을 낼 거예요' },
  { ko:'철거하다', en:'to demolish', present:'철거해요', past:'철거했어요', future:'철거할 거예요' },
  { ko:'체결하다', en:'to conclude (agreement)', present:'체결해요', past:'체결했어요', future:'체결할 거예요' },
  { ko:'체하다', en:'to have indigestion', present:'체해요', past:'체했어요', future:'체할 거예요' },
  { ko:'출고하다', en:'to release goods', present:'출고해요', past:'출고했어요', future:'출고할 거예요' },
  { ko:'출하하다', en:'to ship (products)', present:'출하해요', past:'출하했어요', future:'출하할 거예요' },
  { ko:'치다', en:'to play/hit', present:'쳐요', past:'쳤어요', future:'칠 거예요' },
  { ko:'통역하다', en:'to interpret', present:'통역해요', past:'통역했어요', future:'통역할 거예요' },
  { ko:'환급하다', en:'to refund', present:'환급해요', past:'환급했어요', future:'환급할 거예요' },
  { ko:'환승하다', en:'to transfer (transport)', present:'환승해요', past:'환승했어요', future:'환승할 거예요' },
  { ko:'활동하다', en:'to be active', present:'활동해요', past:'활동했어요', future:'활동할 거예요' },
  { ko:'훈련하다', en:'to train', present:'훈련해요', past:'훈련했어요', future:'훈련할 거예요' },

  { ko:'공통이다', en:'to be common', present:'공통이에요', past:'공통이었어요', future:'공통일 거예요' },
  { ko:'단단하다', en:'to be solid', present:'단단해요', past:'단단했어요', future:'단단할 거예요' },
  { ko:'두껍다', en:'to be thick', present:'두꺼워요', past:'두꺼웠어요', future:'두꺼울 거예요' },
  { ko:'느리다', en:'to be slow', present:'느려요', past:'느렸어요', future:'느릴 거예요' },
  { ko:'느슨하다', en:'to be loose', present:'느슨해요', past:'느슨했어요', future:'느슨할 거예요' },
  { ko:'마르다', en:'to be dry', present:'말라요', past:'말랐어요', future:'마를 거예요' },
  { ko:'매끄럽다', en:'to be smooth', present:'매끄러워요', past:'매끄러웠어요', future:'매끄러울 거예요' },
  { ko:'메마르다', en:'to be dry/barren', present:'메말라요', past:'메말랐어요', future:'메마를 거예요' },
  { ko:'무섭다', en:'to be scary', present:'무서워요', past:'무서웠어요', future:'무서울 거예요' },
  { ko:'부드럽다', en:'to be soft', present:'부드러워요', past:'부드러웠어요', future:'부드러울 거예요' },
  { ko:'부정적이다', en:'to be negative', present:'부정적이에요', past:'부정적이었어요', future:'부정적일 거예요' },
  { ko:'불쾌하다', en:'to be unpleasant', present:'불쾌해요', past:'불쾌했어요', future:'불쾌할 거예요' },
  { ko:'부족하다', en:'to be lacking', present:'부족해요', past:'부족했어요', future:'부족할 거예요' },
  { ko:'싱싱하다', en:'to be fresh', present:'싱싱해요', past:'싱싱했어요', future:'싱싱할 거예요' },
  { ko:'약하다', en:'to be weak', present:'약해요', past:'약했어요', future:'약할 거예요' },
  { ko:'어둡다', en:'to be dark', present:'어두워요', past:'어두웠어요', future:'어두울 거예요' },
  { ko:'올바르다', en:'to be right/correct', present:'올바라요', past:'올바랐어요', future:'올바를 거예요' },
  { ko:'오염되다', en:'to be contaminated', present:'오염돼요', past:'오염됐어요', future:'오염될 거예요' },
  { ko:'위험하다', en:'to be dangerous', present:'위험해요', past:'위험했어요', future:'위험할 거예요' },
  { ko:'일정하다', en:'to be consistent', present:'일정해요', past:'일정했어요', future:'일정할 거예요' },
  { ko:'정확하다', en:'to be accurate', present:'정확해요', past:'정확했어요', future:'정확할 거예요' },
  { ko:'짜다', en:'to be salty', present:'짜요', past:'짰어요', future:'짤 거예요' },
  { ko:'차갑다', en:'to be cold (object)', present:'차가워요', past:'차가웠어요', future:'차가울 거예요' },
  { ko:'춥다', en:'to be cold (weather)', present:'추워요', past:'추웠어요', future:'추울 거예요' },
  { ko:'효과적이다', en:'to be effective', present:'효과적이에요', past:'효과적이었어요', future:'효과적일 거예요' },
  { ko:'흐리다', en:'to be cloudy', present:'흐려요', past:'흐렸어요', future:'흐릴 거예요' },
  { ko:'가렵다', en:'to feel itchy', present:'가려워요', past:'가려웠어요', future:'가려울 거예요' },

  { ko:'좋다', en:'to be good', present:'좋아요', past:'좋았어요', future:'좋을 거예요' },
  { ko:'나쁘다', en:'to be bad', present:'나빠요', past:'나빴어요', future:'나쁠 거예요' },
  { ko:'많다', en:'to be many/much', present:'많아요', past:'많았어요', future:'많을 거예요' },
  { ko:'적다', en:'to be few/little', present:'적어요', past:'적었어요', future:'적을 거예요' },
  { ko:'싸다', en:'to be cheap', present:'싸요', past:'쌌어요', future:'쌀 거예요' },
  { ko:'비싸다', en:'to be expensive', present:'비싸요', past:'비쌌어요', future:'비쌀 거예요' },
  { ko:'작다', en:'to be small', present:'작아요', past:'작았어요', future:'작을 거예요' },
  { ko:'크다', en:'to be big/large', present:'커요', past:'컸어요', future:'클 거예요' },
  { ko:'빠르다', en:'to be fast', present:'빨라요', past:'빨랐어요', future:'빠를 거예요' },
  { ko:'느리다', en:'to be slow', present:'느려요', past:'느렸어요', future:'느릴 거예요' },
  { ko:'쉽다', en:'to be easy', present:'쉬워요', past:'쉬웠어요', future:'쉬울 거예요' },
  { ko:'어렵다', en:'to be difficult/hard', present:'어려워요', past:'어려웠어요', future:'어려울 거예요' },
  { ko:'뜨겁다', en:'to be hot (touch)', present:'뜨거워요', past:'뜨거웠어요', future:'뜨거울 거예요' },
  { ko:'덥다', en:'to be hot (weather)', present:'더워요', past:'더웠어요', future:'더울 거예요' },
  { ko:'차갑다', en:'to be cold (touch)', present:'차가워요', past:'차가웠어요', future:'차가울 거예요' },
  { ko:'춥다', en:'to be cold (weather)', present:'추워요', past:'추웠어요', future:'추울 거예요' },
  { ko:'예쁘다', en:'to be pretty', present:'예뻐요', past:'예뻤어요', future:'예쁠 거예요' },
  { ko:'잘생기다', en:'to be handsome', present:'잘생겼어요', past:'잘생겼어요', future:'잘생길 거예요' },
  { ko:'귀엽다', en:'to be cute', present:'귀여워요', past:'귀여웠어요', future:'귀여울 거예요' },
  { ko:'깨끗하다', en:'to be clean', present:'깨끗해요', past:'깨끗했어요', future:'깨끗할 거예요' },
  { ko:'더럽다', en:'to be dirty', present:'더러워요', past:'더러웠어요', future:'더러울 거예요' },
  { ko:'시끄럽다', en:'to be noisy', present:'시끄러워요', past:'시끄러웠어요', future:'시끄러울 거예요' },
  { ko:'조용하다', en:'to be quiet', present:'조용해요', past:'조용했어요', future:'조용할 거예요' },
  { ko:'길다', en:'to be long', present:'길어요', past:'길었어요', future:'길 거예요' },
  { ko:'짧다', en:'to be short', present:'짧아요', past:'짧았어요', future:'짧을 거예요' },
  { ko:'높다', en:'to be high/tall', present:'높아요', past:'높았어요', future:'높을 거예요' },
  { ko:'낮다', en:'to be low', present:'낮아요', past:'낮았어요', future:'낮을 거예요' },
  { ko:'무겁다', en:'to be heavy', present:'무거워요', past:'무거웠어요', future:'무거울 거예요' },
  { ko:'가볍다', en:'to be light (weight)', present:'가벼워요', past:'가벼웠어요', future:'가벼울 거예요' },
  { ko:'배고프다', en:'to be hungry', present:'배고파요', past:'배고팠어요', future:'배고플 거예요' },
  { ko:'배부르다', en:'to be full (stomach)', present:'배불러요', past:'배불렀어요', future:'배부를 거예요' },
  { ko:'아프다', en:'to be sick/painful', present:'아파요', past:'아팠어요', future:'아플 거예요' },
  { ko:'건강하다', en:'to be healthy', present:'건강해요', past:'건강했어요', future:'건강할 거예요' },
  { ko:'재미있다', en:'to be interesting/fun', present:'재미있어요', past:'재미있었어요', future:'재미있을 거예요' },
  { ko:'재미없다', en:'to be uninteresting/boring', present:'재미없어요', past:'재미없었어요', future:'재미없을 거예요' },
  { ko:'따뜻하다', en:'to be warm', present:'따뜻해요', past:'따뜻했어요', future:'따뜻할 거예요' },
  { ko:'차다', en:'to be full (filled)', present:'차요', past:'찼어요', future:'찰 거예요' },
  { ko:'행복하다', en:'to be happy', present:'행복해요', past:'행복했어요', future:'행복할 거예요' },
  { ko:'슬프다', en:'to be sad', present:'슬퍼요', past:'슬펐어요', future:'슬플 거예요' },
  { ko:'무섭다', en:'to be scary', present:'무서워요', past:'무서웠어요', future:'무서울 거예요' },
  { ko:'피곤하다', en:'to be tired', present:'피곤해요', past:'피곤했어요', future:'피곤할 거예요' },
  { ko:'졸리다', en:'to be sleepy', present:'졸려요', past:'졸렸어요', future:'졸릴 거예요' },
  { ko:'중요하다', en:'to be important', present:'중요해요', past:'중요했어요', future:'중요할 거예요' },
  { ko:'필요하다', en:'to be necessary', present:'필요해요', past:'필요했어요', future:'필요할 거예요' },
  { ko:'편하다', en:'to be comfortable', present:'편해요', past:'편했어요', future:'편할 거예요' },
  { ko:'불편하다', en:'to be uncomfortable', present:'불편해요', past:'불편했어요', future:'불편할 거예요' },
  { ko:'가깝다', en:'to be near', present:'가까워요', past:'가까웠어요', future:'가까울 거예요' },
  { ko:'멀다', en:'to be far', present:'멀어요', past:'멀었어요', future:'멀 거예요' },
  { ko:'넓다', en:'to be wide/spacious', present:'넓어요', past:'넓었어요', future:'넓을 거예요' },
  { ko:'좁다', en:'to be narrow', present:'좁아요', past:'좁았어요', future:'좁을 거예요' },
  { ko:'맛있다', en:'to be delicious', present:'맛있어요', past:'맛있었어요', future:'맛있을 거예요' },
  { ko:'맛없다', en:'to be not delicious', present:'맛없어요', past:'맛없었어요', future:'맛없을 거예요' },
  { ko:'뜨겁다', en:'to be hot (object)', present:'뜨거워요', past:'뜨거웠어요', future:'뜨거울 거예요' },
  { ko:'차갑다', en:'to be cold (object)', present:'차가워요', past:'차가웠어요', future:'차가울 거예요' },
  { ko:'부드럽다', en:'to be soft', present:'부드러워요', past:'부드러웠어요', future:'부드러울 거예요' },
  { ko:'딱딱하다', en:'to be hard/solid', present:'딱딱해요', past:'딱딱했어요', future:'딱딱할 거예요' },
  { ko:'새롭다', en:'to be new', present:'새로워요', past:'새로웠어요', future:'새로울 거예요' },
  { ko:'오래되다', en:'to be old (thing)', present:'오래돼요', past:'오래됐어요', future:'오래될 거예요' },
  { ko:'젊다', en:'to be young', present:'젊어요', past:'젊었어요', future:'젊을 거예요' },
  { ko:'늙다', en:'to be old (person)', present:'늙어요', past:'늙었어요', future:'늙을 거예요' },
  { ko:'유명하다', en:'to be famous', present:'유명해요', past:'유명했어요', future:'유명할 거예요' },
  { ko:'조심하다', en:'to be careful', present:'조심해요', past:'조심했어요', future:'조심할 거예요' },
  { ko:'괜찮다', en:'to be okay/fine', present:'괜찮아요', past:'괜찮았어요', future:'괜찮을 거예요' },
  { ko:'간단하다', en:'to be simple', present:'간단해요', past:'간단했어요', future:'간단할 거예요' },
  { ko:'복잡하다', en:'to be complicated', present:'복잡해요', past:'복잡했어요', future:'복잡할 거예요' },
  { ko:'충분하다', en:'to be sufficient', present:'충분해요', past:'충분했어요', future:'충분할 거예요' },
  { ko:'가능하다', en:'to be possible', present:'가능해요', past:'가능했어요', future:'가능할 거예요' },
  { ko:'불가능하다', en:'to be impossible', present:'불가능해요', past:'불가능했어요', future:'불가능할 거예요' },
  { ko:'같다', en:'to be same', present:'같아요', past:'같았어요', future:'같을 거예요' },
  { ko:'다르다', en:'to be different', present:'달라요', past:'달랐어요', future:'다를 거예요' },
  { ko:'비슷하다', en:'to be similar', present:'비슷해요', past:'비슷했어요', future:'비슷할 거예요' },
  { ko:'이상하다', en:'to be strange', present:'이상해요', past:'이상했어요', future:'이상할 거예요' },
  { ko:'정상이다', en:'to be normal', present:'정상이에요', past:'정상이었어요', future:'정상일 거예요' },
  { ko:'한가하다', en:'to be free/not busy', present:'한가해요', past:'한가했어요', future:'한가할 거예요' },
  { ko:'늦다', en:'to be late', present:'늦어요', past:'늦었어요', future:'늦을 거예요' },
  { ko:'안전하다', en:'to be safe', present:'안전해요', past:'안전했어요', future:'안전할 거예요' },
  { ko:'튼튼하다', en:'to be sturdy/robust', present:'튼튼해요', past:'튼튼했어요', future:'튼튼할 거예요' },
  { ko:'미끄럽다', en:'to be slippery', present:'미끄러워요', past:'미끄러웠어요', future:'미끄러울 거예요' },
  { ko:'날카롭다', en:'to be sharp', present:'날카로워요', past:'날카로웠어요', future:'날카로울 거예요' },
  { ko:'무디다', en:'to be dull', present:'무뎌요', past:'무뎠어요', future:'무딜 거예요' },
  { ko:'비다', en:'to be empty', present:'비어요', past:'비었어요', future:'빌 거예요' },
  { ko:'가득하다', en:'to be full', present:'가득해요', past:'가득했어요', future:'가득할 거예요' },
  { ko:'맑다', en:'to be clear (sky/water)', present:'맑아요', past:'맑았어요', future:'맑을 거예요' },
  { ko:'건조하다', en:'to be dry', present:'건조해요', past:'건조했어요', future:'건조할 거예요' },
  { ko:'습하다', en:'to be humid', present:'습해요', past:'습했어요', future:'습할 거예요' },
  { ko:'축축하다', en:'to be damp', present:'축축해요', past:'축축했어요', future:'축축할 거예요' },
  { ko:'젖다', en:'to be wet', present:'젖어요', past:'젖었어요', future:'젖을 거예요' },
  { ko:'쓰다', en:'to be bitter', present:'써요', past:'썼어요', future:'쓸 거예요' },
  { ko:'담백하다', en:'to be plain/light-tasting', present:'담백해요', past:'담백했어요', future:'담백할 거예요' },
  { ko:'느끼하다', en:'to be greasy/oily', present:'느끼해요', past:'느끼했어요', future:'느끼할 거예요' },
  { ko:'거칠다', en:'to be rough', present:'거칠어요', past:'거칠었어요', future:'거칠 거예요' },
  { ko:'끈적하다', en:'to be sticky', present:'끈적해요', past:'끈적했어요', future:'끈적할 거예요' },
  { ko:'질기다', en:'to be tough/chewy', present:'질겨요', past:'질겼어요', future:'질길 거예요' },
  { ko:'초록색이다', en:'to be green', present:'초록색이에요', past:'초록색이었어요', future:'초록색일 거예요' },
  { ko:'보라색이다', en:'to be purple', present:'보라색이에요', past:'보라색이었어요', future:'보라색일 거예요' },
  { ko:'갈색이다', en:'to be brown', present:'갈색이에요', past:'갈색이었어요', future:'갈색일 거예요' },
  { ko:'회색이다', en:'to be gray', present:'회색이에요', past:'회색이었어요', future:'회색일 거예요' },
  { ko:'주황색이다', en:'to be orange', present:'주황색이에요', past:'주황색이었어요', future:'주황색일 거예요' },
  { ko:'분홍색이다', en:'to be pink', present:'분홍색이에요', past:'분홍색이었어요', future:'분홍색일 거예요' },
  { ko:'성실하다', en:'to be sincere/diligent', present:'성실해요', past:'성실했어요', future:'성실할 거예요' },
  { ko:'부지런하다', en:'to be diligent', present:'부지런해요', past:'부지런했어요', future:'부지런할 거예요' },
  { ko:'게으르다', en:'to be lazy', present:'게을러요', past:'게을렀어요', future:'게으를 거예요' },
  { ko:'정직하다', en:'to be honest', present:'정직해요', past:'정직했어요', future:'정직할 거예요' },
  { ko:'불친절하다', en:'to be unkind/impolite', present:'불친절해요', past:'불친절했어요', future:'불친절할 거예요' },
];

// ===== EN + TL lines for those items =====
const EN_TL_FORMS = {
  'go up and down': {
    present:'goes up and down/umaakyat at bumababa',
    past:'went up and down/umakyat at bumaba',
    future:'will go up and down/aakyat at bababa',
  },
  'cut out': {
    present:'cuts out/pinuputol',
    past:'cut out/pinutol',
    future:'will cut out/puputulin',
  },
  'misunderstand': {
    present:'misunderstands/nagkakamali ng intindi',
    past:'misunderstood/nagkamali ng intindi',
    future:'will misunderstand/magkakamali ng intindi',
  },
  'move or transfer': {
    present:'moves or transfers/lumilipat o naililipat',
    past:'moved or transferred/lumipat o nailipat',
    future:'will move or transfer/lilipat o maililipat',
  },
  'weld': {
    present:'welds/naghihinang',
    past:'welded/naghinang',
    future:'will weld/maghihinang',
  },
  'be hospitalized': {
    present:'is hospitalized/nasa ospital',
    past:'was hospitalized/na-ospital',
    future:'will be hospitalized/ma-oospital',
  },
  'prove': {
    present:'proves/pinatutunayan',
    past:'proved/pinatunayan',
    future:'will prove/patutunayan',
  },
  'lose': {
    present:'loses/nawawala',
    past:'lost/nawala',
    future:'will lose/mawawala',
  },
  'measure': {
    present:'measures/sinusukat',
    past:'measured/sinukat',
    future:'will measure/susukatin',
  },
  'recycle': {
    present:'recycles/nagre-recycle',
    past:'recycled/nag-recycle',
    future:'will recycle/magre-recycle',
  },
  'stir': {
    present:'stirs/hinahalo',
    past:'stirred/hinalo',
    future:'will stir/hahaluin',
  },
  'manipulate or operate': {
    present:'manipulates or operates/minamanipula',
    past:'manipulated or operated/minanipula',
    future:'will manipulate or operate/mamanipulahin',
  },
  'respect': {
    present:'respects/iginagalang',
    past:'respected/iginalang',
    future:'will respect/igagalang',
  },
  'take (picture) or stamp': {
    present:'takes (a photo) or stamps/kumukuha ng litrato / tinatatakan',
    past:'took (a photo) or stamped/kumuha ng litrato / tinatakan',
    future:'will take (a photo) or stamp/kukuha ng litrato / tatatakan',
  },
  'steam': {
    present:'steams/pinapasingaw',
    past:'steamed/pinasingaw',
    future:'will steam/papasingawin',
  },
  'get annoyed': {
    present:'gets annoyed/naiinis o naiirita',
    past:'got annoyed/nainis o nairita',
    future:'will get annoyed/maiinis o maiirita',
  },
  'demolish': {
    present:'demolishes/gingiba',
    past:'demolished/giniba',
    future:'will demolish/gigibain',
  },
  'conclude (agreement)': {
    present:'concludes (an agreement)/nilalagdaan o pinipirmahan',
    past:'concluded (an agreement)/nilagdaan o pinirmahan',
    future:'will conclude (an agreement)/lalagdaan o pipirmahan',
  },
  'have indigestion': {
    present:'has indigestion/hindi natutunawan',
    past:'had indigestion/hindi natunawan',
    future:'will have indigestion/hindi matutunawan',
  },
  'release goods': {
    present:'releases goods/inilalabas ang mga kalakal',
    past:'released goods/inilabas ang mga kalakal',
    future:'will release goods/ilalabas ang mga kalakal',
  },
  'ship (products)': {
    present:'ships (products)/ipinapadala ang produkto',
    past:'shipped (products)/ipinadala ang produkto',
    future:'will ship (products)/ipapadala ang produkto',
  },
  'play or hit': {
    present:'plays or hits/tumutugtog o pinapalo',
    past:'played or hit/tumugtog o pinalo',
    future:'will play or hit/tutugtog o papaluin',
  },
  'interpret': {
    present:'interprets/nag-i-interpret',
    past:'interpreted/nag-interpret',
    future:'will interpret/mag-i-interpret',
  },
  'refund': {
    present:'refunds/ibinabalik ang bayad',
    past:'refunded/ibinalik ang bayad',
    future:'will refund/ibabalik ang bayad',
  },
  'transfer (transport)': {
    present:'transfers (transport)/lumilipat ng sasakyan',
    past:'transferred (transport)/lumipat ng sasakyan',
    future:'will transfer (transport)/lilipat ng sasakyan',
  },
  'active': {
    present:'is active/aktibo',
    past:'was active/naging aktibo',
    future:'will be active/magiging aktibo',
  },
  'train': {
    present:'trains/nagsasanay',
    past:'trained/nagsanay',
    future:'will train/magsasanay',
  },

  // adjectives & states
  'common': { present:'is common/karaniwan', past:'was common/karaniwan', future:'will be common/magiging karaniwan' },
  'solid': { present:'is solid/matigas', past:'was solid/matigas', future:'will be solid/magiging matigas' },
  'thick': { present:'is thick/makapal', past:'was thick/makapal', future:'will be thick/magiging makapal' },
  'slow': { present:'is slow/mabagal', past:'was slow/mabagal', future:'will be slow/magiging mabagal' },
  'loose': { present:'is loose/maluwag', past:'was loose/maluwag', future:'will be loose/magiging maluwag' },
  'dry': { present:'is dry/tuyo', past:'was dry/tuyo', future:'will be dry/magiging tuyo' },
  'smooth': { present:'is smooth/makinis', past:'was smooth/makinis', future:'will be smooth/magiging makinis' },
  'dry or barren': { present:'is dry or barren/tuyo o tigang', past:'was dry or barren/tuyo o tigang', future:'will be dry or barren/magiging tuyo o tigang' },
  'scary': { present:'is scary/nakakatakot', past:'was scary/nakakatakot', future:'will be scary/magiging nakakatakot' },
  'soft': { present:'is soft/malambot', past:'was soft/malambot', future:'will be soft/magiging malambot' },
  'negative': { present:'is negative/negatibo', past:'was negative/negatibo', future:'will be negative/magiging negatibo' },
  'unpleasant': { present:'is unpleasant/hindi kanais-nais', past:'was unpleasant/hindi kanais-nais', future:'will be unpleasant/magiging hindi kanais-nais' },
  'lacking': { present:'is lacking/kulang', past:'was lacking/kulang', future:'will be lacking/magiging kulang' },
  'fresh': { present:'is fresh/sariwa', past:'was fresh/sariwa', future:'will be fresh/magiging sariwa' },
  'weak': { present:'is weak/mahina', past:'was weak/mahina', future:'will be weak/magiging mahina' },
  'dark': { present:'is dark/madilim', past:'was dark/madilim', future:'will be dark/magiging madilim' },
  'right or correct': { present:'is right or correct/tama o matuwid', past:'was right or correct/tama o matuwid', future:'will be right or correct/magiging tama o matuwid' },
  'contaminated': { present:'is contaminated/kontaminado', past:'was contaminated/kontaminado', future:'will be contaminated/magiging kontaminado' },
  'dangerous': { present:'is dangerous/mapanganib', past:'was dangerous/mapanganib', future:'will be dangerous/magiging mapanganib' },
  'consistent': { present:'is consistent/pare-pareho', past:'was consistent/pare-pareho', future:'will be consistent/magiging pare-pareho' },
  'accurate': { present:'is accurate/tumpak', past:'was accurate/tumpak', future:'will be accurate/magiging tumpak' },
  'salty': { present:'is salty/maalat', past:'was salty/maalat', future:'will be salty/magiging maalat' },
  'cold (object)': { present:'is cold/malamig', past:'was cold/malamig', future:'will be cold/magiging malamig' },
  'cold (weather)': { present:'is cold/malamig (panahon)', past:'was cold/malamig (panahon)', future:'will be cold/magiging malamig (panahon)' },
  'effective': { present:'is effective/epektibo', past:'was effective/epektibo', future:'will be effective/magiging epektibo' },
  'cloudy': { present:'is cloudy/maulap', past:'was cloudy/maulap', future:'will be cloudy/magiging maulap' },
  'itchy': { present:'feels itchy/makati', past:'felt itchy/makati', future:'will feel itchy/magiging makati' },

  'good': { present:'is good/mabuti', past:'was good/naging mabuti', future:'will be good/magiging mabuti' },
  'bad': { present:'is bad/masama', past:'was bad/naging masama', future:'will be bad/magiging masama' },
  'many or much': { present:'are many or much/marami', past:'were many or much/naging marami', future:'will be many or much/magiging marami' },
  'few or little': { present:'are few or little/kakaunti', past:'were few or little/kakaunti', future:'will be few or little/magiging kakaunti' },
  'cheap': { present:'is cheap/mura', past:'was cheap/mura', future:'will be cheap/magiging mura' },
  'expensive': { present:'is expensive/mahal', past:'was expensive/mahal', future:'will be expensive/magiging mahal' },
  'small': { present:'is small/maliit', past:'was small/maliit', future:'will be small/magiging maliit' },
  'big or large': { present:'is big or large/malaki', past:'was big or large/naging malaki', future:'will be big or large/magiging malaki' },
  'fast': { present:'is fast/mabilis', past:'was fast/mabilis', future:'will be fast/magiging mabilis' },
  'easy': { present:'is easy/madali', past:'was easy/madali', future:'will be easy/magiging madali' },
  'difficult or hard': { present:'is difficult or hard/mahirap', past:'was difficult or hard/mahirap', future:'will be difficult or hard/magiging mahirap' },
  'hot (touch)': { present:'is hot/mainit (hawak)', past:'was hot/mainit (hawak)', future:'will be hot/magiging mainit (hawak)' },
  'hot (weather)': { present:'is hot/mainit (panahon)', past:'was hot/mainit (panahon)', future:'will be hot/magiging mainit (panahon)' },
  'cold (touch)': { present:'is cold/malamig (hawak)', past:'was cold/malamig (hawak)', future:'will be cold/magiging malamig (hawak)' },
  'pretty': { present:'is pretty/maganda', past:'was pretty/maganda', future:'will be pretty/magiging maganda' },
  'handsome': { present:'is handsome/gwapo', past:'was handsome/gwapo', future:'will be handsome/magiging gwapo' },
  'cute': { present:'is cute/cute', past:'was cute/cute', future:'will be cute/magiging cute' },
  'clean': { present:'is clean/malinis', past:'was clean/malinis', future:'will be clean/magiging malinis' },
  'dirty': { present:'is dirty/marumi', past:'was dirty/marumi', future:'will be dirty/magiging marumi' },
  'noisy': { present:'is noisy/maingay', past:'was noisy/maingay', future:'will be noisy/magiging maingay' },
  'quiet': { present:'is quiet/tahimik', past:'was quiet/tahimik', future:'will be quiet/magiging tahimik' },
  'long': { present:'is long/mahaba', past:'was long/mahaba', future:'will be long/magiging mahaba' },
  'short': { present:'is short/maikli', past:'was short/maikli', future:'will be short/magiging maikli' },
  'high or tall': { present:'is high or tall/mataas', past:'was high or tall/mataas', future:'will be high or tall/magiging mataas' },
  'low': { present:'is low/mababa', past:'was low/mababa', future:'will be low/magiging mababa' },
  'heavy': { present:'is heavy/mabigat', past:'was heavy/mabigat', future:'will be heavy/magiging mabigat' },
  'light (weight)': { present:'is light/magaan', past:'was light/magaan', future:'will be light/magiging magaan' },
  'hungry': { present:'is hungry/nagugutom', past:'was hungry/nagutom', future:'will be hungry/magugutom' },
  'full (stomach)': { present:'is full/busog', past:'was full/nabusog', future:'will be full/magiging busog' },
  'sick or painful': { present:'is sick or painful/masakit o may sakit', past:'was sick or painful/masakit o may sakit', future:'will be sick or painful/masasakit o magkakasakit' },
  'healthy': { present:'is healthy/malusog', past:'was healthy/malusog', future:'will be healthy/magiging malusog' },
  'interesting or fun': { present:'is interesting or fun/masaya o kawili-wili', past:'was interesting or fun/masaya o kawili-wili', future:'will be interesting or fun/magiging masaya o kawili-wili' },
  'uninteresting or boring': { present:'is uninteresting or boring/hindi masaya o boring', past:'was uninteresting or boring/hindi masaya o boring', future:'will be uninteresting or boring/hindi magiging masaya o boring' },
  'warm': { present:'is warm/mainit-init', past:'was warm/mainit-init', future:'will be warm/magiging mainit-init' },
  'full (filled)': { present:'is full/puno', past:'was full/napuno', future:'will be full/mapupuno' },
  'happy': { present:'is happy/masaya', past:'was happy/masaya', future:'will be happy/magiging masaya' },
  'tired': { present:'is tired/pagod', past:'was tired/napagod', future:'will be tired/mapapagod' },
  'sleepy': { present:'is sleepy/inaantok', past:'was sleepy/naantok', future:'will be sleepy/aantukin' },
  'important': { present:'is important/mahalaga', past:'was important/mahalaga', future:'will be important/magiging mahalaga' },
  'necessary': { present:'is necessary/kailangan', past:'was necessary/kailangan', future:'will be necessary/kakailanganin' },
  'comfortable': { present:'is comfortable/komportable', past:'was comfortable/komportable', future:'will be comfortable/magiging komportable' },
  'uncomfortable': { present:'is uncomfortable/hindi komportable', past:'was uncomfortable/hindi komportable', future:'will be uncomfortable/hindi magiging komportable' },
  'near': { present:'is near/malapit', past:'was near/malapit', future:'will be near/magiging malapit' },
  'far': { present:'is far/malayo', past:'was far/malayo', future:'will be far/magiging malayo' },
  'wide or spacious': { present:'is wide or spacious/maluwang', past:'was wide or spacious/maluwang', future:'will be wide or spacious/magiging maluwang' },
  'narrow': { present:'is narrow/makitid', past:'was narrow/makitid', future:'will be narrow/magiging makitid' },
  'delicious': { present:'is delicious/masarap', past:'was delicious/masarap', future:'will be delicious/magiging masarap' },
  'not delicious': { present:'is not delicious/hindi masarap', past:'was not delicious/hindi masarap', future:'will be not delicious/hindi magiging masarap' },
  'hard or solid': { present:'is hard or solid/matigas', past:'was hard or solid/matigas', future:'will be hard or solid/magiging matigas' },
  'new': { present:'is new/bago', past:'was new/bago', future:'will be new/magiging bago' },
  'old (thing)': { present:'is old (thing)/luma', past:'was old (thing)/luma', future:'will be old (thing)/magiging luma' },
  'young': { present:'is young/bata', past:'was young/bata', future:'will be young/magiging bata' },
  'old (person)': { present:'is old (person)/matanda', past:'was old (person)/matanda', future:'will be old (person)/magiging matanda' },
  'famous': { present:'is famous/sikat', past:'was famous/sikat', future:'will be famous/magiging sikat' },
  'careful': { present:'is careful/maingat', past:'was careful/maingat', future:'will be careful/magiging maingat' },
  'okay or fine': { present:'is okay or fine/ayos o okay', past:'was okay or fine/naging ayos o okay', future:'will be okay or fine/magiging ayos o okay' },
  'simple': { present:'is simple/simple', past:'was simple/naging simple', future:'will be simple/magiging simple' },
  'complicated': { present:'is complicated/komplikado', past:'was complicated/naging komplikado', future:'will be complicated/magiging komplikado' },
  'sufficient': { present:'is sufficient/sapat', past:'was sufficient/naging sapat', future:'will be sufficient/magiging sapat' },
  'possible': { present:'is possible/posible', past:'was possible/naging posible', future:'will be possible/magiging posible' },
  'impossible': { present:'is impossible/imposible', past:'was impossible/naging imposible', future:'will be impossible/magiging imposible' },
  'same': { present:'is same/pareho', past:'was same/naging pareho', future:'will be same/magiging pareho' },
  'different': { present:'is different/iba', past:'was different/naging iba', future:'will be different/magiging iba' },
  'similar': { present:'is similar/halos pareho', past:'was similar/naging halos pareho', future:'will be similar/magiging halos pareho' },
  'strange': { present:'is strange/kakaiba', past:'was strange/naging kakaiba', future:'will be strange/magiging kakaiba' },
  'normal': { present:'is normal/normal o karaniwan', past:'was normal/naging normal o karaniwan', future:'will be normal/magiging normal o karaniwan' },
  'free or not busy': { present:'is free or not busy/walang ginagawa o libre', past:'was free or not busy/naging walang ginagawa o libre', future:'will be free or not busy/magiging walang ginagawa o libre' },
  'late': { present:'is late/huli o late', past:'was late/naging huli o late', future:'will be late/magiging huli o late' },
  'safe': { present:'is safe/ligtas', past:'was safe/naging ligtas', future:'will be safe/magiging ligtas' },
  'sturdy or robust': { present:'is sturdy or robust/matibay', past:'was sturdy or robust/naging matibay', future:'will be sturdy or robust/magiging matibay' },
  'slippery': { present:'is slippery/madulas', past:'was slippery/naging madulas', future:'will be slippery/magiging madulas' },
  'sharp': { present:'is sharp/matalim', past:'was sharp/naging matalim', future:'will be sharp/magiging matalim' },
  'empty': { present:'is empty/walang laman', past:'was empty/naging walang laman', future:'will be empty/magiging walang laman' },
  'full': { present:'is full/puno', past:'was full/naging puno', future:'will be full/magiging puno' },
  'clear (sky or water)': { present:'is clear/malinaw o maaliwalas', past:'was clear/naging malinaw o maaliwalas', future:'will be clear/magiging malinaw o maaliwalas' },
  'humid': { present:'is humid/mahalumigmig', past:'was humid/naging mahalumigmig', future:'will be humid/magiging mahalumigmig' },
  'damp': { present:'is damp/mamasa-masa', past:'was damp/naging mamasa-masa', future:'will be damp/magiging mamasa-masa' },
  'wet': { present:'is wet/basa', past:'was wet/naging basa', future:'will be wet/magiging basa' },
  'bitter': { present:'is bitter/mapait', past:'was bitter/naging mapait', future:'will be bitter/magiging mapait' },
  'plain or light-tasting': { present:'is plain or light-tasting/banayad ang lasa', past:'was plain or light-tasting/naging banayad ang lasa', future:'will be plain or light-tasting/magiging banayad ang lasa' },
  'greasy or oily': { present:'is greasy or oily/malangis o maumay', past:'was greasy or oily/naging malangis o maumay', future:'will be greasy or oily/magiging malangis o maumay' },
  'rough': { present:'is rough/magaspang', past:'was rough/naging magaspang', future:'will be rough/magiging magaspang' },
  'sticky': { present:'is sticky/malagkit', past:'was sticky/naging malagkit', future:'will be sticky/magiging malagkit' },
  'tough or chewy': { present:'is tough or chewy/makunat', past:'was tough or chewy/naging makunat', future:'will be tough or chewy/magiging makunat' },

  // colors
  'green': { present:'is green/berde', past:'was green/naging berde', future:'will be green/magiging berde' },
  'purple': { present:'is purple/lila', past:'was purple/naging lila', future:'will be purple/magiging lila' },
  'brown': { present:'is brown/kayumanggi', past:'was brown/naging kayumanggi', future:'will be brown/magiging kayumanggi' },
  'gray': { present:'is gray/abo', past:'was gray/naging abo', future:'will be gray/magiging abo' },
  'orange': { present:'is orange/kahel', past:'was orange/naging kahel', future:'will be orange/magiging kahel' },
  'pink': { present:'is pink/rosas', past:'was pink/naging rosas', future:'will be pink/magiging rosas' },

  // character traits
  'sincere or diligent': { present:'is sincere or diligent/masipag o maaasahan', past:'was sincere or diligent/naging masipag o maaasahan', future:'will be sincere or diligent/magiging masipag o maaasahan' },
  'diligent': { present:'is diligent/masipag', past:'was diligent/naging masipag', future:'will be diligent/magiging masipag' },
  'lazy': { present:'is lazy/tamad', past:'was lazy/naging tamad', future:'will be lazy/magiging tamad' },
  'honest': { present:'is honest/tapat', past:'was honest/naging tapat', future:'will be honest/magiging tapat' },
  'unkind or impolite': { present:'is unkind or impolite/hindi magalang o bastos', past:'was unkind or impolite/naging hindi magalang o bastos', future:'will be unkind or impolite/magiging hindi magalang o bastos' },
  'good':                   { present:'is good/mabuti',                    past:'was good/naging mabuti',                    future:'will be good/magiging mabuti' },
  'sick or hurt':           { present:'is sick or hurt/may sakit',         past:'was sick or hurt/nagkasakit',               future:'will be sick or hurt/magkakasakit' },
  'pretty':                 { present:'is pretty/maganda',                 past:'was pretty/naging maganda',                 future:'will be pretty/magiging maganda' },
  'many or much':           { present:'is many or much/marami',            past:'was many or much/naging marami',            future:'will be many or much/magiging marami' },
  'tired':                  { present:'is tired/pagod',                    past:'was tired/naging pagod',                    future:'will be tired/magiging pagod' },
  'delicious':              { present:'is delicious/masarap',              past:'was delicious/naging masarap',              future:'will be delicious/magiging masarap' },
  'interesting or fun':     { present:'is interesting or fun/interesante', past:'was interesting or fun/naging interesante', future:'will be interesting or fun/magiging interesante' },
  'cheap':                  { present:'is cheap/mura',                     past:'was cheap/naging mura',                     future:'will be cheap/magiging mura' },
  'expensive':              { present:'is expensive/mahal',                past:'was expensive/naging mahal',                future:'will be expensive/magiging mahal' },
  'hard (tough)':           { present:'is hard (tough)/mahirap',           past:'was hard (tough)/naging mahirap',           future:'will be hard (tough)/magiging mahirap' },
  'cold (weather)':         { present:'is cold (weather)/malamig',         past:'was cold (weather)/naging malamig',         future:'will be cold (weather)/magiging malamig' },
  'hot (weather)':          { present:'is hot (weather)/mainit',           past:'was hot (weather)/naging mainit',           future:'will be hot (weather)/magiging mainit' },
  'warm':                   { present:'is warm/mainit-init',               past:'was warm/naging mainit-init',               future:'will be warm/magiging mainit-init' },
  'cool or refreshing':     { present:'is cool or refreshing/refreshing',  past:'was cool or refreshing/naging refreshing',  future:'will be cool or refreshing/magiging refreshing' },
  'kind':                   { present:'is kind/mabait',                    past:'was kind/naging mabait',                    future:'will be kind/magiging mabait' },
  'busy':                   { present:'is busy/abala',                     past:'was busy/naging abala',                     future:'will be busy/magiging abala' },
  'sad':                    { present:'is sad/malungkot',                  past:'was sad/naging malungkot',                  future:'will be sad/magiging malungkot' },
  'boring (person)':        { present:'is boring/nakakainip',              past:'was boring/naging nakakainip',              future:'will be boring/magiging nakakainip' },
  'uninteresting (thing)':  { present:'is uninteresting/hindi interesante',past:'was uninteresting/hindi naging interesante',future:'will be uninteresting/hindi magiging interesante' },
  'bright':                 { present:'is bright/maliwanag',               past:'was bright/naging maliwanag',               future:'will be bright/magiging maliwanag' },
  'dark':                   { present:'is dark/madilim',                   past:'was dark/naging madilim',                   future:'will be dark/magiging madilim' },
  'difficult':              { present:'is difficult/mahirap',              past:'was difficult/naging mahirap',              future:'will be difficult/magiging mahirap' },
  'easy':                   { present:'is easy/madali',                    past:'was easy/naging madali',                    future:'will be easy/magiging madali' },
  'close (near)':           { present:'is close/malapit',                  past:'was close/naging malapit',                  future:'will be close/magiging malapit' },
  'far':                    { present:'is far/malayo',                     past:'was far/naging malayo',                     future:'will be far/magiging malayo' },
  'spacious':               { present:'is spacious/maluwag',               past:'was spacious/naging maluwag',               future:'will be spacious/magiging maluwag' },
  'narrow':                 { present:'is narrow/makitid',                 past:'was narrow/naging makitid',                 future:'will be narrow/magiging makitid' },
  'quiet':                  { present:'is quiet/tahimik',                  past:'was quiet/naging tahimik',                  future:'will be quiet/magiging tahimik' },
  'noisy':                  { present:'is noisy/maingay',                  past:'was noisy/naging maingay',                  future:'will be noisy/magiging maingay' },
  'clean':                  { present:'is clean/malinis',                  past:'was clean/naging malinis',                  future:'will be clean/magiging malinis' },
  'dirty':                  { present:'is dirty/marumi',                   past:'was dirty/naging marumi',                   future:'will be dirty/magiging marumi' },
  'spicy':                  { present:'is spicy/maanghang',                past:'was spicy/naging maanghang',                future:'will be spicy/magiging maanghang' },
  'sweet':                  { present:'is sweet/matamis',                  past:'was sweet/naging matamis',                  future:'will be sweet/magiging matamis' },
  'salty':                  { present:'is salty/maalat',                   past:'was salty/naging maalat',                   future:'will be salty/magiging maalat' },
  'sour':                   { present:'is sour/maasim',                    past:'was sour/naging maasim',                    future:'will be sour/magiging maasim' },
  'bland':                  { present:'is bland/matabang',                 past:'was bland/naging matabang',                 future:'will be bland/magiging matabang' },
  'hot (object)':           { present:'is hot/mainit',                     past:'was hot/naging mainit',                     future:'will be hot/magiging mainit' },
  'cold (object)':          { present:'is cold/malamig',                   past:'was cold/naging malamig',                   future:'will be cold/magiging malamig' },
  'beautiful':              { present:'is beautiful/maganda',              past:'was beautiful/naging maganda',              future:'will be beautiful/magiging maganda' },
  'good-looking':           { present:'is good-looking/gwapo',             past:'was good-looking/naging gwapo',             future:'will be good-looking/magiging gwapo' },
  'handsome':               { present:'is handsome/gwapo',                 past:'was handsome/naging gwapo',                 future:'will be handsome/magiging gwapo' },
  'small':                  { present:'is small/maliit',                   past:'was small/naging maliit',                   future:'will be small/magiging maliit' },
  'long':                   { present:'is long/mahaba',                    past:'was long/naging mahaba',                    future:'will be long/magiging mahaba' },
  'short':                  { present:'is short/maikli',                   past:'was short/naging maikli',                   future:'will be short/magiging maikli' },
  'close (relationship)':   { present:'is close (relationship)/malapit',   past:'was close (relationship)/naging malapit',   future:'will be close (relationship)/magiging malapit' },
  'active or lively':       { present:'is active or lively/masigla',       past:'was active or lively/naging masigla',       future:'will be active or lively/magiging masigla' },
  'special':                { present:'is special/espesyal',               past:'was special/naging espesyal',               future:'will be special/magiging espesyal' },
  'convenient':             { present:'is convenient/maginhawa',           past:'was convenient/naging maginhawa',           future:'will be convenient/magiging maginhawa' },
  'comfortable or peaceful':{ present:'is comfortable or peaceful/komportable', past:'was comfortable or peaceful/naging komportable', future:'will be comfortable or peaceful/magiging komportable' },
  'necessary':              { present:'is necessary/kailangan',            past:'was necessary/naging kailangan',            future:'will be necessary/magiging kailangan' },
  'fresh':                  { present:'is fresh/sariwa',                   past:'was fresh/naging sariwa',                   future:'will be fresh/magiging sariwa' },
  'young':                  { present:'is young/bata',                     past:'was young/naging bata',                     future:'will be young/magiging bata' },
  'quiet or gentle':        { present:'is quiet or gentle/mahinhin',       past:'was quiet or gentle/naging mahinhin',       future:'will be quiet or gentle/magiging mahinhin' },
  'dizzy or messy':         { present:'is dizzy or messy/nahihilo',        past:'was dizzy or messy/naging nahilo',          future:'will be dizzy or messy/magiging mahihilo' },
  'accurate':               { present:'is accurate/tumpak',                past:'was accurate/naging tumpak',                future:'will be accurate/magiging tumpak' },
  'sleepy':                 { present:'is sleepy/inaantok',                past:'was sleepy/naging antok',                   future:'will be sleepy/magiging aantok' },
  'enjoyable':              { present:'is enjoyable/kasiya-siya',          past:'was enjoyable/naging kasiya-siya',          future:'will be enjoyable/magiging kasiya-siya' },
  'famous':                 { present:'is famous/sikat',                   past:'was famous/naging sikat',                   future:'will be famous/magiging sikat' },
  'advanced':               { present:'is advanced/advanced',              past:'was advanced/naging advanced',              future:'will be advanced/magiging advanced' },
  'thin (diameter)':        { present:'is thin/manipis',                   past:'was thin/naging manipis',                   future:'will be thin/magiging manipis' },
  'thick (diameter)':       { present:'is thick/makapal',                  past:'was thick/naging makapal',                  future:'will be thick/magiging makapal' },
  'itchy':                  { present:'is itchy/makati',                   past:'was itchy/naging makati',                   future:'will be itchy/magiging makati' },
  'nutty (flavor)':         { present:'is nutty/may lasang mani',          past:'was nutty/naging may lasang mani',          future:'will be nutty/magiging may lasang mani' },
  'curious':                { present:'is curious/mausisa',                past:'was curious/naging mausisa',                future:'will be curious/magiging mausisa' },
  'slow':                   { present:'is slow/mabagal',                   past:'was slow/naging mabagal',                   future:'will be slow/magiging mabagal' },
  'loose':                  { present:'is loose/maluwag',                  past:'was loose/naging maluwag',                  future:'will be loose/magiging maluwag' },
  'free (no cost)':         { present:'is free/libre',                     past:'was free/naging libre',                     future:'will be free/magiging libre' },
  'negative':               { present:'is negative/negatibo',              past:'was negative/naging negatibo',              future:'will be negative/magiging negatibo' },
  'unpleasant':             { present:'is unpleasant/hindi kanais-nais',   past:'was unpleasant/hindi naging kanais-nais',   future:'will be unpleasant/hindi magiging kanais-nais' },
  'new':                    { present:'is new/bago',                       past:'was new/naging bago',                       future:'will be new/magiging bago' },
  'early':                  { present:'is early/maaga',                    past:'was early/naging maaga',                    future:'will be early/magiging maaga' },
  'familiar':               { present:'is familiar/pamilyar',              past:'was familiar/naging pamilyar',              future:'will be familiar/magiging pamilyar' },
  'consistent':             { present:'is consistent/pare-pareho',         past:'was consistent/naging pare-pareho',         future:'will be consistent/magiging pare-pareho' },
  'white':                  { present:'is white/puti',                     past:'was white/naging puti',                     future:'will be white/magiging puti' },
  'black':                  { present:'is black/itim',                     past:'was black/naging itim',                     future:'will be black/magiging itim' },
  'common':                 { present:'is common/karaniwan',               past:'was common/naging karaniwan',               future:'will be common/magiging karaniwan' },
  'solid':                  { present:'is solid/matigas',                  past:'was solid/naging matigas',                  future:'will be solid/magiging matigas' },
  'scary':                  { present:'is scary/nakakatakot',              past:'was scary/naging nakakatakot',              future:'will be scary/magiging nakakatakot' },
  'old (object)':           { present:'is old (object)/luma',              past:'was old (object)/naging luma',              future:'will be old (object)/magiging luma' },
  'contaminated':           { present:'is contaminated/kontaminado',       past:'was contaminated/naging kontaminado',       future:'will be contaminated/magiging kontaminado' },
  'dangerous':              { present:'is dangerous/mapanganib',           past:'was dangerous/naging mapanganib',           future:'will be dangerous/magiging mapanganib' },
  'weak':                   { present:'is weak/mahina',                    past:'was weak/naging mahina',                    future:'will be weak/magiging mahina' },
  'stuck in traffic':       { present:'is stuck in traffic/nakatigil sa trapiko', past:'was stuck in traffic/nakatigil sa trapiko', future:'will be stuck in traffic/makatigil sa trapiko' },
  'increase (verb)':        { present:'increases/lumalaki',                past:'increased/lumaki',                          future:'will increase/lalaki' },
  // (88–89 duplicate concepts already covered above: clean/dirty)
  'red':                    { present:'is red/pula',                       past:'was red/naging pula',                       future:'will be red/magiging pula' },
  'blue':                   { present:'is blue/asul',                      past:'was blue/naging asul',                      future:'will be blue/magiging asul' },
  'yellow':                 { present:'is yellow/dilaw',                   past:'was yellow/naging dilaw',                   future:'will be yellow/magiging dilaw' },
  // (94 duplicate of black handled above)
  'do quickly (verb)':      { present:'does quickly/gumagawa nang mabilis', past:'did quickly/ginawa nang mabilis',          future:'will do quickly/gagawin nang mabilis' },
  'stretch or lengthen':    { present:'stretches/inuunat',                 past:'stretched/inunat',                          future:'will stretch/iuunat' },
  'ask (verb)':             { present:'asks/nagtatanong',                  past:'asked/nagtanong',                           future:'will ask/magtatanong' },
  'get or obtain (verb)':   { present:'gets or obtains/nakukuha',          past:'got or obtained/nakuha',                    future:'will get or obtain/makukuha' },
  'go up or climb (verb)':  { present:'goes up or climbs/umaakyat',        past:'went up or climbed/umakyat',                future:'will go up or climb/aakyat' },
  'fast': { present:'is fast/mabilis', past:'was fast/naging mabilis', future:'will be fast/magiging mabilis' },
};


</script>

<script>
  // ===== State & Elements =====
  let queue = []; let current = null; let index = 0; let audioReady = false;
  const gate = document.getElementById('gate');
  const finish = document.getElementById('finish');
  const progressEl = document.getElementById('progress');
  const flipWrap = document.getElementById('flipWrap');
  const cardEl = document.getElementById('card');
  const front = document.getElementById('front');
  const back  = document.getElementById('back');
  const player = document.getElementById('koAudio');

  // Choices elements
  const choicesGrid = document.getElementById('choicesGrid');
  const toggleChoices = document.getElementById('toggleChoices');

  let isAnimating = false;

  // ===== Utils =====
  function shuffle(a){ for(let i=a.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [a[i],a[j]]=[a[j],a[i]]; } return a; }
  function updateProgress(){ progressEl.textContent = `${Math.min(index+1, queue.length)} / ${queue.length || WORDS_MASTER.length}`; }

  // ===== TTS =====
  const VOICERSS_KEY = "YOUR_VOICERSS_KEY_HERE";
  const audioCache = new Map();
  const koTtsUrl = (text)=>`https://api.voicerss.org/?key=${VOICERSS_KEY}&hl=ko-kr&c=MP3&f=48khz_16bit_mono&src=${encodeURIComponent(text)}`;
  function speakWeb(text){
    if(!('speechSynthesis' in window)) return;
    const u = new SpeechSynthesisUtterance(text); u.lang = 'ko-KR'; u.rate = 0.95;
    try{ speechSynthesis.cancel(); }catch(e){}
    speechSynthesis.speak(u);
  }
  async function playKo(text){
    if(!audioReady) return;
    if(!VOICERSS_KEY || VOICERSS_KEY === "YOUR_VOICERSS_KEY_HERE"){ speakWeb(text); return; }
    let url = audioCache.get(text);
    if(!url){ url = koTtsUrl(text); audioCache.set(text, url); }
    player.src = url;
    try{ await player.play(); }catch(e){ console.warn("VoiceRSS play failed; falling back to Web Speech:", e); speakWeb(text); }
  }

  // ===== Smarter EN/TL lines builder =====
  // Normalizes keys so "to be good" => "good", keeps parentheses, and "/" -> " or "
  const normalizeForLookup = (en) => {
    let s = en.trim().toLowerCase();
    s = s.replace(/^to be\s+/, '').replace(/^to\s+/, ''); // strip "to be"/"to"
    s = s.replace(/\s*\/\s*/g, ' or ').replace(/\s+/g,' ');
    return s;
  };

  // Split a verb phrase into head verb + tail (for phrasal verbs like "cut out")
  function splitVerbPhrase(s){
    const m = s.match(/^([a-z]+)(.*)$/i);
    if(!m) return [s, ''];
    return [m[1].toLowerCase(), m[2] || ''];
  }

  const IRREGULAR_PAST = {
    be:'was', have:'had', do:'did', go:'went', come:'came', make:'made',
    take:'took', see:'saw', get:'got', give:'gave', find:'found', think:'thought',
    tell:'told', become:'became', leave:'left', feel:'felt', put:'put', bring:'brought',
    begin:'began', keep:'kept', hold:'held', write:'wrote', stand:'stood', hear:'heard',
    mean:'meant', meet:'met', run:'ran', pay:'paid', sit:'sat', speak:'spoke',
    lead:'led', read:'read', grow:'grew', lose:'lost', fall:'fell', send:'sent',
    build:'built', spend:'spent', cut:'cut', rise:'rose', drive:'drove', buy:'bought',
    wear:'wore', choose:'chose', eat:'ate', sleep:'slept', teach:'taught', sell:'sold',
    fight:'fought', catch:'caught', draw:'drew', feed:'fed', fly:'flew', forget:'forgot',
    forgive:'forgave', freeze:'froze'
  };

  function thirdPerson(base){
    if(base === 'be') return 'is';
    if(base === 'have') return 'has';
    if(base === 'do') return 'does';
    if(/(s|sh|ch|x|z)$/.test(base)) return base + 'es';
    if(/[^aeiou]y$/.test(base)) return base.slice(0,-1) + 'ies';
    return base + 's';
  }
  function pastTense(base){
    if(base in IRREGULAR_PAST) return IRREGULAR_PAST[base];
    if(base.endsWith('e')) return base + 'd';
    if(/[^aeiou]y$/.test(base)) return base.slice(0,-1) + 'ied';
    return base + 'ed';
  }
  function conjPresentPhrase(phrase){
    const [v, tail] = splitVerbPhrase(phrase);
    return thirdPerson(v) + tail;
  }
  function conjPastPhrase(phrase){
    const [v, tail] = splitVerbPhrase(phrase);
    return pastTense(v) + tail;
  }

  function englishLines(en){
    const key = normalizeForLookup(en);
    const isBePhrase = /^to be\b/i.test(en);

    // 1) Try exact lookup (with variants)
    let entry =
      EN_TL_FORMS[key] ||
      EN_TL_FORMS[key.replace(/\s*\(.*?\)\s*/,'')] ||
      (key.includes(' or ') ? EN_TL_FORMS[key.split(' or ')[0]] : undefined);

    if(entry) return entry; // Already "EN/TL" per tense (Tagalog included)

    // 2) Fallback conjugation (no Tagalog if not in dict)
    if(isBePhrase){
      const base = en.replace(/^to be\s+/i,'').trim();
      return {
        present: `is ${base}`,
        past:    `was ${base}`,
        future:  `will be ${base}`,
      };
    }else{
      const base = en.replace(/^to\s+/i,'').trim();
      return {
        present: conjPresentPhrase(base),
        past:    conjPastPhrase(base),
        future:  `will ${base}`,
      };
    }
  }

  // ===== Choices (4 small boxes) =====
  function generateChoicesFor(currentWord){
    const correct = currentWord.en;
    const pool = [];
    for(const w of WORDS_MASTER){
      if(w.en && w.en !== correct && !pool.includes(w.en)) pool.push(w.en);
    }
    shuffle(pool);
    const distractors = pool.slice(0,3);
    return shuffle([correct, ...distractors]).map(text => ({ text, correct: text === correct }));
  }

  function renderChoicesFor(word){
    choicesGrid.innerHTML = '';
    if(!toggleChoices.checked) { choicesGrid.style.display = 'none'; return; }
    choicesGrid.style.display = 'grid';
    const options = generateChoicesFor(word);
    let locked = false;

    for(const opt of options){
      const btn = document.createElement('button');
      btn.type = 'button';
      btn.className = 'choiceBtn';
      btn.textContent = opt.text;
      btn.dataset.correct = opt.correct ? '1' : '0';
      btn.addEventListener('click', (e)=>{
        e.stopPropagation();
        if(locked) return;
        locked = true;
        if(opt.correct){
          btn.classList.add('correct');
        }else{
          btn.classList.add('wrong');
          [...choicesGrid.children].forEach(ch=>{
            if(ch.dataset.correct === '1'){ ch.classList.add('reveal'); }
          });
        }
      });
      choicesGrid.appendChild(btn);
    }
  }

  toggleChoices.addEventListener('change', ()=>{
    if(!current) return;
    renderChoicesFor(current);
  });

  // ===== Rendering =====
  function renderFront(w){
    front.innerHTML = `
      <div class="ko-row">
        <div class="ko">${w.ko}</div>
        <button class="play-base" id="playBaseFront" title="Play base" aria-label="Play base">🔊 Play</button>
      </div>
      <ul class="forms">
        <li>
          <span class="left"><b>Present</b> <span class="koform">${w.present}</span></span>
          <button class="play-mini" data-tts="${w.present}" aria-label="Play Present">Play ▶</button>
        </li>
        <li>
          <span class="left"><b>Past</b> <span class="koform">${w.past}</span></span>
          <button class="play-mini" data-tts="${w.past}" aria-label="Play Past">Play ▶</button>
        </li>
        <li>
          <span class="left"><b>Future</b> <span class="koform">${w.future}</span></span>
          <button class="play-mini" data-tts="${w.future}" aria-label="Play Future">Play ▶</button>
        </li>
      </ul>
      <div class="controls" style="margin-top:6px">
        <button class="btn ghost" id="flipToBack"> FLIP the CARD</button>
      </div>
    `;
    front.querySelector('#playBaseFront').addEventListener('click', (e)=>{ e.stopPropagation(); playKo(w.ko); });
    front.querySelectorAll('.play-mini').forEach(btn=>{
      btn.addEventListener('click', (e)=>{ e.stopPropagation(); playKo(btn.dataset.tts); });
    });
    front.querySelector('#flipToBack').addEventListener('click', (e)=>{ e.stopPropagation(); flipWrap.classList.add('flipped'); });
  }

  function renderBack(w){
    const lines = englishLines(w.en);
    back.innerHTML = `
      <div class="enhead">${w.ko} - ${w.en}</div>
      <ul class="enlines">
        <li><b>Present</b> <span class="koform">${w.present}</span> - ${lines.present}</li>
        <li><b>Past</b>    <span class="koform">${w.past}</span>    - ${lines.past}</li>
        <li><b>Future</b>  <span class="koform">${w.future}</span>  - ${lines.future}</li>
      </ul>
      <div class="controls" style="margin-top:6px">
        <button class="btn ghost" id="flipToFront">◀ Back</button>
        <button class="btn" id="nextBtn">Next ▶</button>
        <button class="btn" id="playBaseBack">🔊 Play Base</button>
      </div>
    `;
    back.querySelector('#nextBtn').addEventListener('click', (e)=>{ e.stopPropagation(); nextCardAnimated(); });
    back.querySelector('#playBaseBack').addEventListener('click', (e)=>{ e.stopPropagation(); playKo(w.ko); });
    back.querySelector('#flipToFront').addEventListener('click', (e)=>{ e.stopPropagation(); flipWrap.classList.remove('flipped'); });
  }

  function showCard(w){
    current = w;
    renderFront(w);
    renderBack(w);
    flipWrap.classList.remove('flipped');
    updateProgress();
    renderChoicesFor(w);
    playKo(w.ko);
  }

  // ===== Flow =====
  function startRun(){
    queue = shuffle([...WORDS_MASTER]);
    index = 0;
    finish.style.display = 'none';
    showCard(queue[index]);
  }

  function nextCardAnimated(){
    if(isAnimating) return;
    isAnimating = true;
    flipWrap.classList.add('animating','fly-exit');

    const onExitEnd = (e)=>{
      if(e.target !== cardEl) return;
      flipWrap.removeEventListener('animationend', onExitEnd);
      flipWrap.classList.remove('fly-exit');

      index++;
      if(index >= queue.length){
        flipWrap.classList.remove('animating');
        isAnimating = false;
        finish.style.display = 'flex';
        return;
      }

      const w = queue[index];
      renderFront(w);
      renderBack(w);
      flipWrap.classList.remove('flipped');
      updateProgress();

      renderChoicesFor(w);

      flipWrap.classList.add('fly-enter');
      const onEnterEnd = (ev)=>{
        if(ev.target !== cardEl) return;
        flipWrap.removeEventListener('animationend', onEnterEnd);
        flipWrap.classList.remove('fly-enter','animating');
        isAnimating = false;
        playKo(w.ko);
      };
      flipWrap.addEventListener('animationend', onEnterEnd);
    };
    flipWrap.addEventListener('animationend', onExitEnd);
  }

  // Click/tap behavior
  flipWrap.addEventListener('click', ()=>{
    if(!current) return;
    if(!flipWrap.classList.contains('flipped')) flipWrap.classList.add('flipped');
    else nextCardAnimated();
  });

  // Keyboard accessibility (fixed double-line bug)
  cardEl.addEventListener('keydown', (e)=>{
    if(e.code==='Enter' || e.code==='Space'){
      e.preventDefault();
      if(!flipWrap.classList.contains('flipped')) {
        flipWrap.classList.add('flipped');
      } else {
        nextCardAnimated();
      }
    }
  });

  // Start / Restart
  document.getElementById('startBtn').addEventListener('click', ()=>{ audioReady = true; gate.style.display = 'none'; startRun(); });
  document.getElementById('restartBtn').addEventListener('click', ()=>{ gate.style.display = 'none'; audioReady = true; startRun(); });
</script>


  <script>
  // Disable right click
  document.addEventListener("contextmenu", function(e){ e.preventDefault(); }, false);
  // Disable text selection
  document.addEventListener("selectstart", function(e){ e.preventDefault(); }, false);
  // Disable drag
  document.addEventListener("dragstart", function(e){ e.preventDefault(); }, false);
  // Disable certain keys
  document.addEventListener("keydown", function(e){
    if (e.key === "F12" || (e.ctrlKey && ["u","s","c","x","v"].includes(e.key.toLowerCase()))) { e.preventDefault(); }
  }, false);
  </script>

</body>
</html>
