
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EPS-TOPIK Registration</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">
  <style>
    :root {
      --primary-color: #2c3e50;
      --secondary-color: #3498db;
      --accent-color: #e74c3c;
      --light-bg: #f8f9fa;
      --card-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--light-bg);
      color: #333;
      line-height: 1.6;
    }
    
    .header-banner {
      background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
      color: white;
      padding: 2rem 0;
      margin-bottom: 2rem;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
    }
    
    .form-container {
      background: white;
      border-radius: 8px;
      box-shadow: var(--card-shadow);
      padding: 2rem;
      margin-bottom: 2rem;
    }
    
    .section-title {
      color: var(--primary-color);
      border-bottom: 2px solid var(--secondary-color);
      padding-bottom: 0.5rem;
      margin-bottom: 1.5rem;
      font-weight: 600;
    }
    
    .form-label {
      font-weight: 500;
      color: var(--primary-color);
    }
    
    .form-control, .form-select {
      border-radius: 4px;
      padding: 0.5rem 0.75rem;
      border: 1px solid #ced4da;
      transition: all 0.3s ease;
    }
    
    .form-control:focus, .form-select:focus {
      border-color: var(--secondary-color);
      box-shadow: 0 0 0 0.25rem rgba(52, 152, 219, 0.25);
    }
    
    .btn-primary {
      background-color: var(--secondary-color);
      border-color: var(--secondary-color);
      padding: 0.5rem 1.5rem;
      font-weight: 500;
      transition: all 0.3s ease;
    }
    
    .btn-primary:hover {
      background-color: #2980b9;
      border-color: #2980b9;
      transform: translateY(-2px);
    }
    
    .photo-upload-box {
      border: 2px dashed #ced4da;
      border-radius: 8px;
      padding: 1.5rem;
      text-align: center;
      background-color: #f8f9fa;
      transition: all 0.3s ease;
      cursor: pointer;
    }
    
    .photo-upload-box:hover {
      border-color: var(--secondary-color);
      background-color: rgba(52, 152, 219, 0.05);
    }
    
    .photo-preview {
      width: 150px;
      height: 180px;
      object-fit: cover;
      border-radius: 6px;
      border: 1px solid #ddd;
      margin-bottom: 1rem;
    }
    
    .passport-preview {
      width: 100%;
      max-width: 300px;
      height: auto;
      border-radius: 6px;
      border: 1px solid #ddd;
      margin-bottom: 1rem;
    }
    
    .requirement-list {
      font-size: 0.9rem;
      padding-left: 1.25rem;
    }
    
    .requirement-list li {
      margin-bottom: 0.5rem;
    }
    
    .affirmation-box {
      background-color: #fff8e1;
      border-left: 4px solid #ffc107;
      padding: 1.5rem;
      margin: 2rem 0;
      border-radius: 4px;
    }
    
    .warning-banner {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: linear-gradient(90deg, #f39c12, #e74c3c);
      color: white;
      text-align: center;
      padding: 0.5rem;
      z-index: 1000;
      font-weight: 600;
      box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      animation: pulse 2s infinite;
    }
    
    @keyframes pulse {
      0% { opacity: 0.9; }
      50% { opacity: 1; }
      100% { opacity: 0.9; }
    }
    
    .radio-group {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
    }
    
    .radio-option {
      background: white;
      padding: 0.75rem 1rem;
      border-radius: 6px;
      border: 1px solid #ddd;
      transition: all 0.3s ease;
    }
    
    .radio-option:hover {
      border-color: var(--secondary-color);
    }
    
    .form-check-input:checked + .form-check-label {
      color: var(--secondary-color);
      font-weight: 500;
    }
    
    .uppercase {
      text-transform: uppercase;
    }
    
    @media (max-width: 768px) {
      .header-banner {
        padding: 1.5rem 0;
      }
      
      .form-container {
        padding: 1.5rem;
      }
      
      .photo-preview {
        width: 120px;
        height: 150px;
      }
    }
  </style>
</head>
<body>
<div class="warning-banner">
  ⚠️ PRACTICE REGISTRATION ONLY. NOT AN OFFICIAL FORM ⚠️
</div>
<div class="header-banner">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-8">
        <h1 class="mb-1">EPS-TOPIK Registration</h1>
        <p class="mb-0">Manufacturing Industry under Point-based System</p>
      </div>
      <div class="col-md-4 text-md-end">
        <img src="https://via.placeholder.com/100x50?text=LOGO" alt="EPS Logo" class="img-fluid">
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="form-container">
    <h2 class="section-title">Registration Information</h2>
    
    <form id="EPSforms" autocomplete="off">
      <!-- Category Section -->
      <div class="mb-4">
        <h5 class="mb-3">Application Details</h5>
        <div class="row g-3">
          <div class="col-md-6">
            <label class="form-label">Manufacturing Category</label>
            <div class="radio-group">
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="cat" id="cat_assembly" value="Assembly" required>
                <label class="form-check-label" for="cat_assembly">Assembly</label>
              </div>
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="cat" id="cat_others" value="Others">
                <label class="form-check-label" for="cat_others">Others</label>
              </div>
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="cat" id="cat_measurement" value="Measurement">
                <label class="form-check-label" for="cat_measurement">Measurement</label>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <label class="form-label">Worked under EPS before?</label>
            <div class="radio-group">
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="eps_before" id="eps_no" value="No" required>
                <label class="form-check-label" for="eps_no">Never</label>
              </div>
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="eps_before" id="eps_less" value="Less than 5 years">
                <label class="form-check-label" for="eps_less">Less than 5 years</label>
              </div>
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="eps_before" id="eps_more" value="More than 5 years">
                <label class="form-check-label" for="eps_more">More than 5 years</label>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <label class="form-label">Active Roster/EPS Application</label>
            <div class="radio-group">
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="active_roster" id="roster_yes" value="Yes" required>
                <label class="form-check-label" for="roster_yes">Yes</label>
              </div>
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="active_roster" id="roster_no" value="No">
                <label class="form-check-label" for="roster_no">No</label>
              </div>
            </div>
          </div>
          
          <div class="col-md-6">
            <label class="form-label">Test Venue</label>
            <div class="radio-group">
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="test_venue" id="venue_manila" value="Manila" checked required>
                <label class="form-check-label" for="venue_manila">Manila</label>
              </div>
              <div class="form-check radio-option">
                <input class="form-check-input" type="radio" name="test_venue" id="venue_launion" value="La Union">
                <label class="form-check-label" for="venue_launion">La Union</label>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Personal Information Section -->
      <div class="mb-4">
        <h5 class="mb-3">Personal Information</h5>
        <div class="row g-3">
          <div class="col-md-4">
            <label for="lname" class="form-label">Last Name</label>
            <input type="text" class="form-control uppercase" id="lname" name="lname" required>
          </div>
          <div class="col-md-4">
            <label for="fname" class="form-label">First Name</label>
            <input type="text" class="form-control uppercase" id="fname" name="fname" required>
          </div>
          <div class="col-md-4">
            <label for="mname" class="form-label">Middle Name</label>
            <input type="text" class="form-control uppercase" id="mname" name="mname">
          </div>
          
          <div class="col-md-3">
            <label for="sex" class="form-label">Sex</label>
            <select class="form-select uppercase" id="sex" name="sex" required>
              <option value="">Select</option>
              <option>Male</option>
              <option>Female</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="bdate" class="form-label">Birthdate</label>
            <input type="date" class="form-control" id="bdate" name="bdate" required>
          </div>
          <div class="col-md-3">
            <label for="passport" class="form-label">Passport Number</label>
            <input type="text" class="form-control uppercase" id="passport" name="passport" required>
          </div>
          <div class="col-md-3">
            <label for="passport_validity" class="form-label">Passport Validity</label>
            <input type="date" class="form-control" id="passport_validity" name="passport_validity" required>
          </div>
          
          <div class="col-md-4">
            <label for="email" class="form-label">Email Address</label>
            <input type="email" class="form-control" id="email" name="email" required>
          </div>
          <div class="col-md-4">
            <label for="mobile" class="form-label">Mobile Number</label>
            <input type="text" class="form-control" id="mobile" name="mobile" required>
          </div>
          <div class="col-md-4">
            <label for="province" class="form-label">Province (Present Address)</label>
            <select id="province" class="form-select uppercase" name="province" required>
              <option value="">Select a province</option>
              <!-- Options will be populated by JavaScript -->
            </select>
          </div>
          
          <div class="col-md-4">
            <label for="city" class="form-label">City</label>
            <select id="city" class="form-select uppercase" name="city" required>
              <option value="">Select a city</option>
              <!-- Options will be populated by JavaScript -->
            </select>
          </div>
          <div class="col-md-4">
            <label for="password" class="form-label">Create Password</label>
            <input type="password" class="form-control" id="password" name="password" autocomplete="new-password" required>
            <div class="form-check mt-2">
              <input class="form-check-input" type="checkbox" id="show_password">
              <label class="form-check-label" for="show_password">Show Password</label>
            </div>
          </div>
          <div class="col-md-4">
            <label for="repassword" class="form-label">Re-type Password</label>
            <input type="password" class="form-control" id="repassword" name="repassword" autocomplete="new-password" required>
          </div>
        </div>
      </div>
      
      <!-- Photo Upload Section -->
      <div class="row mb-4">
        <div class="col-md-6">
          <div class="photo-upload-box" id="idPhotoBox">
            <h6><i class="fas fa-id-card me-2"></i> ID Picture Requirements</h6>
            <img id="idphoto_preview" src="https://via.placeholder.com/150x180?text=ID+Photo" class="photo-preview">
            <p class="small text-muted">Click to upload passport photo</p>
            <input type="file" id="appPhoto" name="appPhoto" style="display:none;" accept="image/*">
            <div id="app_size" class="small text-danger mt-2"></div>
            
            <ul class="requirement-list text-start mt-3">
              <li>Passport Size 3.5cm × 4.5cm</li>
              <li>Taken within last 3 months</li>
              <li>Office attire with blazer</li>
              <li>Pure white background</li>
              <li>Both ears visible</li>
            </ul>
          </div>
        </div>
        
        <div class="col-md-6">
          <div class="photo-upload-box" id="passportBox">
            <h6><i class="fas fa-passport me-2"></i> Passport Requirements</h6>
            <img id="passport_preview" src="https://via.placeholder.com/300x200?text=Passport" class="passport-preview">
            <p class="small text-muted">Click to upload passport copy</p>
            <input type="file" id="ppPhoto" name="ppPhoto" style="display:none;" accept="image/*">
            <div id="passport_size" class="small text-danger mt-2"></div>
            
            <ul class="requirement-list text-start mt-3">
              <li>Clear scanned copy of bio/data page</li>
              <li>Maintain blue passport color</li>
              <li>All information must be readable</li>
              <li>JPG format only</li>
              <li>Max size: 100KB</li>
            </ul>
          </div>
        </div>
      </div>
      
      <!-- Survey Section -->
      <div class="mb-4">
        <h5 class="section-title">Survey Questions</h5>
        <div class="mb-3">
          <label class="form-label">How did you prepare for EPS-TOPIK Examination?</label>
          <div class="radio-group">
            <div class="form-check radio-option">
              <input class="form-check-input" type="radio" name="prep" id="prep_self" value="Self-study" required>
              <label class="form-check-label" for="prep_self">Self-study</label>
            </div>
            <div class="form-check radio-option">
              <input class="form-check-input" type="radio" name="prep" id="prep_school" value="Training Center / School">
			                <label class="form-check-label" for="prep_school">Training Center / School</label>
            </div>
          </div>
        </div>
        
        <div class="mb-3">
          <label for="school" class="form-label">Name of the Training Center / School <span class="text-muted">(Write NA if self-study)</span></label>
          <input type="text" class="form-control" id="school" name="school" required>
        </div>
        
        <div class="mb-3">
          <label for="school_location" class="form-label">City / Municipality (Location of Training Center / School)</label>
          <input type="text" class="form-control" id="school_location" name="school_location" required>
        </div>
      </div>
      
      <!-- Affirmation Section -->
      <div class="affirmation-box">
        <div class="form-check">
          <input class="form-check-input" type="checkbox" id="affirm" required style="width: 1.2em; height: 1.2em;">
          <label class="form-check-label" for="affirm">
            I hereby declare that the details I have submitted are accurate and truthful to the best of my knowledge. I fully understand that providing false or misleading information may lead to exclusion from current or future job application processes related to employment in South Korea.
          </label>
        </div>
      </div>
      
      <!-- Submit Button -->
      <div class="text-center mt-4">
        <button type="submit" class="btn btn-primary btn-lg px-4" id="EPSsubmit">
          <i class="fas fa-paper-plane me-2"></i> Submit Registration
        </button>
      </div>
    </form>
  </div>
</div>
<!-- JavaScript (same as before with minor adjustments) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
  $(function() {
    // Province/City data for offline dropdown
    const provinceCities = {
      "Abra": ["Bangued","Boliney","Bucay","Bucloc","Daguioman","Danglas","Dolores","La Paz","Lacub","Lagangilang","Lagayan","Langiden","Licuan-Baay","Luba","Malibcong","Manabo","Peñarrubia","Pidigan","Pilar","Sallapadan","San Isidro","San Juan","San Quintin","Tayum","Tineg","Tubo","Villaviciosa"],
      // ... (rest of the province/city data remains the same)
    };
    // Populate province dropdown
    let $province = $('#province');
    let $city = $('#city');
    $province.append(
      Object.keys(provinceCities).sort().map(p => `<option value="${p}">${p}</option>`)
    );
    $province.on('change', function() {
      let cities = provinceCities[this.value] || [];
      $city.html('<option value="">Select a city</option>' +
        cities.map(c => `<option value="${c}">${c}</option>`).join('')
      );
    });
    // Show password toggle
    $('#show_password').on('change', function() {
      let type = this.checked ? 'text' : 'password';
      $('#password, #repassword').attr('type', type);
    });
    // Photo upload preview and size check
    $('#appPhoto').on('change', function() {
      const file = this.files[0];
      if (!file) return;
      let reader = new FileReader();
      reader.onload = function(e) {
        $('#idphoto_preview').attr('src', e.target.result);
      };
      reader.readAsDataURL(file);
      // size check
      let size = (file.size / 1024).toFixed(2);
      let msg = '';
      if (size > 13.312) {
        msg = `<span class='text-danger'>WARNING: File size ${size} KB is too large (max 13 KB)</span>`;
      } else if (size < 9.216) {
        msg = `<span class='text-danger'>WARNING: File size ${size} KB is too small (min 9 KB)</span>`;
      }
      $('#app_size').html(msg);
    });
    // Passport photo upload preview and size check
    $('#ppPhoto').on('change', function() {
      const file = this.files[0];
      if (!file) return;
      let reader = new FileReader();
      reader.onload = function(e) {
        $('#passport_preview').attr('src', e.target.result);
      };
      reader.readAsDataURL(file);
      // size check
      let size = (file.size / 1024).toFixed(2);
      let msg = '';
      if (size > 100) {
        msg = `<span class='text-danger'>WARNING: File size ${size} KB is too large (max 100 KB)</span>`;
      } else if (size < 50) {
        msg = `<span class='text-danger'>WARNING: File size ${size} KB is too small (min 50 KB)</span>`;
      }
      $('#passport_size').html(msg);
    });
    // Allow clicking image to upload
    $('#idPhotoBox').on('click', function() {
      $('#appPhoto').click();
    });
    $('#passportBox').on('click', function() {
      $('#ppPhoto').click();
    });
    // Auto-uppercase for text inputs
    $(document).on('input', 'input[type="text"].uppercase', function() {
      this.value = this.value.toUpperCase();
    });
    // Form submission handler
    $('#EPSforms').on('submit', function(e) {
      e.preventDefault();
      // Gather info
      let lname = $('#lname').val().trim();
      let fname = $('#fname').val().trim();
      let mname = $('#mname').val().trim();
      let fullname = fname + ' ' + mname + ' ' + lname;
      let email = $('#email').val().trim();
      // Generate random ID
      let randomID = Math.floor(Math.random() * 100) + 1;
      let idStr = String(randomID).padStart(5, '0');
      // Save to localStorage
      localStorage.setItem('reg_fullname', fullname);
      localStorage.setItem('reg_email', email);
      localStorage.setItem('reg_id', idStr);
      // Redirect to success page
      window.location.href = 'success.html';
    });
  });
</script>
</body>
</html>
