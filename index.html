<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>EPS - TOPIK Registration | DMW</title>
  <link rel="icon" type="image/x-icon" href="images-dmw_ol.ico">
  <link rel="stylesheet" href="css-custom.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" rel="stylesheet">
  <style>
    body, html, .forms5 { height: 100%; background-color: #fcfcfd; }
    .spinner, .spinner2, .spinner3 { display: none; }
    .forms2 { background-color: rgba(255,255,255,0.0896); }
    .atnt { display: inline-block; }
    .logos { font-size: 11px; margin: 0 !important; padding: 0 !important; }
    .img-hero { background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('upper.jpg'); height: 50%; background-position: center; background-repeat: no-repeat; background-size: cover; }
    .hero-text { color: #faf9f9; }
    .inline-radio .form-check { display: inline-block; margin-right: 15px; }
    .affirm-box { background: #fffbe7; border: 2px solid #ffe082; border-radius: 10px; padding: 22px 18px 18px 18px; margin-bottom: 18px; }
    .affirm-checkbox { accent-color: #ffc107; width: 1.2em; height: 1.2em; margin-right: 12px; margin-top: 4px; }
    .affirm-text { font-size: 1em; color: #5b4a1b; font-weight: 500; vertical-align: middle; }
    .survey-box { width: 100%; }
    .survey-box input[type="text"] { width: 100% !important; min-width: 0; max-width: 100%; }
    @media (max-width: 991px) {
      .row > [class^="col-"], .row > [class*=" col-"] {
        flex: 0 0 100%;
        max-width: 100%;
      }
      .d-flex.flex-wrap.align-items-stretch.gap-2 > div {
        min-width: 100% !important;
        margin-right: 0 !important;
      }
      .d-flex.flex-wrap.align-items-stretch.gap-2 {
        flex-direction: column !important;
        gap: 0.5rem !important;
      }
      .survey-box,
      .affirm-box {
        padding-left: 12px !important;
        padding-right: 12px !important;
        font-size: 1em;
      }
      .survey-box ol li input.form-control {
        max-width: 100% !important;
      }
    }
    @media (max-width: 767px) {
      .photo-id-right img#idphoto_preview {
        width: 110px !important;
        height: 130px !important;
      }
      #passport_preview {
        width: 100% !important;
        height: auto !important;
        min-width: 0 !important;
        min-height: 0 !important;
        max-width: 100% !important;
      }
      .border-warning.p-3.mb-2.d-flex {
        flex-direction: column !important;
        align-items: flex-start !important;
      }
      .border-warning.p-3.mb-2.d-flex > div {
        margin-right: 0 !important;
        width: 100% !important;
      }
    }
    @media (max-width: 600px) {
      .form-check-input, .affirm-checkbox { width: 1.6em; height: 1.6em; }
      .form-check-label, .affirm-text { font-size: 1.1em; }
      .survey-box ol li { font-size: 1.1em; }
    }
	
	@media (max-width: 991px) {
  /* 1. Spacing for radio label and radio bilog */
  .form-check-input[type="radio"] {
    margin-right: 9px !important; /* dagdag space bilog to label */
  }
  .form-check-label {
    margin-right: 15px !important; /* space sa right ng label para di dikit sa next radio */
  }

  /* 2. Spacing for form fields */
  .form-control,
  .form-select {
    margin-bottom: 16px !important; /* dagdag space sa bawat fill-in box */
  }
  /* optional: remove bottom margin sa pinakahuling form-group */
  .row.mb-2:last-child .form-control,
  .row.mb-2:last-child .form-select {
    margin-bottom: 0 !important;
  }
}

  </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light">
  <a class="navbar-brand" href="#"><img src="logo.png" width="60"></a>
  <div class="atnt">
    <p class="logos">Department of</p>
    <p class="logos">Migrant</p>
    <p class="logos">Workers</p>
  </div>
</nav>
<section class="upper">
  <div class="img-hero">
    <div class="container">
      <div class="row">
        <div class="col-md-9">
          <div class="hero-text">
            <h1 class="mt-2 mb-0 ubuntu text-white">EPS - TOPIK TEST</h1>
            <h5 class="my-0 ubuntu">Online Registration</h5>
            <p class="my-0 ubuntu fw-light">Manufacturing Industry under Point-based System</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
<br>
<section>
  <div class="container mt-2">
    <h2 class="mt-2 py-2 ubuntu">Registration</h2>
    <form id="EPSforms" class="forms5 p-2" autocomplete="off">
      <!-- Bordered box: Manufacturing Category to Test Venue -->
      <div class="border rounded p-3 mb-3 bg-white" style="border-width:2px !important; box-shadow:0 2px 8px #eaeaea;">
        <div class="row mb-2">
          <div class="col-lg-12 d-flex flex-wrap align-items-stretch gap-2">
            <!-- Manufacturing Category -->
            <div class="me-2 mb-2" style="min-width: 210px;">
              <label class="mb-1 fw-semibold">Manufacturing Category</label><br>
              <span class="inline-radio">
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="cat" value="Assembly" id="cat_assembly" required>
                  <label class="form-check-label" for="cat_assembly">Assembly</label>
                </div>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="cat" value="Others" id="cat_others">
                  <label class="form-check-label" for="cat_others">Others</label>
                </div>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="cat" value="Measurement" id="cat_measurement">
                  <label class="form-check-label" for="cat_measurement">Measurement</label>
                </div>
              </span>
            </div>
            <!-- Worked under EPS before? -->
            <div class="me-2 mb-2" style="min-width: 230px;">
              <label class="mb-1 fw-semibold">Worked under EPS before?</label><br>
              <span class="inline-radio">
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="eps_before" value="No" id="eps_no" required>
                  <label class="form-check-label" for="eps_no">Never</label>
                </div>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="eps_before" value="Less than 5 years" id="eps_less">
                  <label class="form-check-label" for="eps_less">Less than 5 years</label>
                </div>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="eps_before" value="More than 5 years" id="eps_more">
                  <label class="form-check-label" for="eps_more">More than 5 years</label>
                </div>
              </span>
            </div>
            <!-- Active Roster/EPS Application -->
            <div class="me-2 mb-2" style="min-width: 190px;">
              <label class="mb-1 fw-semibold">Active Roster/EPS Application</label><br>
              <span class="inline-radio">
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="active_roster" value="Yes" id="roster_yes" required>
                  <label class="form-check-label" for="roster_yes">Yes</label>
                </div>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="active_roster" value="No" id="roster_no">
                  <label class="form-check-label" for="roster_no">No</label>
                </div>
              </span>
            </div>
            <!-- Test Venue -->
           <div class="mb-2">
  <label class="mb-1 fw-semibold">Test Venue</label><br>
  <span class="inline-radio">
    <div class="form-check form-check-inline">
      <input type="radio" class="form-check-input" name="test_venue" value="Manila" id="venue_manila" checked required>
      <label class="form-check-label" for="venue_manila">Manila</label>
    </div>
    <div class="form-check form-check-inline">
      <input type="radio" class="form-check-input" name="test_venue" value="La Union" id="venue_launion">
      <label class="form-check-label" for="venue_launion">La Union</label>
    </div>
  </span>
</div>
          </div>
        </div>
      </div>

      <!-- Border box: Personal Info -->
      <div class="border rounded p-3 mb-3 bg-white" style="border-width:2px !important; box-shadow:0 2px 8px #eaeaea;">
        <div class="row mb-2">
          <div class="col-md-3">
            <label for="lname">Last Name</label>
            <input type="text" class="form-control" id="lname" name="lname" required>
          </div>
          <div class="col-md-3">
            <label for="fname">First Name</label>
            <input type="text" class="form-control" id="fname" name="fname" required>
          </div>
          <div class="col-md-3">
            <label for="mname">Middle Name</label>
            <input type="text" class="form-control" id="mname" name="mname">
          </div>
          <div class="col-md-3">
            <label for="suffix">Suffix Name</label>
            <input type="text" class="form-control" id="suffix" name="suffix" placeholder="EX: JR, SR, I, II ETC...">
          </div>
        </div>
        <div class="row mb-2">
          <div class="col-md-3">
            <label for="sex">Sex</label>
            <select class="form-select" id="sex" name="sex" required>
              <option value="">Select</option>
              <option>Male</option>
              <option>Female</option>
            </select>
          </div>
          <div class="col-md-3">
            <label for="bdate">Birthdate</label>
            <input type="date" class="form-control" id="bdate" name="bdate" required>
          </div>
          <div class="col-md-3">
            <label for="passport">Passport Number</label>
            <input type="text" class="form-control" id="passport" name="passport" required>
          </div>
          <div class="col-md-3">
            <label for="passport_validity">Passport Validity</label>
            <input type="date" class="form-control" id="passport_validity" name="passport_validity" required>
          </div>
        </div>
        <div class="row mb-2">
          <div class="col-md-4">
            <label for="email">Email Address</label>
            <input type="email" class="form-control" id="email" name="email" required>
          </div>
          <div class="col-md-4">
            <label for="mobile">Mobile Number</label>
            <input type="text" class="form-control" id="mobile" name="mobile" required>
          </div>
          <div class="col-md-4">
            <label for="province">Province <small>(Present Address)</small></label>
            <select id="province" class="form-select uppercase" name="province" required>
              <option value="">Select a province</option>
            </select>
          </div>
        </div>
        <div class="row mb-2">
          <div class="col-md-4">
            <label for="city">City</label>
            <select id="city" class="form-select uppercase" name="city" required>
              <option value="">Select a city</option>
            </select>
          </div>
          <div class="col-md-4">
            <label for="password">Create Password</label>
            <input type="password" class="form-control" id="password" name="password" autocomplete="new-password" required>
            <input type="checkbox" id="show_password"> <small>Show Password</small>
          </div>
          <div class="col-md-4">
            <label for="repassword">Re-type Password</label>
            <input type="password" class="form-control" id="repassword" name="repassword" autocomplete="new-password" required>
          </div>
        </div>
      </div>

      <!-- PHOTO, SURVEY & AFFIRM BOX -->
      <div class="row my-2">
        <!-- ID PICTURE -->
        <div class="col-md-6">
          <!-- WARNING -->
          <div id="app_size" style="margin-bottom:4px;"></div>
          <div class="border border-warning rounded p-3 mb-2" style="background: #fffbe7; position: relative; min-height:240px;">
            <b class="mb-2 d-block"><i class="fa fa-id-card"></i> ID Picture</b>
            <ol style="font-size:small; padding-left: 1.1em; margin-top:0; margin-bottom:0;">
              <li>Passport Size 3.5cm(w) X 4.5cm(h); 13Kb o mas mababa</li>
              <li>Kinuha sa loob ng 3 buwan</li>
              <li>Hindi nanggaling sa isang selfie picture</li>
              <li>Naka office attire (naka blazer)</li>
              <li>Hindi malabo at naka pure white na background</li>
              <li>Hindi nakasuot ng kulay puting damit</li>
              <li>Hindi edited at walang borderline</li>
              <li>Kita ang dalawang tenga</li>
              <li>Hindi pwede ang graduation picture</li>
              <li>Walang name o name plate</li>
              <li>Hindi naka-side-view ang kuha</li>
              <li>Walang salamin at head dress (maliban sa hijab)</li>
            </ol>
            <div class="photo-id-right" style="margin: 0 auto 1rem auto; display: block; text-align: center;">
              <img id="idphoto_preview" src="id_photo.jpg" alt="ID Photo"
                style="width:130px; height:150px; object-fit:cover; border:1px solid #ccc; background:#fafafa; border-radius:7px;">
              <br>
              <label for="appPhoto"
                class="btn btn-sm btn-warning d-block mx-auto my-2"
                style="max-width:170px; cursor:pointer; font-size:0.96em;">
                <i class="fa fa-info-circle"></i> Click photo to upload/change
              </label>
              <input type="file" id="appPhoto" name="appPhoto" style="display:none;" accept="image/*">
            </div>
          </div>
        </div>
        <!-- PASAPORTE -->
        <div class="col-md-6">
          <div id="passport_size" style="margin-bottom:4px;"></div>
          <div class="border border-warning rounded p-3 mb-2 d-flex flex-row flex-wrap align-items-start" style="background: #fffbe7; min-height:240px;">
            <!-- IMAGE COLUMN -->
            <div style="flex:1; min-width:210px;">
              <b class="mb-2 d-block"><i class="fa fa-passport"></i> PASAPORTE</b>
              <ol style="font-size:small; padding-left: 1.1em;">
                <li>Malinis at maayos na scanned copy (bio/data page lamang)</li>
                <li>Panatilihin ang pagiging kulay asul ng pasaporte</li>
                <li>Siguraduhin na malinaw at nababasa ang mga nakalagay na information</li>
                <li>JPG Format lang</li>
                <li>Size: 600 pixels (width) x 400 pixels (height); 100Kb o mas mababa lamang</li>
              </ol>
            </div>
            <div class="flex-shrink-0" style="margin-right:24px;">
              <img id="passport_preview" src="passport_photo.jpg" alt="Passport"
                style="width:600px; height:400px; max-width:100%; object-fit:cover; border:1px solid #ccc; background:#fafafa; border-radius:7px; display:block;">
              <label for="ppPhoto"
                class="btn btn-sm btn-warning d-block mx-auto my-2"
                style="max-width:220px; cursor:pointer; font-size:0.96em;">
                <i class="fa fa-info-circle"></i> Click photo to upload / change
              </label>
              <input type="file" id="ppPhoto" name="ppPhoto" style="display:none;" accept="image/*">
            </div>
          </div>
        </div>
      </div>

      <!-- SURVEY SECTION -->
      <div class="survey-box" style="margin-top:8px; margin-bottom:18px;">
        <div style="font-size:1.45em; font-weight:600; margin-bottom:20px;">Survey Question</div>
        <ol style="padding-left: 1.1em;">
          <li class="mb-3">
            <b style="font-size:1.09em;">How did you prepare for EPS-TOPIK Examination?</b><br>
            <div class="form-check form-check-inline" style="margin-right:22px;">
              <input type="radio" name="prep" value="Self-study" id="prep_self" class="form-check-input" required>
              <label for="prep_self" class="form-check-label">Self-study</label>
            </div>
            <div class="form-check form-check-inline">
              <input type="radio" name="prep" value="Training Center / School" id="prep_school" class="form-check-input">
              <label for="prep_school" class="form-check-label">Training Center / School</label>
            </div>
          </li>
          <li class="mb-3">
            <b style="font-size:1.05em;">Name of the Training Center / School <span style="font-weight:400;">(Write NA if self-study)</span></b><br>
            <input type="text" class="form-control mt-1" name="school" required style="max-width:600px;">
          </li>
          <li>
            <b style="font-size:1.05em;">City / Municipality (Location of Training Center / School)</b><br>
            <input type="text" class="form-control mt-1" name="school_location" required style="max-width:600px;">
          </li>
        </ol>
      </div>

      <!-- AFFIRM BOX -->
      <div class="affirm-box d-flex" style="max-width:100vw; width:100%; margin-left:auto; margin-right:auto; align-items: flex-start;">
        <input type="checkbox" id="affirm" class="affirm-checkbox" required style="margin-top:2px; margin-right:12px;">
        <label for="affirm" class="affirm-text mb-0" style="text-align:left; flex:1;">
          I attest and affirm that I have provided correct and truthful information. In the event that the same will be found to be false or incorrect, it shall result to my disqualification to proceed or to be considered in the future employment in the EPS-TOPIK of Korea.
        </label>
      </div>
      <!-- Register Button -->
      <div style="width: 100%; text-align: center; margin: 16px 0;">
        <button type="submit" class="btn btn-primary" id="EPSsubmit" style="width:1.5in; min-width: 60px; display:inline-block;">
          Register
        </button>
      </div>
    </form>
  </div>
</section>
<!-- Add your JS logic for province/city here, unchanged -->
<script src="3.6.0-jquery.min.js"></script>
<script>
  $(function() {
    // Province/City data for offline dropdown
    const provinceCities = {
      "Abra": ["Bangued","Boliney","Daguioman","Danglas","Dolores","La Paz","Lacub","Lagangilang","Lagayan","Langiden","Licuan-Baay","Luba","Malibcong","Manabo","Peñarrubia","Pidigan","Pilar","Sallapadan","San Isidro","San Juan","San Quintin","Tayum","Tineg","Tubo","Villaviciosa"],
      "Agusan del Norte": ["Butuan City","Cabadbaran City","Buenavista","Carmen","Jabonga","Kitcharao","Las Nieves","Magallanes","Nasipit","Remedios T. Romualdez","Santiago","Tubay"],
      "Agusan del Sur": ["Bayugan City","Bunawan","Esperanza","La Paz","Loreto","Prosperidad","Rosario","San Francisco","San Luis","Santa Josefa","Sibagat","Talacogon","Trento","Veruela"],
      "Aklan": ["Altavas","Balete","Banga","Batan","Buruanga","Ibajay","Kalibo","Lezo","Libacao","Madalag","Makato","Malay","Malinao","Nabas","New Washington","Numancia","Tangalan"],
      "Albay": ["Bacacay","Camalig","Daraga","Guinobatan","Jovellar","Legazpi City","Libon","Ligao City","Malilipot","Malinao","Manito","Oas","Pio Duran","Polangui","Rapu-Rapu","Santo Domingo","Tabaco City","Tiwi"],
      "Metro Manila": ["Caloocan","Las Piñas","Makati","Malabon","Mandaluyong","Manila","Marikina","Muntinlupa","Navotas","Parañaque","Pasay","Pasig","Pateros","Quezon City","San Juan","Taguig","Valenzuela"],
      "Nueva Vizcaya": ["Alfonso Castañeda","Ambaguio","Aritao","Bagabag","Bambang","Bayombong","Diadi","Dupax del Norte","Dupax del Sur","Kasibu","Kayapa","Quezon","Santa Fe","Solano","Villaverde"],
    };
    // Populate province dropdown
    let $province = $('#province');
    let $city = $('#city');
    $province.append(
      Object.keys(provinceCities).sort().map(p => `<option value="${p}">${p}</option>`)
    );
    $province.on('change', function() {
      let cities = provinceCities[this.value] || [];
      $city.html('<option value="">Select a city</option>' +
        cities.map(c => `<option value="${c}">${c}</option>`).join('')
      );
    });
    // Show password toggle
    $('#show_password').on('change', function() {
      let type = this.checked ? 'text' : 'password';
      $('#password, #repassword').attr('type', type);
    });
    // ID photo upload preview and size check (offline)
    $('#appPhoto').on('change', function() {
      const file = this.files[0];
      if (!file) return;
      let reader = new FileReader();
      reader.onload = function(e) {
        $('#idphoto_preview').attr('src', e.target.result);
      };
      reader.readAsDataURL(file);
      // size check
      let size = (file.size / 1024).toFixed(2);
      let msg = '';
      if (size > 13.312) {
        msg = `<span class='p-2 bg-danger text-white'>WARNING: file size ${size} Kb is too large.</span>`;
      } else if (size < 9.216) {
        msg = `<span class='p-2 bg-danger text-white'>WARNING: file size ${size} Kb is too small.</span>`;
      }
      $('#app_size').html(msg);
    });
    // Passport photo upload preview and size check (offline)
    $('#ppPhoto').on('change', function() {
      const file = this.files[0];
      if (!file) return;
      let reader = new FileReader();
      reader.onload = function(e) {
        $('#passport_preview').attr('src', e.target.result);
      };
      reader.readAsDataURL(file);
      // size check
      let size = (file.size / 1024).toFixed(2);
      let msg = '';
      if (size > 100) {
        msg = `<span class='p-2 bg-danger text-white'>WARNING: file size ${size} Kb is too large.</span>`;
      } else if (size < 50) {
        msg = `<span class='p-2 bg-danger text-white'>WARNING: file size ${size} Kb is too small.</span>`;
      }
      $('#passport_size').html(msg);
    });
    // Allow clicking image to upload (only attach once)
    $('#idphoto_preview').off('click').on('click', function() {
      $('#appPhoto').click();
    });
    $('#passport_preview').off('click').on('click', function() {
      $('#ppPhoto').click();
    });
    // SUBMIT HANDLER for REGISTRATION
    $('#EPSforms').on('submit', function(e) {
      e.preventDefault();
      // Gather info
      let lname = $('#lname').val().trim();
      let fname = $('#fname').val().trim();
      let mname = $('#mname').val().trim();
      let fullname = fname + ' ' + mname + ' ' + lname;
      let email = $('#email').val().trim();
      // Generate random ID (pad with leading zeros)
      let randomID = Math.floor(Math.random() * 100) + 1;
      let idStr = String(randomID).padStart(5, '0');
      // Save to localStorage
      localStorage.setItem('reg_fullname', fullname);
      localStorage.setItem('reg_email', email);
      localStorage.setItem('reg_id', idStr);
      // Redirect to success page
      window.location.href = 'success.html';
    });
  }); // END $(function(){ ... })
</script>
</body>
</html>
