<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Korean Interview â€” Flip Cards (Randomized 7)</title>
<style>
  :root{
    --bg:#0b1220; --panel:#10192b; --ink:#e8f0ff; --muted:#a9b4c7; --accent:#4cc9f0; --accent2:#22d3ee; --ring:#26324a;
  }
  *{box-sizing:border-box}
  body{margin:0;background:radial-gradient(1200px 600px at 15% -10%, #0f2240, transparent),
                     radial-gradient(900px 600px at 100% 0%, #0c1a33, transparent),
                     linear-gradient(180deg, #0b1220, #0b1220);
       color:var(--ink);font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial,sans-serif;}
  header{position:sticky;top:0;background:rgba(16,25,43,.8);backdrop-filter:blur(6px);border-bottom:1px solid var(--ring);z-index:5}
  .wrap{max-width:1200px;margin:0 auto;padding:16px}
  h1{margin:8px 0 2px;font-size:20px;letter-spacing:.4px}
  .sub{color:var(--muted);font-size:13px;margin:0 0 10px}
  .toolbar{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:8px 0 10px}
  button, .toggle{background:#0e223d;color:var(--ink);border:1px solid var(--ring);padding:10px 14px;border-radius:12px;cursor:pointer;box-shadow:0 6px 18px rgba(0,0,0,.2)}
  button:hover{border-color:var(--accent)}
  .toggle{display:flex;align-items:center;gap:8px}
  .toggle input{accent-color:var(--accent)}
  .grid{display:grid;grid-template-columns:repeat(7,1fr);gap:14px}
  @media (max-width:1200px){.grid{grid-template-columns:repeat(4,1fr)}}
  @media (max-width:900px){.grid{grid-template-columns:repeat(2,1fr)}}
  @media (max-width:640px){.grid{grid-template-columns:1fr}}

  /* Card */
  .card{perspective:1500px}
  .inner{position:relative;width:100%;height:260px;transform-style:preserve-3d;transition:transform .6s;}
  .face{position:absolute;inset:0;border:1px solid var(--ring);border-radius:16px;padding:14px;background:linear-gradient(145deg,#0f1b31,#0e182a);box-shadow:0 12px 30px rgba(0,0,0,.35)}
  .front{backface-visibility:hidden;display:flex;flex-direction:column;justify-content:space-between}
  .back{transform:rotateY(180deg);backface-visibility:hidden;display:flex;flex-direction:column;gap:10px;overflow:auto}
  .qidx{font-size:12px;color:var(--muted)}
  .qko{font-size:18px;line-height:1.35}
  .row{display:flex;gap:8px;align-items:center;justify-content:space-between;flex-wrap:wrap}
  .pill{font-size:11px;border:1px solid var(--ring);padding:2px 8px;border-radius:999px;color:var(--muted)}
  .txt{font-size:14px;line-height:1.45}
  .muted{color:var(--muted)}
  .flipbtn{margin-left:auto}
  .flipped .inner{transform:rotateY(180deg)}
  .kbadge{font-size:11px;color:#93c5fd}

  /* Front question visibility toggle */
  .hide-front-qs .qko{visibility:hidden;height:1.2em}

  footer{color:var(--muted);font-size:12px;margin-top:18px}
  .legend{display:flex;gap:10px;flex-wrap:wrap}
  .clock{max-width:90%;height:auto}
  .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;}

  .floating-home {
    position: fixed;
    top: 0;
    right: 0;
    background: linear-gradient(90deg, #67e8f9, #38bdf8);
    color: #072235;
    font-size: 14px;
    font-weight: 700;
    text-decoration: none;
    padding: 8px 16px;
    border-radius: 0 0 0 10px;
    box-shadow: 0 6px 18px rgba(56,189,248,.35);
    z-index: 9999;
    transition: all 0.25s ease;
    backdrop-filter: blur(8px) saturate(140%);
    -webkit-backdrop-filter: blur(8px) saturate(140%);
  }
  .floating-home:hover {
    filter: brightness(1.12);
    box-shadow: 0 0 12px rgba(56,189,248,.55),
                0 0 24px rgba(103,232,249,.45);
    transform: translateY(-1px);
  }
	
</style>
</head>
<body>
	<a href="index.html" class="floating-home">Home</a>
  <header>
    <div class="wrap">
      <h1>ğŸ§Š Korean Interview â€” Flip Cards</h1>
      <p class="sub">
       
      </p>
      <div class="toolbar">
        <button id="btn-new">ğŸ”€ New Random Set</button>
        <label class="toggle"><input type="checkbox" id="showFrontQ" checked> Show question text (front)</label>
        <label class="toggle"><input type="checkbox" id="polite"> Use <span class="kbadge">polite</span> form on front</label>
        <button id="btn-stop">ğŸ”‡ Stop Speech</button>
      </div>
    </div>
  </header>

  <main class="wrap">
    <div id="cards" class="grid"></div>

    <footer>
      <div class="legend">
     
      </div>
    </footer>
  </main>

<script>
// ===== Data (1..34) for personal Qs =====
const Q = [
  {id:1, koQFormal:"ì´ë¦„ì´ ë¬´ì—‡ì…ë‹ˆê¹Œ?", koQPolite:"ì´ë¦„ì´ ë­ì˜ˆìš”?", enQ:"What is your name?", koA:"ì œ ì´ë¦„ì€ ________ì…ë‹ˆë‹¤.", enA:"My name is ________."},
  {id:2, koQFormal:"ëª‡ ì‚´ì…ë‹ˆê¹Œ?", koQPolite:"ëª‡ ì‚´ì´ì—ìš”?", enQ:"How old are you?", koA:"ì €ëŠ” ____ì‚´ì…ë‹ˆë‹¤.", enA:"Iâ€™m _____ years old."},
  {id:3, koQFormal:"ìƒì¼ì´ ì–¸ì œì…ë‹ˆê¹Œ?", koQPolite:"ìƒì¼ì´ ì–¸ì œì˜ˆìš”?", enQ:"When is your birthday?", koA:"ì œ ìƒì¼ì€ ____ë…„ __ì›” __ì¼ì…ë‹ˆë‹¤.", enA:"My birthday is YYYY/MM/DD."},
  {id:4, koQFormal:"ì–´ë””ì—ì„œ ì˜¤ì…¨ìŠµë‹ˆê¹Œ? / ê³ í–¥ì´ ì–´ë””ì‹­ë‹ˆê¹Œ?", koQPolite:"ì–´ë””ì—ì„œ ì™”ì–´ìš”? / ê³ í–¥ì´ ì–´ë””ì˜ˆìš”?", enQ:"Where are you from / your hometown?", koA:"ì œ ê³ í–¥ì€ ______ì…ë‹ˆë‹¤. / ì €ëŠ” ____ì—ì„œ ì™”ìŠµë‹ˆë‹¤.", enA:"My hometown is ____ / I am from ____."},
  {id:5, koQFormal:"ê²°í˜¼í–ˆìŠµë‹ˆê¹Œ?", koQPolite:"ê²°í˜¼í–ˆì–´ìš”?", enQ:"Are you married?", koA:"ì•„ë‹ˆìš”, ë¯¸í˜¼ì…ë‹ˆë‹¤. / ì•„ë‹ˆìš”, ê²°í˜¼í•˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤. / ë„¤, ê²°í˜¼í–ˆìŠµë‹ˆë‹¤.", enA:"No, Iâ€™m single / No, not yet / Yes, Iâ€™m married."},
  {id:6, koQFormal:"ê²°í˜¼ì€ ì–¸ì œ í•˜ì…¨ìŠµë‹ˆê¹Œ? / ì–¸ì œ í–ˆìŠµë‹ˆê¹Œ?", koQPolite:"ê²°í˜¼ì€ ì–¸ì œ í–ˆì–´ìš”? / ì–¸ì œ í–ˆì–´ìš”?", enQ:"When did you get married?", koA:"____ë…„ __ì›” __ì¼ì…ë‹ˆë‹¤.", enA:"It was on YYYY/MM/DD."},
  {id:7, koQFormal:"ê°€ì¡±ì´ ëª‡ ëª… ìˆìŠµë‹ˆê¹Œ?", koQPolite:"ê°€ì¡± ëª‡ ëª… ìˆì–´ìš”?", enQ:"How many are you in the family?", koA:"ìš°ë¦¬ ê°€ì¡±ì€ __ëª… ìˆìŠµë‹ˆë‹¤.", enA:"We are __ in the family."},
  {id:8, koQFormal:"ì•„ì´ê°€ ëª‡ ëª… ìˆìŠµë‹ˆê¹Œ?", koQPolite:"ì•„ì´ê°€ ëª‡ ëª… ìˆì–´ìš”?", enQ:"How many children do you have?", koA:"ë„¤, ì•„ì´ê°€ __ëª… ìˆìŠµë‹ˆë‹¤. / ì•„ì´ê°€ ì—†ìŠµë‹ˆë‹¤.", enA:"I have __ children / I donâ€™t have children."},
  {id:9, koQFormal:"ë¶€ëª¨ë‹˜ì´ ìˆìŠµë‹ˆê¹Œ?", koQPolite:"ë¶€ëª¨ë‹˜ì´ ìˆìŠµë‹ˆê¹Œ?", enQ:"Do you have parents?", koA:"ë„¤, ë¶€ëª¨ë‹˜ì´ ìˆìŠµë‹ˆë‹¤. / ì €ëŠ” ì–´ë¨¸ë‹ˆì™€ í•¨ê»˜ ì‚´ê³  ìˆì§€ë§Œ ì•„ë²„ì§€ëŠ” ëŒì•„ê°€ì…¨ìŠµë‹ˆë‹¤. / ë¶€ëª¨ë‹˜ì´ ëŒì•„ê°€ì…¨ìŠµë‹ˆë‹¤.", enA:"Yesâ€¦ / I live with my mother; my father has passed away / Both parents have passed away."},
  {id:10, koQFormal:"í˜•ì œê°€ ìˆìŠµë‹ˆê¹Œ?", koQPolite:"í˜•ì œê°€ ìˆì–´ìš”?", enQ:"Do you have brothers/siblings?", koA:"í˜•ì œê°€ __ëª… ìˆìŠµë‹ˆë‹¤. (__í˜•/ì˜¤ë¹ , __ë‚¨ë™ìƒ ë“±)", enA:"I have __ brother(s)."},
  {id:11, koQFormal:"ìë§¤ê°€ ìˆìŠµë‹ˆê¹Œ?", koQPolite:"ìë§¤ê°€ ìˆì–´ìš”?", enQ:"Do you have sisters?", koA:"ì•„ë‹ˆìš”, ìë§¤ê°€ ì—†ìŠµë‹ˆë‹¤. / ë„¤, ìë§¤ê°€ __ëª… ìˆìŠµë‹ˆë‹¤.", enA:"No, I donâ€™t have a sister / Yes, I have __ sister(s)."},
  {id:12, koQFormal:"ì·¨ë¯¸ê°€ ë¬´ì—‡ì…ë‹ˆê¹Œ?", koQPolite:"ì·¨ë¯¸ê°€ ë­ì˜ˆìš”?", enQ:"What is your hobby?", koA:"ì œ ì·¨ë¯¸ëŠ” ________ì…ë‹ˆë‹¤.", enA:"My hobby is ______."},
  {id:13, koQFormal:"ë¬´ìŠ¨ ìš´ë™ì„ ì¢‹ì•„í•©ë‹ˆê¹Œ?", koQPolite:"ë¬´ìŠ¨ ìš´ë™ì„ ì¢‹ì•„í•´ìš”?", enQ:"What sport/exercise do you like?", koA:"ì €ëŠ” ______ì„/ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤.", enA:"I like ______."},
  {id:14, koQFormal:"í‚¤ê°€ ì–¼ë§ˆì…ë‹ˆê¹Œ? / í‚¤ê°€ ëª‡ ì„¼í‹°ë¯¸í„°ì…ë‹ˆê¹Œ?", koQPolite:"í‚¤ê°€ ì–¼ë§ˆë‚˜ ë˜ì„¸ìš”? / í‚¤ê°€ ëª‡ ì„¼í‹°ë¯¸í„° ë˜ì„¸ìš”?", enQ:"How tall are you?", koA:"ì œ í‚¤ëŠ” ____ì„¼í‹°ë¯¸í„°ì…ë‹ˆë‹¤.", enA:"My height is ___ cm."},
  {id:15, koQFormal:"ëª¸ë¬´ê²Œê°€ ëª‡ í‚¬ë¡œê·¸ë¨ì…ë‹ˆê¹Œ? / ëª¸ë¬´ê²Œê°€ ì–¼ë§ˆì…ë‹ˆê¹Œ?", koQPolite:"ëª¸ë¬´ê²Œê°€ ì–¼ë§ˆì˜ˆìš”?", enQ:"What is your weight?", koA:"ì œ ëª¸ë¬´ê²ŒëŠ” ____í‚¬ë¡œê·¸ë¨ì…ë‹ˆë‹¤.", enA:"My weight is ___ kg."},
  {id:16, koQFormal:"ì–´ë””ì—ì„œ í•œêµ­ì–´ë¥¼ ë°°ì› ìŠµë‹ˆê¹Œ?", koQPolite:"ì–´ë””ì—ì„œ í•œêµ­ì–´ë¥¼ ë°°ì› ìŠµë‹ˆê¹Œ?", enQ:"Where did you learn Korean?", koA:"ì €ëŠ” í˜¼ì ê³µë¶€í–ˆìŠµë‹ˆë‹¤. / í•œêµ­ì–´ ì„¼í„°ì—ì„œ ë°°ì› ìŠµë‹ˆë‹¤.", enA:"I studied by myself / at a Korean center."},
  {id:17, koQFormal:"ì–¼ë§ˆ ë™ì•ˆ í•œêµ­ì–´ë¥¼ ë°°ìš°ê³  ìˆìŠµë‹ˆê¹Œ?", koQPolite:"ì–¼ë§ˆ ë™ì•ˆ í•œêµ­ì–´ë¥¼ ë°°ìš°ê³  ìˆì–´ìš”?", enQ:"How long have you been learning Korean?", koA:"ì €ëŠ” í•œêµ­ì–´ë¥¼ _____ ë™ì•ˆ ê³µë¶€í–ˆìŠµë‹ˆë‹¤.", enA:"I studied Korean for ______."},
  {id:18, koQFormal:"ì´ì „ì—ëŠ” ë¬´ì—‡ì„ í•˜ì…¨ìŠµë‹ˆê¹Œ?", koQPolite:"ì „ì— ë­ í–ˆì–´ìš”?", enQ:"What did you do before?", koA:"ì €ëŠ” í•™ìƒì´ì—ˆìŠµë‹ˆë‹¤. / ì €ëŠ” ì§ì›ì´ì—ˆìŠµë‹ˆë‹¤.", enA:"I was a student / an employee."},
  {id:19, koQFormal:"ì§€ê¸ˆ ë¬´ì—‡ì„ í•©ë‹ˆê¹Œ? / ìš”ì¦˜ ë¬´ì—‡ì„ í•©ë‹ˆê¹Œ?", koQPolite:"ìš”ì¦˜ ë­ í•´ìš”?", enQ:"What do you do now/lately?", koA:"ì €ëŠ” ìš”ì¦˜ í•œêµ­ì–´ë¥¼ ê³µë¶€í•˜ê³  ìˆì–´ìš”. / í•œêµ­ì–´ì— ëŒ€í•´ ë” ê³µë¶€í•˜ê³  ìˆìŠµë‹ˆë‹¤.", enA:"Iâ€™ve been studying Korean lately."},
  {id:20, koQFormal:"ì˜¤ëŠ˜ì€ ë©°ì¹ ì…ë‹ˆê¹Œ?", koQPolite:"ì˜¤ëŠ˜ì€ ë©°ì¹ ì´ì—ìš”?", enQ:"What is the date today?", koA:"ì˜¤ëŠ˜ì€ ____ë…„ __ì›” __ì¼ì…ë‹ˆë‹¤.", enA:"Today is YYYY/MM/DD."},
  {id:21, koQFormal:"ì–´ì œëŠ” ë©°ì¹ ì…ë‹ˆê¹Œ?", koQPolite:"ì–´ì œëŠ” ë©°ì¹ ì´ì—ìš”?", enQ:"What date was yesterday?", koA:"ì–´ì œëŠ” ____ë…„ __ì›” __ì¼ì…ë‹ˆë‹¤.", enA:"Yesterday was YYYY/MM/DD."},
  {id:22, koQFormal:"ë‚´ì¼ì€ ë©°ì¹ ì…ë‹ˆê¹Œ?", koQPolite:"ë‚´ì¼ì€ ë©°ì¹ ì´ì—ìš”?", enQ:"What date is tomorrow?", koA:"ë‚´ì¼ì€ ____ë…„ __ì›” __ì¼ì…ë‹ˆë‹¤.", enA:"Tomorrow is YYYY/MM/DD."},
  {id:23, koQFormal:"ì˜¤ëŠ˜ì€ ë¬´ìŠ¨ ìš”ì¼ì…ë‹ˆê¹Œ?", koQPolite:"ì˜¤ëŠ˜ì€ ë¬´ìŠ¨ ìš”ì¼ì´ì—ìš”?", enQ:"What day is today?", koA:"ì˜¤ëŠ˜ì€ ______ì…ë‹ˆë‹¤.", enA:"Today is ______."},
  {id:24, koQFormal:"ì–´ì œëŠ” ë¬´ìŠ¨ ìš”ì¼ì…ë‹ˆê¹Œ?", koQPolite:"ì–´ì œëŠ” ë¬´ìŠ¨ ìš”ì¼ì…ë‹ˆê¹Œ?", enQ:"What day was it yesterday?", koA:"ì–´ì œëŠ” ______ì´ì—ˆìŠµë‹ˆë‹¤.", enA:"Yesterday was ______."},
  {id:25, koQFormal:"ë‚´ì¼ì€ ë¬´ìŠ¨ ìš”ì¼ì…ë‹ˆê¹Œ?", koQPolite:"ë‚´ì¼ì€ ë¬´ìŠ¨ ìš”ì¼ì…ë‹ˆê¹Œ?", enQ:"What day is it tomorrow?", koA:"ë‚´ì¼ì€ ______ì…ë‹ˆë‹¤.", enA:"Tomorrow is ______."},
  {id:26, koQFormal:"ì•„ì¹¨ ì‹ì‚¬í•˜ì…¨ìŠµë‹ˆê¹Œ?", koQPolite:"ì•„ì¹¨ ì‹ì‚¬í–ˆì–´ìš”?", enQ:"Did you have breakfast?", koA:"ë„¤, ì•„ì¹¨ì— ë¨¹ì—ˆìŠµë‹ˆë‹¤. / ì•„ë‹ˆìš”, ì•„ì§ ëª» ë¨¹ì—ˆìŠµë‹ˆë‹¤.", enA:"Yes, I ate / No, not yet."},
  {id:27, koQFormal:"ì•„ì¹¨ì— ë¬´ì—‡ì„ ë¨¹ì—ˆìŠµë‹ˆê¹Œ?", koQPolite:"ì•„ì¹¨ì— ë¬´ì—‡ì„ ë¨¹ì—ˆì–´ìš”?", enQ:"What did you eat for breakfast?", koA:"ì €ëŠ” ë¹µì„ ë¨¹ê³  ì»¤í”¼ë¥¼ ë§ˆì…¨ìŠµë‹ˆë‹¤. / ë°¥í•˜ê³  ê³„ë€ì„ ë¨¹ì—ˆìŠµë‹ˆë‹¤.", enA:"I ate bread and drank coffee / rice and egg."},
  {id:28, koQFormal:"ë¬´ìŠ¨ ìƒ‰ê¹”ì„ ì¢‹ì•„í•˜ì‹­ë‹ˆê¹Œ?", koQPolite:"ë¬´ìŠ¨ ìƒ‰ê¹” ì¢‹ì•„í•´ìš”?", enQ:"What color do you like?", koA:"ì œê°€ ì¢‹ì•„í•˜ëŠ” ìƒ‰ì€ ______ì…ë‹ˆë‹¤.", enA:"The color I like is ______."},
  {id:29, koQFormal:"ì™œ ê·¸ ìƒ‰ì„ ì¢‹ì•„í•©ë‹ˆê¹Œ?", koQPolite:"ì™œ ê·¸ ìƒ‰ì„ ì¢‹ì•„í•´ìš”?", enQ:"Why do you like that color?", koA:"ì œì¼ ì¢‹ì•„í•˜ëŠ” ìƒ‰ì´ë¼ì„œìš”.", enA:"Because itâ€™s my favorite color."},
  {id:30, koQFormal:"ì˜· ìƒ‰ê¹”ì´ ë¬´ì—‡ì…ë‹ˆê¹Œ?", koQPolite:"ì˜· ìƒ‰ê¹”ì´ ë­ì˜ˆìš”?", enQ:"What color are your clothes?", koA:"ì €ëŠ” ______ ì˜·ì„ ì…ê³  ìˆìŠµë‹ˆë‹¤. / ______ìƒ‰ ì˜·ì„ ì…ìŠµë‹ˆë‹¤.", enA:"Iâ€™m wearing ______ clothes."},
  {id:31, koQFormal:"ì–´ë–¤ ê³„ì ˆì„ ê°€ì¥ ì¢‹ì•„í•©ë‹ˆê¹Œ?", koQPolite:"ì–´ë–¤ ê³„ì ˆì„ ê°€ì¥ ì¢‹ì•„í•´ìš”?", enQ:"What season do you like the most?", koA:"ì €ëŠ” ______ì„/ë¥¼ ì¢‹ì•„í•©ë‹ˆë‹¤.", enA:"I like ______."},
  {id:32, koQFormal:"ì™œ ê·¸ ê³„ì ˆì„ ì¢‹ì•„í•©ë‹ˆê¹Œ?", koQPolite:"ì™œ ê·¸ ê³„ì ˆì„ ì¢‹ì•„í•´ìš”?", enQ:"Why do you like that season?", koA:"___________________________.", enA:"Because ______."},
  {id:33, koQFormal:"ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì–´ë–»ìŠµë‹ˆê¹Œ?", koQPolite:"ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì–´ë•Œìš”?", enQ:"Howâ€™s the weather today?", koA:"ì˜¤ëŠ˜ ë‚ ì”¨ëŠ” ______ì…ë‹ˆë‹¤. (ì¢‹ìŠµë‹ˆë‹¤/ë¥ìŠµë‹ˆë‹¤/íë¦½ë‹ˆë‹¤/ë¹„ê°€ ì˜µë‹ˆë‹¤)", enA:"The weather today is ______."},
  {id:34, koQFormal:"ì§€ê¸ˆ ëª‡ ì‹œì…ë‹ˆê¹Œ?", koQPolite:"ì§€ê¸ˆ ëª‡ ì‹œì˜ˆìš”?", enQ:"What time is it now?", koA:"____ì‹œ ____ë¶„ì…ë‹ˆë‹¤.", enA:"Itâ€™s __:__."},
];

// ===== Helpers: Korean numbers =====
const sinoOnes = ["","ì¼","ì´","ì‚¼","ì‚¬","ì˜¤","ìœ¡","ì¹ ","íŒ”","êµ¬"];
const nativeOnes = ["","í•˜ë‚˜","ë‘˜","ì…‹","ë„·","ë‹¤ì„¯","ì—¬ì„¯","ì¼ê³±","ì—¬ëŸ","ì•„í™‰"];
const nativeTens = ["","ì—´","ìŠ¤ë¬¼","ì„œë¥¸","ë§ˆí”","ì‰°","ì˜ˆìˆœ","ì¼í”","ì—¬ë“ ","ì•„í”"];
function toSino(n){
  if(n<=0||n>99) return String(n);
  const t = Math.floor(n/10), o = n%10;
  if(t===0) return sinoOnes[o];
  if(t===1) return "ì‹­"+(o? sinoOnes[o]:"");
  return sinoOnes[t]+"ì‹­"+(o? sinoOnes[o]:"");
}
function toNative(n){
  if(n<=0||n>99) return String(n);
  const t = Math.floor(n/10), o = n%10;
  if(t===0) return nativeOnes[o];
  if(o===0) return nativeTens[t];
  return nativeTens[t]+nativeOnes[o];
}

// ===== Random math builder (Card #5) =====
function buildMathItem(){
  const type = Math.floor(Math.random()*10)+1; // 1..10
  let frontKoQ="", backKoQ="", backEnQ="", koA="", enA="", extraHTML="";

  if(type===1){ // add 1..99
    const a = Math.floor(Math.random()*99)+1, b = Math.floor(Math.random()*99)+1;
    frontKoQ = `${toSino(a)} ë”í•˜ê¸° ${toSino(b)}ëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `${a} + ${b} = ?`;
    const s=a+b; koA=`${toSino(s)}ì…ë‹ˆë‹¤.`; enA=`It is ${s}.`;
  } else if(type===2){ // sub 1..99, a>=b
    let a = Math.floor(Math.random()*99)+1, b = Math.floor(Math.random()*99)+1; if(b>a){[a,b]=[b,a];}
    frontKoQ = `${toSino(a)} ë¹¼ê¸° ${toSino(b)}ëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `${a} - ${b} = ?`;
    const s=a-b; koA=`${toSino(s)}ì…ë‹ˆë‹¤.`; enA=`It is ${s}.`;
  } else if(type===3){ // mul 1-digit Ã— 1-digit
    const a = Math.floor(Math.random()*9)+1, b = Math.floor(Math.random()*9)+1;
    frontKoQ = `${toSino(a)} ê³±í•˜ê¸° ${toSino(b)}ëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `${a} Ã— ${b} = ?`;
    const s=a*b; koA=`${toSino(s)}ì…ë‹ˆë‹¤.`; enA=`It is ${s}.`;
  } else if(type===4){ // div whole number
    const b = Math.floor(Math.random()*9)+1, q = Math.floor(Math.random()*9)+1, a=b*q;
    frontKoQ = `${toSino(a)} ë‚˜ëˆ„ê¸° ${toSino(b)}ëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `${a} Ã· ${b} = ?`;
    koA=`${toSino(q)}ì…ë‹ˆë‹¤.`; enA=`It is ${q}.`;
  } else if(type===5){ // sino read 1..99
    const n = Math.floor(Math.random()*99)+1;
    frontKoQ = `ì´ ìˆ«ìëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ? (í•œìì–´ ìˆ˜)`;
    backKoQ  = `ì´ ìˆ«ìëŠ” ì–¼ë§ˆì…ë‹ˆê¹Œ?`; backEnQ = `Sino-Korean reading of: ${n}`;
    koA = `${toSino(n)}ì…ë‹ˆë‹¤.`; enA = `${n} (Sino-Korean).`;
  } else if(type===6){ // native read 1..99
    const n = Math.floor(Math.random()*99)+1;
    frontKoQ = `ë˜ ë‹¤ë¥¸ ìˆ«ìëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ? (ê³ ìœ ì–´ ìˆ˜)`;
    backKoQ  = `ë˜ ë‹¤ë¥¸ ìˆ«ìëŠ” ë¬´ì—‡ì…ë‹ˆê¹Œ?`; backEnQ = `Native-Korean reading of: ${n}`;
    koA = `${toNative(n)}ì…ë‹ˆë‹¤.`; enA = `${n} (Native).`;
  } else if(type===7){ // km->m
    const n = Math.floor(Math.random()*9)+1;
    frontKoQ = `${toSino(n)} í‚¬ë¡œë¯¸í„°ëŠ” ëª‡ ë¯¸í„°ì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `How many meters in ${n} km?`;
    const ans = n*1000; koA=`${ans}ë¯¸í„°ì…ë‹ˆë‹¤.`; enA=`${ans} meters.`;
  } else if(type===8){ // cm->m
    const n = Math.floor(Math.random()*99)+1;
    frontKoQ = `${toSino(n)} ì„¼í‹°ë¯¸í„°ëŠ” ëª‡ ë¯¸í„°ì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `How many meters in ${n} cm?`;
    const ans = (n/100).toFixed(2); koA=`${ans}ë¯¸í„°ì…ë‹ˆë‹¤.`; enA=`${ans} meters.`;
  } else if(type===9){ // kg->g
    const n = Math.floor(Math.random()*9)+1;
    frontKoQ = `${toSino(n)} í‚¬ë¡œê·¸ë¨ì€ ëª‡ ê·¸ë¨ì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `How many grams in ${n} kg?`;
    const ans = n*1000; koA=`${ans}ê·¸ë¨ì…ë‹ˆë‹¤.`; enA=`${ans} grams.`;
  } else { // g->kg
    const n = Math.floor(Math.random()*99)+1;
    frontKoQ = `${toSino(n)} ê·¸ë¨ì€ ëª‡ í‚¬ë¡œê·¸ë¨ì…ë‹ˆê¹Œ?`;
    backKoQ  = frontKoQ; backEnQ = `How many kilograms in ${n} g?`;
    const ans = (n/1000).toFixed(3); koA=`${ans}í‚¬ë¡œê·¸ë¨ì…ë‹ˆë‹¤.`; enA=`${ans} kilograms.`;
  }

  return { id:'M', frontKoQ, backKoQ, backEnQ, koA, enA };
}

// ===== Card #6: Work-related Q&A (random one) =====
const WORK_QA = [
  {
    koQ: "ì§ì¥ ë™ë£Œê°€ ë°”ì˜ë©´ ì–´ë–»ê²Œ í•  ê²ƒì…ë‹ˆê¹Œ?",
    enQ: "What will you do if your co-worker is busy?",
    koA: ["ì €ëŠ” ë™ë£Œë¥¼ ë•ê¸° ìœ„í•´ ì¼ì„ ë¹¨ë¦¬ ë§ˆì¹˜ê² ìŠµë‹ˆë‹¤.","ì €ëŠ” ë™ë£Œë¥¼ ë„ì™€ì„œ ë¹¨ë¦¬ ëë‚´ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will finish my work quickly to help my co-worker.","I will help my co-workers so we can finish quickly."]
  },
  {
    koQ: "íšŒì‚¬ê°€ ë°”ë¹ ì„œ ì¼ì´ ë§ë‹¤ë©´ ì–´ë–»ê²Œ í•  ê²ƒì…ë‹ˆê¹Œ?",
    enQ: "What will you do if the company is busy and there is a lot of work?",
    koA: ["ì €ëŠ” ë§ì€ ì¼ì„ ëë‚´ê¸° ìœ„í•´ ì¶”ê°€ ê·¼ë¬´ë¥¼ í•˜ê² ìŠµë‹ˆë‹¤.","ì‹œê°„ì´ ìˆìœ¼ë©´ ì¼ì„ ëë‚´ê³ , í•„ìš”í•˜ë©´ ì•¼ê·¼ë„ í•˜ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will work overtime to finish a lot of work at the company.","If there is time, I will finish my work, and if needed, I will work overtime."]
  },
  {
    koQ: "ì§ì¥ ë™ë£Œì™€ ì–´ë–»ê²Œ ì§€ë‚¼ ê²ƒì…ë‹ˆê¹Œ?",
    enQ: "How will you get along with co-workers?",
    koA: ["ì €ëŠ” ë™ë£Œë“¤ê³¼ ì¹œí•´ì§€ë ¤ê³  ë…¸ë ¥í•˜ê² ìŠµë‹ˆë‹¤.","ì €ëŠ” ì„œë¡œ ë„ìš°ë©´ì„œ ì§€ë‚´ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will try to get along well with my co-worker.","I will get along by helping each other."]
  },
  {
    koQ: "ì¼ì„ í•˜ë‹¤ê°€ ì‹¤ìˆ˜ë¥¼ í–ˆì„ ë•Œ ì–´ë–»ê²Œ í•  ê²ƒì…ë‹ˆê¹Œ?",
    enQ: "What will you do if you make a mistake while working?",
    koA: ["ì €ëŠ” ìƒì‚¬ì—ê²Œ ë§í•˜ê³  ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šê² ë‹¤ê³  ì•½ì†í•˜ê² ìŠµë‹ˆë‹¤.","ì €ëŠ” ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê³  ì§€ì‹œëŒ€ë¡œ í•˜ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will tell my boss and promise not to repeat the same mistake.","I will report it to my superior and follow the instructions."]
  },
  {
    koQ: "ë¶ˆëŸ‰í’ˆì´ ë§ì„ ë•Œ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    enQ: "What will you do if there are many defective products?",
    koA: ["ê¸°ê³„ë¥¼ ë©ˆì¶”ê³  ìƒì‚¬ì—ê²Œ ë³´ê³ í•œ í›„ ë‹¤ìŒì—ëŠ” ë” ì¡°ì‹¬í•˜ê² ìŠµë‹ˆë‹¤.","ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê³  ì›ì¸ì„ í™•ì¸í•˜ì—¬ í•´ê²°ì±…ì„ ì°¾ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will stop the machine, report to my boss, and be more careful next time.","I will report to my superior, check the cause, and find a solution."]
  },
  {
    koQ: "ë‹¹ì‹  ì˜ê²¬ì´ ìƒì‚¬ì˜ ê²ƒê³¼ ë‹¤ë¥´ë‹¤ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    enQ: "What will you do if your opinion is different from your bossâ€™s?",
    koA: ["ì €ëŠ” ìƒì‚¬ì˜ ì˜ê²¬ì„ ë”°ë¥´ê² ìŠµë‹ˆë‹¤.","ì €ëŠ” ìƒì‚¬ì˜ ì˜ê²¬ì„ ì¡´ì¤‘í•˜ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will follow my bossâ€™s opinion.","I will respect my superiorâ€™s opinion."]
  },
  {
    koQ: "ì§ì¥ì—ì„œ ì‚¬ê³ ê°€ ë‚˜ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    enQ: "What will you do if an accident happens at work?",
    koA: ["ì‚¬ê³ ê°€ ë°œìƒí•˜ë©´ ì¦‰ì‹œ ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê² ìŠµë‹ˆë‹¤.","ì¦‰ì‹œ ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê³  ì‘ê¸‰ì „í™”(119)ì— ì—°ë½í•˜ê² ìŠµë‹ˆë‹¤."],
    enA: ["I will report immediately to my boss if an accident occurs.","I will report to my superior and call the emergency hotline (119)."]
  },
  {
    koQ: "ì™œ í•œêµ­ì— ê°€ê³  ì‹¶ìŠµë‹ˆê¹Œ?",
    enQ: "Why do you want to go to Korea?",
    koA: ["ê°€ì¡±ë“¤ì„ ìœ„í•´ í•œêµ­ì—ì„œ ëˆì„ ë²Œê³  ì‹¶ìŠµë‹ˆë‹¤.","í•œêµ­ì—ì„œ ì¼í•˜ê³  ì œ ê°€ì¡±ì„ ìœ„í•´ ëˆì„ ë²Œê³  ì‹¶ìŠµë‹ˆë‹¤."],
    enA: ["I want to earn money in Korea for my family.","I want to work in Korea and earn money for my family."]
  },
  {
    koQ: "í•œêµ­ì— ê°€ë©´ ë¬´ìŠ¨ ì¼ì„ í•˜ê³  ì‹¶ìŠµë‹ˆê¹Œ?",
    enQ: "What job do you want to do in Korea?",
    koA: ["ì €ëŠ” ì œì¡°ì—…ì—ì„œ ì¼í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.","í•œêµ­ì— ê°€ë©´ ì£¼ì–´ì§„ ì¼ì´ë¼ë©´ ë¬´ì—‡ì´ë“  ì—´ì‹¬íˆ í•˜ê² ìŠµë‹ˆë‹¤."],
    enA: ["I want to work in manufacturing.","If I go to Korea, I will work hard at any job that is given to me."]
  },
  {
    koQ: "í•œêµ­ì— ëŒ€í•´ ì•„ëŠ” ê²ƒì´ ìˆìŠµë‹ˆê¹Œ?",
    enQ: "Do you know anything about Korea?",
    koA: ["ë„¤, í•œêµ­ì€ ì•„ë¦„ë‹µê³  ë°œì „ëœ ë‚˜ë¼ì…ë‹ˆë‹¤.","ë„¤, í•œêµ­ì—ëŠ” ì‚¬ê³„ì ˆì´ ìˆê³  ë¬¸í™”ê°€ ë°œë‹¬í•´ ìˆìŠµë‹ˆë‹¤."],
    enA: ["Yes, Korea is a beautiful and developed country.","Yes, Korea has four seasons, and its culture is well-developed."]
  },
  {
    koQ: "í•œêµ­ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì´ ìˆìŠµë‹ˆê¹Œ?",
    enQ: "Do you have skills you can use in Korea?",
    koA: ["ë„¤, ì €ëŠ” ë°°ìš°ëŠ” ì†ë„ê°€ ë¹ ë¥´ê³  ì—¬ëŸ¬ ê°€ì§€ ì¼ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ë„¤, ì–´ë–¤ ì¼ì´ë“  ë°°ì›Œì„œ ì—´ì‹¬íˆ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."],
    enA: ["Yes, I learn quickly and can do multiple tasks.","Yes, I can learn any job and work hard."]
  },
  {
    koQ: "ë‹¤ë¥¸ ì‚¬ëŒë³´ë‹¤ ì˜í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì´ ìˆìŠµë‹ˆê¹Œ?",
    enQ: "Do you have any skills better than others?",
    koA: ["ë„¤, ì €ëŠ” ë¹ ë¥´ê²Œ ë°°ìš°ê³  ì¼ì„ ì˜í•˜ë©° ì •í™•í•˜ê²Œ ìˆ˜í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.","ë„¤, ì €ëŠ” ëˆ„êµ¬ë³´ë‹¤ ì„±ì‹¤í•˜ê²Œ ì¼í•  ìì‹ ì´ ìˆìŠµë‹ˆë‹¤."],
    enA: ["Yes, I learn fast, work well, and perform tasks accurately.","Yes, I am confident that I can work more diligently than anyone else."]
  },
  {
    koQ: "ë‹¹ì‹ ì´ í•œêµ­ì—ì„œ ì¼í•  ìê²©ì´ ìˆëŠ” ê²ƒì€ ë¬´ì—‡ì…ë‹ˆê¹Œ?",
    enQ: "What qualifies you to work in Korea?",
    koA: ["ì €ëŠ” ë°°ìš°ëŠ” ì†ë„ê°€ ë¹ ë¥´ê³  ì„±ì‹¤í•˜ê²Œ ì¼í•©ë‹ˆë‹¤.","ì €ëŠ” ì„±ì‹¤í•˜ê³  ì±…ì„ê° ìˆê²Œ ì¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."],
    enA: ["I learn quickly and work diligently.","I can work sincerely and responsibly."]
  },
  {
    koQ: "ì™œ ìš°ë¦¬ê°€ ë‹¹ì‹ ì„ ê³ ìš©í•´ì•¼ í•©ë‹ˆê¹Œ?",
    enQ: "Why should we hire you?",
    koA: ["ì•„ì§ ë°°ìš¸ ê²ƒì´ ë§ì§€ë§Œ ìµœì„ ì„ ë‹¤í•´ ì„±ì‹¤íˆ ì¼í•˜ê² ìŠµë‹ˆë‹¤.","ì €ëŠ” í—Œì‹ ì ì´ë©° ì§€ì‹œë¥¼ ì„±ì‹¤íˆ ë”°ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤."],
    enA: ["I still have a lot to learn, but I will do my best and work hard.","I am dedicated and can follow instructions carefully."]
  },
  {
    koQ: "ê³µì¥ì—ì„œ ë¶ˆì´ ë‚˜ë©´ ì–´ë–»ê²Œ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    enQ: "What will you do if there is a fire in the factory?",
    koA: ["ë¶ˆì´ ë‚˜ë©´ ì‘ê¸‰ì „í™”(119)ì— ì—°ë½í•˜ê² ìŠµë‹ˆë‹¤.","ì¦‰ì‹œ ìƒì‚¬ì—ê²Œ ë³´ê³ í•˜ê³  119ì— ì—°ë½í•˜ë©° ì•ˆì „í•˜ê²Œ ëŒ€í”¼í•˜ê² ìŠµë‹ˆë‹¤."],
    enA: ["If there is a fire, I will call the emergency hotline (119).","I will immediately report to my superior, call 119, and evacuate safely."]
  }
];

function buildWorkItem(){
  const i = Math.floor(Math.random()*WORK_QA.length);
  const it = WORK_QA[i];
  return {
    id:'W',
    frontKoQ: it.koQ,
    backKoQ: it.koQ,
    backEnQ: it.enQ,
    koAList: it.koA,
    enAList: it.enA
  };
}

// ===== Card #7: NCS / teamwork & communication Q&A =====
const SOCIAL_QA = [
  {
    koQ:"ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ì§€ë‚´ëŠ” ê²ƒì´ ì™œ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•˜ì‹­ë‹ˆê¹Œ?",
    enQ:"Why do you think it is important to get along with others?",
    koA:["ë‹¤ë¥¸ ì‚¬ëŒë“¤ê³¼ ì˜ ì§€ë‚´ì•¼ ì¼ì„ ì˜í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.","ì¢‹ì€ ê´€ê³„ê°€ ìˆì–´ì•¼ í˜‘ë ¥ì´ ì˜ ëœë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤."],
    enA:["I think getting along with others is important to work well.","I think good relationships are important for cooperation."]
  },
  {
    koQ:"ìƒˆë¡œìš´ ë™ë£Œë“¤ê³¼ ì˜ ì§€ë‚´ê¸° ìœ„í•´ ì–´ë–¤ ë…¸ë ¥ì„ í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?",
    enQ:"What effort can you make to get along well with new colleagues?",
    koA:["ìƒˆë¡œìš´ ë™ë£Œë“¤ì„ ì¡´ì¤‘í•˜ê³  ê²½ì²­í•˜ë©´ì„œ ì¢‹ì€ ê´€ê³„ë¥¼ ë§Œë“¤ê² ìŠµë‹ˆë‹¤.","íŒ€ì›Œí¬ë¥¼ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ë©° ì„œë¡œ ë„ìš°ë©´ì„œ ì˜ ì§€ë‚´ê² ìŠµë‹ˆë‹¤."],
    enA:["I will build good relationships by respecting and listening to my new colleagues.","I value teamwork and will get along well by helping each other."]
  },
  {
    koQ:"ë¬¸ì œê°€ ìƒê¸°ë©´ í•´ê²°ì±…ì„ ì°¾ê¸° ìœ„í•´ ì–´ë–»ê²Œ ë…¸ë ¥í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
    enQ:"How would you work to find a solution if a problem arises?",
    koA:["ë¬¸ì œê°€ ìƒê¸°ë©´ ì›ì¸ì„ í™•ì¸í•˜ê³  ìƒì‚¬ì—ê²Œ ë³´ê³ í•œ í›„ í•´ê²°ì±…ì„ ì°¾ê² ìŠµë‹ˆë‹¤.","ì¹¨ì°©í•˜ê²Œ ìƒí™©ì„ íŒŒì•…í•˜ê³  ë™ë£Œë“¤ê³¼ í•¨ê»˜ í•´ê²°í•˜ê² ìŠµë‹ˆë‹¤."],
    enA:["If a problem occurs, I will check the cause, report to my superior, and then find a solution.","I will calmly assess the situation and solve it together with my co-workers."]
  },
  {
    koQ:"ì˜ì‚¬ì†Œí†µì´ ì™œ ì¤‘ìš”í•œì§€ ì„¤ëª…í•  ìˆ˜ ìˆìŠµë‹ˆê¹Œ?",
    enQ:"Can you explain why communication is important?",
    koA:["í˜‘ë ¥ì´ ê°€ëŠ¥í•˜ê³  ì¼ì´ ë” ì›í™œí•˜ê²Œ ì§„í–‰ë˜ê¸° ë•Œë¬¸ì— ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.","ë™ë£Œë“¤ê³¼ ì‹ ë¢°ë¥¼ ìŒ“ê³  ì¢‹ì€ íŒ€ì›Œí¬ë¥¼ ë§Œë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤."],
    enA:["I think it is important because it makes cooperation possible and allows work to go more smoothly.","Because it builds trust with colleagues and creates good teamwork."]
  },
  {
    koQ:"ì˜ì‚¬ì†Œí†µì„ ë°©í•´í•˜ëŠ” ìš”ì†Œë“¤ì€ ë¬´ì—‡ì´ ìˆìŠµë‹ˆê¹Œ?",
    enQ:"What factors can interfere with communication?",
    koA:["ë¶ˆë¶„ëª…í•œ í‘œí˜„ê³¼ ì˜¤í•´ê°€ ì˜ì‚¬ì†Œí†µì„ ì–´ë µê²Œ ë§Œë“ ë‹¤ê³  ìƒê°í•©ë‹ˆë‹¤.","ê·¸ëŸ° ìš”ì†Œë“¤ì€ ì˜¤í•´ë¥¼ ì¼ìœ¼í‚¤ê³  ì˜ì‚¬ì†Œí†µ ë‹¨ì ˆë¡œ ì´ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤."],
    enA:["I think unclear expressions and misunderstandings make communication difficult.","Such factors can cause misunderstandings and lead to communication breakdowns."]
  },
  {
    koQ:"ì‚¬ëŒë“¤ ì‚¬ì´ì—ì„œ ì§€ì¼œì•¼ í•  ì˜ˆì ˆì— ëŒ€í•´ ì˜ ì•Œê³  ìˆìŠµë‹ˆê¹Œ?",
    enQ:"Do you know the etiquette people should observe?",
    koA:["ë„¤, ì„œë¡œë¥¼ ì¡´ì¤‘í•˜ê³  ì˜ˆì˜ ìˆê²Œ í–‰ë™í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•˜ë‹¤ëŠ” ê²ƒì„ ì˜ ì•Œê³  ìˆìŠµë‹ˆë‹¤.","ë„¤, ì¸ì‚¬ì™€ ì˜ˆì˜ ë°”ë¥¸ íƒœë„ ê°™ì€ ê¸°ë³¸ì ì¸ ì˜ˆì ˆì„ ì§€ì¼œì•¼ í•œë‹¤ê³  ì•Œê³  ìˆìŠµë‹ˆë‹¤."],
    enA:["Yes, I know it is important to respect each other and act politely.","Yes, I know we should observe basic manners like greetings and a polite attitude."]
  },
  {
    koQ:"ì¼í•˜ë©´ì„œ ì •í•´ì§„ ì‹œê°„ì„ ì˜ ì§€í‚¤ì‹­ë‹ˆê¹Œ?",
    enQ:"Do you adhere well to the scheduled time while working?",
    koA:["ë„¤, ì¼ì •ì„ ì˜ ì§€í‚¤ê³  ì •í•´ì§„ ì‹œê°„ ì•ˆì— ì¼ì„ ë§ˆì¹˜ë„ë¡ ë…¸ë ¥í•©ë‹ˆë‹¤.","ë„¤, ì‹œê°„ì„ ì§€í‚¤ëŠ” ê²ƒì´ ì±…ì„ì´ë¼ê³  ìƒê°í•˜ê¸° ë•Œë¬¸ì— ì˜ ì§€í‚µë‹ˆë‹¤."],
    enA:["Yes, I follow the schedule and make sure to finish my work on time.","Yes, I keep time well because I believe it is my responsibility."]
  }
];

function buildSocialItem(){
  const i = Math.floor(Math.random()*SOCIAL_QA.length);
  const it = SOCIAL_QA[i];
  return {
    id:'S',
    frontKoQ: it.koQ,
    backKoQ: it.koQ,
    backEnQ: it.enQ,
    koAList: it.koA,
    enAList: it.enA
  };
}

// ===== Utility =====
const rnd = (a,b)=>Math.floor(Math.random()*(b-a+1))+a;

// ===== TTS (KO only, manual) =====
function speakKO(text, rate=1){
  try{ window.speechSynthesis.cancel(); }catch(e){}
  const u = new SpeechSynthesisUtterance(text);
  u.lang = 'ko-KR'; u.rate = rate; u.pitch = 1; u.volume = 1;
  window.speechSynthesis.speak(u);
}
function stopSpeech(){ try{ window.speechSynthesis.cancel(); }catch(e){} }

// ===== Assembly of 7 cards =====
function pickInterviewSet(){
  const set = [];
  set.push(Q[rnd(1,15)-1]);   // 1st: 1-15
  set.push(Q[rnd(16,27)-1]);  // 2nd: 16-27
  set.push(Q[rnd(28,33)-1]);  // 3rd: 28-33
  set.push(Q[33]);            // 4th: #34
  // ensure unique among first three
  const ids = new Set();
  for(let i=0;i<3;i++){
    while(ids.has(set[i].id)){
      if(i===0) set[i]=Q[rnd(1,15)-1];
      if(i===1) set[i]=Q[rnd(16,27)-1];
      if(i===2) set[i]=Q[rnd(28,33)-1];
    }
    ids.add(set[i].id);
  }
  return set;
}

// ===== Render =====
const cardsEl = document.getElementById('cards');
const btnNew  = document.getElementById('btn-new');
const btnStop = document.getElementById('btn-stop');
const politeChk = document.getElementById('polite');
const showFrontQ = document.getElementById('showFrontQ');

function render(){
  stopSpeech();
  const base = pickInterviewSet();     // 4 interview cards
  const math = buildMathItem();        // #5
  const work = buildWorkItem();        // #6
  const social = buildSocialItem();    // #7
  const set = [...base, math, work, social];

  cardsEl.innerHTML = '';
  document.body.classList.toggle('hide-front-qs', !showFrontQ.checked);

  set.forEach((item, idx)=>{
    const isMath = item.id==='M';
    const isWork = item.id==='W';
    const isSocial = item.id==='S';
    const isClock = !isMath && !isWork && !isSocial && item.id===34;

    const frontLine = isMath || isWork || isSocial
      ? item.frontKoQ
      : (politeChk.checked ? item.koQPolite : item.koQFormal);

    // Prepare KO answer text
    let koAnswer = "";
    let enAnswer = "";
    if(isMath){
      koAnswer = item.koA;
      enAnswer = item.enA;
    } else if(isWork || isSocial){
      koAnswer = item.koAList.join("<br>");
      enAnswer = item.enAList.join("<br>");
    } else {
      koAnswer = item.koA;
      enAnswer = item.enA || "";
    }

    // For #34, generate random time each render
    let extraHTML = "";
    if(isClock){
      const h = Math.floor(Math.random()*12)+1;
      const m = Math.floor(Math.random()*60);
      koAnswer = `${h}ì‹œ ${m}ë¶„ì…ë‹ˆë‹¤.`;
      extraHTML = `<canvas class="clock" width="240" height="240" style="align-self:center;border:1px solid var(--ring);border-radius:12px"></canvas>`;
    }

    const backKoQ = isMath || isWork || isSocial ? item.backKoQ : item.koQFormal;
    const backEnQ = isMath || isWork || isSocial ? item.backEnQ : (item.enQ || "");

    const card = document.createElement('div');
    card.className='card';
    card.innerHTML = `
      <div class="inner">
        <div class="face front">
          <div class="row"><span class="pill">Card ${idx+1}</span> <span class="qidx">#${isMath?'Math':isWork?'Work':isSocial?'NCS':item.id}</span></div>
          <div class="qko">${frontLine}</div>
          <div class="row">
            <button class="btn-play-front">â–¶ Play</button>
            <button class="flipbtn">Flip â–¶</button>
          </div>
        </div>
        <div class="face back">
          <div class="row"><span class="pill">Back</span> <span class="qidx">#${isMath?'Math':isWork?'Work':isSocial?'NCS':item.id}</span></div>
          <div class="txt"><strong>Q (KO):</strong> ${backKoQ}</div>
          <div class="txt muted"><strong>Q (EN):</strong> ${backEnQ}</div>
          <div class="txt"><strong>A (KO):</strong> <span class="ako">${koAnswer}</span></div>
          <div class="txt muted"><strong>A (EN):</strong> ${enAnswer}</div>
          ${extraHTML}
          <div class="row" style="margin-top:auto">
            <button class="btn-play-back">â–¶ Play (KO)</button>
            <button class="flipbtn">â—€ Back</button>
          </div>
        </div>
      </div>
    `;

    const inner = card.querySelector('.inner');

    // Flip by click (no autoplay)
    card.addEventListener('click', (e)=>{
      if(e.target.closest('button')) return;
      card.classList.toggle('flipped');
    });

    // Flip buttons
    card.querySelectorAll('.flipbtn').forEach(btn=>btn.addEventListener('click',(e)=>{
      e.stopPropagation();
      card.classList.toggle('flipped');
    }));

    // Play (KO only)
    card.querySelector('.btn-play-front').addEventListener('click',(e)=>{
      e.stopPropagation();
      speakKO(frontLine,1);
    });
    card.querySelector('.btn-play-back').addEventListener('click',(e)=>{
      e.stopPropagation();
      // If multiple KO answers, read the first sentence/line
      const ko = card.querySelector('.ako').textContent.split('\n')[0].split('Â·')[0];
      speakKO(ko,1);
    });

    // Draw analog clock
    if(isClock){
      const canvas = card.querySelector('canvas.clock');
      const ctx = canvas.getContext('2d');
      const match = /([0-9]+)ì‹œ\s+([0-9]+)ë¶„/.exec(card.querySelector('.ako').textContent);
      const hh = match ? parseInt(match[1])%12 : 3;
      const mm = match ? parseInt(match[2])%60 : 15;
      const cx = canvas.width/2, cy = canvas.height/2, r = Math.min(cx,cy)-12;
      ctx.clearRect(0,0,canvas.width,canvas.height);
      ctx.lineWidth = 6; ctx.strokeStyle = '#3b82f6';
      ctx.beginPath(); ctx.arc(cx,cy,r,0,Math.PI*2); ctx.stroke();
      ctx.lineWidth = 2; ctx.strokeStyle = '#93c5fd';
      for(let i=0;i<60;i++){
        const ang=i*Math.PI/30, len=(i%5===0)?10:5;
        const x1=cx+Math.cos(ang)*(r-4), y1=cy+Math.sin(ang)*(r-4);
        const x2=cx+Math.cos(ang)*(r-4-len), y2=cy+Math.sin(ang)*(r-4-len);
        ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
      }
      const hourAng=((hh%12)+mm/60)*Math.PI/6, minAng=(mm)*Math.PI/30;
      ctx.lineCap='round';
      ctx.lineWidth=5; ctx.strokeStyle='#e5e7eb';
      ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx+Math.cos(hourAng)*(r*0.55), cy+Math.sin(hourAng)*(r*0.55)); ctx.stroke();
      ctx.lineWidth=3; ctx.strokeStyle='#e5e7eb';
      ctx.beginPath(); ctx.moveTo(cx,cy); ctx.lineTo(cx+Math.cos(minAng)*(r*0.8), cy+Math.sin(minAng)*(r*0.8)); ctx.stroke();
      ctx.fillStyle='#e5e7eb'; ctx.beginPath(); ctx.arc(cx,cy,4,0,Math.PI*2); ctx.fill();
    }

    cardsEl.appendChild(card);
  });
}

document.getElementById('btn-new').addEventListener('click', render);
document.getElementById('btn-stop').addEventListener('click', stopSpeech);
document.getElementById('polite').addEventListener('change', render);
document.getElementById('showFrontQ').addEventListener('change', render);
window.addEventListener('load', render);
</script>
</body>
</html>

	
